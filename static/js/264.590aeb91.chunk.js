"use strict";(self.webpackChunkstarwars=self.webpackChunkstarwars||[]).push([[264],{758:function(n,e,t){t.d(e,{Z:function(){return a}});var i=t(96015),r=t(94162),o=t(4565),s=t(80184);function a(n){var e=n.reason,t=n.debug;return(0,s.jsx)(i.Z,{marginY:5,width:"100%",children:(0,s.jsxs)(r.Z,{direction:"column",spacing:5,justifyContent:"center",alignItems:"center",children:[(0,s.jsx)(o.Z,{variant:"h5",sx:{textTransform:"uppercase"},children:"An error has occurred!"}),(0,s.jsxs)(r.Z,{direction:"column",spacing:1,justifyContent:"center",alignItems:"center",children:[(0,s.jsx)(o.Z,{variant:"body1",fontWeight:700,children:"REASON"}),(0,s.jsx)(o.Z,{variant:"body2",children:e})]}),(0,s.jsxs)(r.Z,{direction:"column",spacing:1,justifyContent:"center",alignItems:"center",children:[(0,s.jsx)(o.Z,{variant:"body1",fontWeight:700,children:"DEBUG"}),(0,s.jsx)(o.Z,{variant:"body2",component:"div",children:(0,s.jsx)("pre",{children:(0,s.jsx)("code",{style:{display:"flex",textAlign:"center"},children:JSON.stringify(t)})})})]})]})})}},64264:function(n,e,t){t.r(e),t.d(e,{default:function(){return Y}});var i=t(1413),r=t(70885),o=t(64317),s=t(36227),a=t(94162),c=t(96580),d=t(4565),l=t(81872),u=t(54871),f=t(72900),x=t(18956),g=t(17205),h=t(96015),v=t(45629),j=t(79729),Z=t(31651),m=t(758),p=t(73808),F=t(47194),y=t(32619),I=t(23176),C=t(54596),b=t(45173),w=t(72791),k=t(763),L=t(65218),_=t(50873),P=t(92546),M=t(18581),S=function(n){return n.favoriteFilms},U=function(n){return n.favoritesConfig},E=M.VL.getSelectors((function(n){return n.favoriteFilms})),N=E.selectAll,T=(E.selectById,E.selectEntities,E.selectIds,E.selectTotal,(0,_.P1)(U,(function(n){return n.mutatingFavorites}))),A=(0,_.P1)(U,(function(n){return!!n.showCurrentFavsList})),R=((0,_.P1)(N,(function(n){var e={};return n.forEach((function(n){e[n.episodeId]=(0,i.Z)({},n)})),e})),(0,_.P1)(N,(function(n){return(0,P.ZP)(n,(function(n){return n.filter((function(n){return!!n.isCurrentFavorite})).sort((function(n,e){return n.lastUpdated<e.lastUpdated?1:-1}))}))})),(0,_.P1)(S,(function(n){return n.extraFetchParams})),(0,_.P1)(N,S,(function(n,e){var t,i,r=null!==(t=e.extraFetchParams)&&void 0!==t&&t.equalTo?null!==(i=e.filteredFavorites)&&void 0!==i?i:[]:n;return(0,P.ZP)(r,(function(n){return n.filter((function(n){return!!n.isCurrentFavorite})).sort((function(n,e){return n.lastUpdated<e.lastUpdated?1:-1}))}))})),t(76132)),z=t(13811),O=t(5682),W=t(73978),D=t(4346),q=t(11087),B=t(17237),G=t(25777),J=t(80184);function V(n){var e=n.favorite,t=n.isWorking,i=n.toggle;return(0,J.jsxs)(R.ZP,{sx:{opacity:t?.3:1},secondaryAction:(0,J.jsx)(z.Z,{edge:"end","aria-label":"delete",onClick:function(){return i(e)},disabled:t,"data-tooltip-id":"tooltip","data-tooltip-content":"Toggle favorite",children:(0,J.jsx)(B.Z,{color:e.isCurrentFavorite?"error":"disabled"})}),children:[(0,J.jsx)(O.Z,{sx:{mr:2},children:(0,J.jsx)(W.Z,{src:"".concat("","/assets/poster-img/").concat(e.episodeId,".png"),sx:{width:80,height:80}})}),(0,J.jsx)(D.Z,{primary:(0,J.jsx)(q.rU,{to:"./".concat(e.fireId),children:(0,J.jsx)(a.Z,{direction:"row",justifyContent:"start",alignItems:"center",children:(0,J.jsx)(d.Z,{variant:"h5",children:"Ep. ".concat(e.episodeId)})})}),secondary:(0,J.jsxs)(d.Z,{variant:"body1",children:["Updated: ",(0,J.jsx)(G.Z,{dateInMilli:e.lastUpdated})," ago "]})})]},e.fireId)}var X=t(48490);function Y(){var n=(0,C.Z)().isMobile,e=(0,o.T)(),t=(0,j.eE)(),_=(0,r.Z)(t,2),P=_[0],M=(_[1],(0,j.oo)(void 0,{selectFromResult:function(n){var e;return(0,i.Z)((0,i.Z)({},n),{},{onlyFavorites:null===(e=n.data)||void 0===e?void 0:e.filter((function(n){return n.isCurrentFavorite}))})}})),S=M.data,U=M.onlyFavorites,E=M.isLoading,N=M.isFetching,R=M.isError,z=M.error,O=M.fulfilledTimeStamp,W=M.startedTimeStamp,D=M.refetch,q=(null!==O&&void 0!==O?O:0)-(null!==W&&void 0!==W?W:0),B=(0,o.C)(T),G=(0,o.C)(A),Y=function(n){var e=(0,k.cloneDeep)(n);e&&(e.isCurrentFavorite=!e.isCurrentFavorite,e.lastUpdated=(new Date).getTime(),P(e).then((function(n){return L.ZP.success("".concat(e.isCurrentFavorite?"Added":"Removed"," Ep. ").concat(e.episodeId," as favorites"))})))};return E?(0,J.jsx)(a.Z,{direction:"column",width:"100%",justifyContent:"center",alignItems:"center",height:"100vh",children:(0,J.jsx)(Z.Z,{message:"Favorites"})}):R?(0,J.jsx)(m.Z,{reason:z.status,debug:z.error}):U&&S?(0,J.jsxs)(a.Z,{direction:"column",width:"100%",children:[(0,J.jsx)(p.Z,{toolbarProps:{position:"sticky",sx:{top:n?"56px":"64px"}},children:(0,J.jsxs)(s.Z,{container:!0,xs:12,children:[(0,J.jsx)(s.Z,{xs:4,children:(0,J.jsx)(a.Z,{direction:"row",justifyContent:"start",alignItems:"center",width:"100%"})}),(0,J.jsx)(s.Z,{xs:8,xsOffset:"auto",display:"flex",children:(0,J.jsxs)(a.Z,{direction:"row",justifyContent:"end",alignItems:"center",width:"100%",spacing:2,"data-tooltip-id":"general-tooltip","data-tooltip-content":"Refresh",children:[N&&(0,J.jsx)(c.Z,{size:20}),!N&&(0,J.jsxs)(d.Z,{fontSize:11,component:"div",children:["Last fetched ",(0,J.jsx)(F.Z,{dateInMilli:null!==O&&void 0!==O?O:0}),", took: ",(0,J.jsx)(y.Z,{durationInMilli:q})]}),(0,J.jsx)(l.Z,{orientation:"vertical",flexItem:!0,variant:"middle"}),(0,J.jsxs)(a.Z,{direction:"row",justifyContent:"end",alignItems:"center",children:[(0,J.jsx)(u.Z,{children:(0,J.jsx)(f.Z,{control:(0,J.jsx)(x.Z,{checked:G,onChange:function(n){e((0,X._)(n.target.checked))}}),label:"Show Current Favorites"})}),(0,J.jsx)(g.Z,{variant:"outlined",startIcon:(0,J.jsx)(I.Z,{}),onClick:function(){var n=D();L.ZP.promise(n,{loading:"Getting latest...",success:"Successfully refreshed all favorites!",error:"Error refreshing favorites"})},children:"Refresh Favorites"})]})]})})]})}),(0,J.jsx)(h.Z,{mt:2,mx:n?2:0,children:(0,J.jsxs)(b.Z,{size:"skinny",children:[G&&(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(l.Z,{sx:{width:"100%",alignItems:"flex-start",mb:4},children:"Current Favorites"}),(0,J.jsx)(v.Z,{dense:!1,sx:{width:"100%"},children:U.map((function(n){var e=B[n.fireId];return(0,J.jsxs)(w.Fragment,{children:[(0,J.jsx)(V,{isWorking:e,favorite:n,toggle:Y}),(0,J.jsx)(l.Z,{variant:"inset",component:"li"})]},n.fireId)}))})]}),(0,J.jsx)(l.Z,{sx:{width:"100%",alignItems:"flex-start",my:4},children:"All"}),(0,J.jsx)(v.Z,{dense:!1,sx:{width:"100%"},children:S.map((function(n){var e=B[n.fireId];return(0,J.jsxs)(w.Fragment,{children:[(0,J.jsx)(V,{isWorking:e,favorite:n,toggle:Y}),(0,J.jsx)(l.Z,{variant:"inset",component:"li"})]},n.fireId)}))})]})})]}):(0,J.jsx)(J.Fragment,{})}},47194:function(n,e,t){var i=t(29158),r=t(80184);e.Z=function(n){var e=n.dateInMilli;return(0,r.jsx)(r.Fragment,{children:void 0!==e&&(0,i.Z)(e,"MM/dd/yyyy p")})}},25777:function(n,e,t){var i=t(55763),r=t(80184);e.Z=function(n){var e=n.dateInMilli;return(0,r.jsx)(r.Fragment,{children:void 0!==e&&(0,i.Z)(e,{includeSeconds:!0})})}},32619:function(n,e,t){var i=t(51943),r=t(80184);e.Z=function(n){var e=n.durationInMilli;return(0,r.jsx)(r.Fragment,{children:e>1e3?(0,i.Z)(0,e,{includeSeconds:!0}):e+" ms"})}},45173:function(n,e,t){var i=t(36227),r=t(80184);e.Z=function(n){var e=n.size,t=void 0===e?"med":e,o=n.children;return(0,r.jsx)(i.Z,{container:!0,spacing:0,xs:12,xsOffset:0,sm:"full"===t?12:"med"===t?7:4,smOffset:"full"===t?0:"med"===t?2.5:4,children:o})}},73808:function(n,e,t){t.d(e,{Z:function(){return c}});var i=t(1413),r=t(22892),o=t(44666),s=t(43906),a=t(80184);function c(n){var e=n.toolbarProps,t=n.children;return(0,a.jsx)(r.Z,(0,i.Z)((0,i.Z)({elevation:0},e),{},{children:(0,a.jsx)(o.Z,{variant:"regular",sx:{bgcolor:function(n){return"light"===n.palette.mode?s.s[100]:null},color:function(n){return"light"===n.palette.mode?"#000":null},pr:0},children:t})}))}},54596:function(n,e,t){var i=t(52797),r=t(74142);e.Z=function(){var n=(0,r.Z)();return{isMobile:(0,i.Z)(n.breakpoints.down("sm")),isMed:(0,i.Z)(n.breakpoints.down("md")),isLg:(0,i.Z)(n.breakpoints.down("lg")),isXl:(0,i.Z)(n.breakpoints.down("xl"))}}},31651:function(n,e,t){t.d(e,{Z:function(){return s}});t(72791);var i={parentClass:"LoadingLogo_parentClass__NFHXT",loadingLogo:"LoadingLogo_loadingLogo__BqUtz",loadingParent:"LoadingLogo_loadingParent__VASnq","loading-container":"LoadingLogo_loading-container__cjLsJ","whole-page":"LoadingLogo_whole-page__DkCG7",ldsFacebook:"LoadingLogo_ldsFacebook__pRdY2","lds-facebook":"LoadingLogo_lds-facebook__JLntj"},r=t(77783),o=t(80184);function s(n){return(0,o.jsxs)("div",{className:"".concat(i.parentClass," w-100"),children:[(0,o.jsx)("div",{children:(0,o.jsx)("div",{className:i.loadingLogo,children:(0,o.jsx)("img",{src:r,className:"".concat(i.logoImg," d-inline-block"),alt:"logo"})})}),(0,o.jsx)("div",{className:i.loadingParent,children:(0,o.jsxs)("div",{className:i.ldsFacebook,children:[(0,o.jsx)("div",{}),(0,o.jsx)("div",{}),(0,o.jsx)("div",{})]})}),(0,o.jsxs)("div",{className:i.secfont,children:["Loading ",n.message," ..."]})]})}}}]);
//# sourceMappingURL=264.590aeb91.chunk.js.map