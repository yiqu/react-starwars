"use strict";(self.webpackChunkstarwars=self.webpackChunkstarwars||[]).push([[258],{4258:function(e,n,t){t.r(n),t.d(n,{default:function(){return G}});var r=t(885),a=t(2791),i=t(8275),l=t(4565),o=t(7205),s=t(5645),c=t(788),u=t(464),d=t(8440),p=t(7248),h=t(9823),x=t(4162),f=t(3811),m=t(1872),g=t(3329),v=t(6753),j=t(5705),Z=t(1413),b=t(8823),y=t(9911),C=t(3319),w=t(5987),S=t(1898),E=t(9365),F=t(7924),I=t(6494),O=t(184),T=["label","name","options","loading","validate"],k=function(e){var n=e.label,t=e.name,r=e.options,a=e.loading,i=e.validate,l=(0,w.Z)(e,T),o=(0,j.u6)();return(0,O.jsx)(O.Fragment,{children:(0,O.jsxs)(S.Z,{fullWidth:!0,children:[l.showLabel&&(0,O.jsx)(E.Z,{htmlFor:t,children:n}),(0,O.jsx)(j.gN,(0,Z.Z)({as:I.Z,label:n,name:t,id:t,onChange:function(e,n){o.setFieldValue(t,n)},renderInput:function(e){return(0,O.jsx)(y.Z,(0,Z.Z)((0,Z.Z)({},e),{},{name:t,variant:"standard",label:a?"Loading ".concat(t,"..."):"Select ".concat(t),placeholder:n,error:o.touched[t]&&!!o.errors[t]}))},getOptionLabel:function(e){return e.id},validate:i,options:r,loading:a},l.props)),(0,O.jsx)(F.Z,{id:"".concat(t,"-helper-text"),error:o.touched[t]&&!!o.errors[t],children:o.touched[t]&&o.errors[t]?(0,O.jsx)(j.Bc,{name:t}):(0,O.jsx)(O.Fragment,{children:l.helperText})})]})})},L=t(5051),N=t(2851),D=t(5702),_=["label","name","validate"],H=function(e){var n,t=e.label,r=e.name,a=e.validate,i=(0,w.Z)(e,_),o=(0,j.u6)();return(0,O.jsx)(O.Fragment,{children:(0,O.jsxs)(S.Z,{fullWidth:!0,children:[(0,O.jsx)(E.Z,{id:r,children:t}),(0,O.jsxs)(j.gN,(0,Z.Z)((0,Z.Z)({as:N.Z,label:t,name:r,id:r,error:o.touched[r]&&!!o.errors[r],validate:a,variant:"standard"},i.props),{},{children:[i.useDefaultNoneSelected&&(0,O.jsx)(D.Z,{value:"NONE_SELECTED",disabled:!0,children:(0,O.jsxs)(l.Z,{sx:{color:"#666"},children:["Select ",i.useDefaultNoneSelected]})},""),null===(n=i.options)||void 0===n?void 0:n.map((function(e){var n,t,r=null!==(n=e.display)&&void 0!==n?n:e,a=null!==(t=e.value)&&void 0!==t?t:e;return(0,O.jsx)(D.Z,{value:a,children:r},e.value)}))]})),(0,O.jsx)(F.Z,{id:"".concat(r,"-helper-text"),error:o.touched[r]&&!!o.errors[r],children:o.touched[r]&&o.errors[r]?(0,O.jsx)(O.Fragment,{children:(0,O.jsx)(j.Bc,{name:r})}):(0,O.jsx)(O.Fragment,{children:i.helperText})})]})})},R=function(e){switch(e.type){case"select":var n;return(0,O.jsx)(O.Fragment,{children:(0,O.jsx)(H,(0,Z.Z)({name:e.name,label:e.label,options:null!==(n=e.options)&&void 0!==n?n:[]},e))});case"text":return(0,O.jsx)(O.Fragment,{children:(0,O.jsx)(L.Z,(0,Z.Z)({name:e.name,label:e.label},e))});case"autocomplete":var t;return(0,O.jsx)(O.Fragment,{children:(0,O.jsx)(k,(0,Z.Z)({name:e.name,label:e.label,options:null!==(t=e.props.options)&&void 0!==t?t:[],loading:e.props.loading},e))});default:return(0,O.jsx)(O.Fragment,{children:" No component matched... "})}},q=t(8937),B=t(7907),M=t(2068),V=t(2175),W=t(6884),z=function(e,n){var t=(0,a.useState)(n),i=(0,r.Z)(t,2),l=i[0],o=i[1];(0,W.Z)((function(){o((function(e){return(0,Z.Z)((0,Z.Z)({},e),n)}))}),[n]);var s=(0,M.Z)([e,l],V.Lt),c=s.data,u=s.error;return{data:null===c||void 0===c?void 0:c.results,loading:!u&&void 0===c,isError:u}},A=(0,O.jsx)(q.Z,{fontSize:"small"}),P=(0,O.jsx)(B.Z,{fontSize:"small"}),Y=function(e){var n=(0,j.u6)(),t=(0,a.useState)([]),i=(0,r.Z)(t,2),l=i[0],o=i[1],s=z("people",V.cs),c=s.data,u=(s.isError,s.loading,z("starships",V.cs)),d=u.data,p=(u.isError,u.loading,z("vehicles",V.cs)),h=p.data,x=(p.isError,p.loading,z("planets",V.cs)),f=x.data,m=(x.isError,x.loading,z("species",V.cs)),g=m.data;m.isError,m.loading;return(0,a.useEffect)((function(){console.log(n.values)}),[n.values]),(0,a.useEffect)((function(){o(J)}),[]),(0,a.useEffect)((function(){c&&c.length>-1&&o((function(e){var n=e.findIndex((function(e){return"characters"===e.name}));return e[n].props.options=c,e[n].props.loading=!1,e}))}),[c]),(0,a.useEffect)((function(){d&&d.length>-1&&o((function(e){var n=e.findIndex((function(e){return"starships"===e.name}));return e[n].props.options=d,e[n].props.loading=!1,e}))}),[d]),(0,a.useEffect)((function(){h&&h.length>-1&&o((function(e){var n=e.findIndex((function(e){return"vehicles"===e.name}));return e[n].props.options=h,e[n].props.loading=!1,e}))}),[h]),(0,a.useEffect)((function(){f&&f.length>-1&&o((function(e){var n=e.findIndex((function(e){return"planets"===e.name}));return e[n].props.options=f,e[n].props.loading=!1,e}))}),[f]),(0,a.useEffect)((function(){g&&g.length>-1&&o((function(e){var n=e.findIndex((function(e){return"species"===e.name}));return e[n].props.options=g,e[n].props.loading=!1,e}))}),[g]),(0,O.jsx)(j.l0,{children:(0,O.jsx)(C.Z,{container:!0,spacing:2,children:l.map((function(e){return(0,O.jsx)(C.Z,{xs:12,children:R(e)},e.name)}))})})},J=[{name:"title",label:"Title",helperText:"Your film title",type:"text",props:{variant:"outlined"}},{name:"director",label:"Director",helperText:"Yourself! Or someone else..",type:"text",props:{variant:"outlined"}},{name:"characters",label:"Characters",helperText:"Core people in your film",type:"autocomplete",props:{options:[],autoHighlight:!0,multiple:!0,disableCloseOnSelect:!0,getOptionLabel:function(e){return e.name},renderOption:function(e,n,t){var r=t.selected;return(0,O.jsxs)("li",(0,Z.Z)((0,Z.Z)({},e),{},{style:{height:"2rem"},children:[(0,O.jsx)(b.Z,{icon:A,checkedIcon:P,style:{marginRight:8},checked:r}),n.name]}))},renderInput:function(e){return(0,O.jsx)(y.Z,(0,Z.Z)((0,Z.Z)({},e),{},{label:"Select your characters",placeholder:"Characters",variant:"outlined"}))},noOptionsText:"No characters available",loadingText:"Loading characters...",loading:!0}},{name:"openingCrawl",label:"Opening Crawl Text",type:"textarea"},{name:"planets",label:"Planets",type:"autocomplete",props:{autoHighlight:!0,multiple:!0,disableCloseOnSelect:!0,getOptionLabel:function(e){return e.name}}},{name:"species",label:"Species",type:"autocomplete",props:{autoHighlight:!0,multiple:!0,disableCloseOnSelect:!0,getOptionLabel:function(e){return e.name}}},{name:"vehicles",label:"Vehicles",type:"autocomplete",props:{autoHighlight:!0,multiple:!0,disableCloseOnSelect:!0,getOptionLabel:function(e){return e.name}}},{name:"starships",label:"starships",type:"autocomplete",props:{autoHighlight:!0,multiple:!0,disableCloseOnSelect:!0,getOptionLabel:function(e){return e.name}}}],K=t(3123),U=K.Ry({title:K.Z_().required(),director:K.Z_().required().min(1),characters:K.IX().min(1,"At least one character is required")}),X=function(e){var n=function(n,t){"backdropClick"!==t&&e.onClose(null)};return(0,O.jsx)(j.J9,{initialValues:{title:"",director:"",characters:[],starships:[],opening_crawl:"",planets:[],species:[],vehicles:[]},onSubmit:function(e){console.log(e)},validationSchema:U,children:function(t){return(0,O.jsx)(O.Fragment,{children:(0,O.jsxs)(c.Z,{onClose:n,open:e.open,disableEscapeKeyDown:!0,children:[(0,O.jsx)(u.Z,{bgcolor:"primary.main",color:"white",children:(0,O.jsxs)(x.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,O.jsx)("div",{children:e.isEditMode?"Editing":"Create New Movie"}),(0,O.jsx)("div",{children:(0,O.jsx)(f.Z,{sx:{color:"white"},onClick:n,children:(0,O.jsx)(h.Z,{})})})]})}),(0,O.jsx)(m.Z,{}),(0,O.jsx)(d.Z,{children:(0,O.jsx)(Y,{})}),(0,O.jsxs)(p.Z,{children:[(0,O.jsx)(o.Z,{variant:"text",startIcon:(0,O.jsx)(v.Z,{}),onClick:t.handleReset,children:"Reset"}),(0,O.jsx)(o.Z,{variant:"text",startIcon:(0,O.jsx)(g.Z,{}),onClick:t.submitForm,children:"Save"})]})]})})}})},G=function(){var e=(0,a.useState)(!1),n=(0,r.Z)(e,2),t=n[0],c=n[1];return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(i.Z,{container:!0,children:(0,O.jsxs)(i.Z,{container:!0,mx:2,my:2,xs:12,spacing:2,children:[(0,O.jsx)(i.Z,{xs:12,sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:(0,O.jsx)(l.Z,{variant:"h6",children:"Create your own Starwars movie."})}),(0,O.jsx)(i.Z,{xs:12,sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:(0,O.jsx)(l.Z,{variant:"body2",children:"Try adding your own movie with starships, vehicles, species, and planets."})}),(0,O.jsx)(i.Z,{xs:12,sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:(0,O.jsx)(o.Z,{variant:"contained",startIcon:(0,O.jsx)(s.Z,{}),onClick:function(){c(!0)},children:"Add New Movie"})})]})}),t&&(0,O.jsx)(X,{onClose:function(){c(!1)},open:t})]})}},5051:function(e,n,t){var r=t(1413),a=t(5987),i=(t(2791),t(9911)),l=t(5705),o=t(1898),s=t(9365),c=t(7924),u=t(184),d=["label","name","valueChange","validate"];n.Z=function(e){var n=e.label,t=e.name,p=(e.valueChange,e.validate),h=(0,a.Z)(e,d),x=(0,l.u6)();return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(o.Z,{fullWidth:!0,children:[h.showLabel&&(0,u.jsx)(s.Z,{htmlFor:t,children:n}),(0,u.jsx)(l.gN,(0,r.Z)({as:i.Z,label:n,name:t,id:t,error:x.touched[t]&&!!x.errors[t],validate:p,variant:"standard"},h.props)),(0,u.jsx)(c.Z,{id:"".concat(t,"-helper-text"),error:x.touched[t]&&!!x.errors[t],children:x.touched[t]&&x.errors[t]?(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(l.Bc,{name:t})}):(0,u.jsx)(u.Fragment,{children:h.helperText})})]})})}},2175:function(e,n,t){t.d(n,{Lt:function(){return d},cs:function(){return s},ho:function(){return u}});var r=t(4165),a=t(5861),i=t(4569),l=t.n(i),o=t(5316),s={limit:1e4,page:1},c=l().create({baseURL:"https://swapi.tech/api/",timeout:5e3,headers:{"Content-Type":"application/json"},responseType:"json"}),u=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return c.get(e,{params:n})},d=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n,t){var a,i=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=i.length>2&&void 0!==i[2]?i[2]:0)){e.next=4;break}return e.next=4,(0,o._)(a);case 4:return e.next=6,u(n,t).then((function(e){return e.data})).catch((function(e){if(409!==e.response.status)throw e}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()},5316:function(e,n,t){function r(e){return new Promise((function(n,t){setTimeout((function(){n()}),e)}))}t.d(n,{_:function(){return r}})}}]);
//# sourceMappingURL=258.194fe3e6.chunk.js.map