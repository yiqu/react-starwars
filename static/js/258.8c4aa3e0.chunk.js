"use strict";(self.webpackChunkstarwars=self.webpackChunkstarwars||[]).push([[258],{4258:function(e,n,t){t.r(n),t.d(n,{default:function(){return G}});var r=t(885),l=t(2791),i=t(8275),a=t(4565),s=t(7205),o=t(5645),c=t(788),u=t(464),d=t(8440),h=t(7248),p=t(9823),x=t(4162),m=t(3811),f=t(1872),j=t(3329),Z=t(6753),g=t(5705),v=t(1413),b=t(8823),y=t(9911),C=t(3319),w=t(5987),S=t(1898),F=t(9365),O=t(7924),T=t(6494),k=t(184),E=["label","name","options","loading"],L=function(e){var n=e.label,t=e.name,r=e.options,l=e.loading,i=(0,w.Z)(e,E),a=(0,g.u6)();return(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)(S.Z,{fullWidth:!0,children:[i.showLabel&&(0,k.jsx)(F.Z,{htmlFor:t,children:n}),(0,k.jsx)(g.gN,(0,v.Z)((0,v.Z)({as:T.Z,label:n,name:t,id:t,disabled:l},i.props),{},{onChange:function(e,n){a.setFieldValue(t,n)},options:r,loading:l,renderInput:function(e){return(0,k.jsx)(y.Z,(0,v.Z)((0,v.Z)({},e),{},{label:l?"Loading ".concat(t,"..."):"Select ".concat(t),placeholder:n,error:a.touched[t]&&!!a.errors[t]}))}})),(0,k.jsx)(O.Z,{id:"".concat(t,"-helper-text"),error:a.touched[t]&&!!a.errors[t],children:a.touched[t]&&a.errors[t]?(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(g.Bc,{name:t})}):(0,k.jsx)(k.Fragment,{children:i.helperText})})]})})},I=t(5051),N=t(2851),D=t(5702),_=["label","name"],H=function(e){var n,t=e.label,r=e.name,l=(0,w.Z)(e,_),i=(0,g.u6)();return(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)(S.Z,{fullWidth:!0,children:[(0,k.jsx)(F.Z,{id:r,children:t}),(0,k.jsxs)(g.gN,(0,v.Z)((0,v.Z)({as:N.Z,label:t,name:r,id:r,error:i.touched[r]&&!!i.errors[r]},l.props),{},{children:[l.useDefaultNoneSelected&&(0,k.jsx)(D.Z,{value:"NONE_SELECTED",disabled:!0,children:(0,k.jsxs)(a.Z,{sx:{color:"#666"},children:["Select ",l.useDefaultNoneSelected]})},""),null===(n=l.options)||void 0===n?void 0:n.map((function(e){var n,t,r=null!==(n=e.display)&&void 0!==n?n:e,l=null!==(t=e.value)&&void 0!==t?t:e;return(0,k.jsx)(D.Z,{value:l,children:r},e.value)}))]})),(0,k.jsx)(O.Z,{id:"".concat(r,"-helper-text"),error:i.touched[r]&&!!i.errors[r],children:i.touched[r]&&i.errors[r]?(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(g.Bc,{name:r})}):(0,k.jsx)(k.Fragment,{children:l.helperText})})]})})},R=function(e){switch(e.type){case"select":var n;return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(H,(0,v.Z)({name:e.name,label:e.label,options:null!==(n=e.options)&&void 0!==n?n:[]},e))});case"text":return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(I.Z,(0,v.Z)({name:e.name,label:e.label},e))});case"autocomplete":var t;return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(L,(0,v.Z)({name:e.name,label:e.label,options:null!==(t=e.options)&&void 0!==t?t:[],loading:e.loading},e))});default:return(0,k.jsx)(k.Fragment,{children:" No component matched... "})}},W=t(8937),P=t(7907),q=t(2068),B=t(2175),M=t(6884),V=function(e,n){var t=(0,l.useState)(n),i=(0,r.Z)(t,2),a=i[0],s=i[1];(0,M.Z)((function(){s((function(e){return(0,v.Z)((0,v.Z)({},e),n)}))}),[n]);var o=(0,q.Z)([e,a,3e3],B.Lt),c=o.data,u=o.error;return{data:null===c||void 0===c?void 0:c.results,loading:!u&&void 0===c,isError:u}},z=(0,k.jsx)(W.Z,{fontSize:"small"}),A=(0,k.jsx)(P.Z,{fontSize:"small"}),Y=function(e){var n=(0,g.u6)(),t=(0,l.useState)({}),i=(0,r.Z)(t,2),a=(i[0],i[1],(0,l.useState)([])),s=(0,r.Z)(a,2),o=s[0],c=s[1],u=V("people",B.cs),d=(u.data,u.isError,u.loading,V("starships",B.cs)),h=(d.data,d.isError,d.loading,V("vehicles",B.cs));h.data,h.isError,h.loading;return(0,l.useEffect)((function(){console.log(n.values)}),[n.values]),(0,l.useEffect)((function(){c(J)}),[]),(0,k.jsx)(g.l0,{children:(0,k.jsx)(C.Z,{container:!0,spacing:2,children:o.map((function(e){return(0,k.jsx)(C.Z,{xs:12,md:12,xl:6,children:R(e)},e.name)}))})})},J=[{name:"title",label:"Title",helperText:"Your film title",type:"text"},{name:"director",label:"Director",helperText:"Yourself! Or someone else..",type:"text"},{name:"characters",label:"Characters",helperText:"Core people in your film",type:"autocomplete",props:{autoHighlight:!0,multiple:!0,disableCloseOnSelect:!0,getOptionLabel:function(e){return e.name},renderOption:function(e,n,t){var r=t.selected;return(0,k.jsxs)("li",(0,v.Z)((0,v.Z)({},e),{},{style:{height:"2rem"},children:[(0,k.jsx)(b.Z,{icon:z,checkedIcon:A,style:{marginRight:8},checked:r}),n.name]}))},renderInput:function(e){return(0,k.jsx)(y.Z,(0,v.Z)((0,v.Z)({},e),{},{label:"Select your characters",placeholder:"Characters"}))},noOptionsText:"No characters available",loadingText:"Loading characters..."}},{name:"openingCrawl",label:"Opening Crawl Text",type:"textarea"},{name:"planets",label:"Planets",type:"autocomplete",props:{autoHighlight:!0,multiple:!0,disableCloseOnSelect:!0,getOptionLabel:function(e){return e.name}}},{name:"species",label:"Species",type:"autocomplete",props:{autoHighlight:!0,multiple:!0,disableCloseOnSelect:!0,getOptionLabel:function(e){return e.name}}},{name:"vehicles",label:"Vehicles",type:"autocomplete",props:{autoHighlight:!0,multiple:!0,disableCloseOnSelect:!0,getOptionLabel:function(e){return e.name}}},{name:"starships",label:"starships",type:"autocomplete",props:{autoHighlight:!0,multiple:!0,disableCloseOnSelect:!0,getOptionLabel:function(e){return e.name}}}],K=t(3123),U=K.Ry({title:K.Z_().required(),director:K.Z_().required().min(1),characters:K.IX().min(1,"At least one character is required")}),X=function(e){var n=function(n,t){"backdropClick"!==t&&e.onClose(null)};return(0,k.jsx)(g.J9,{initialValues:{title:"",director:"",characters:[],starships:[],opening_crawl:"",planets:[],species:[],vehicles:[]},onSubmit:function(e){console.log(e)},validationSchema:U,children:function(t){return(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)(c.Z,{onClose:n,open:e.open,disableEscapeKeyDown:!0,maxWidth:"md",PaperProps:{sx:{minWidth:"calc(100% - 50rem)"}},children:[(0,k.jsx)(u.Z,{bgcolor:"primary.main",color:"white",children:(0,k.jsxs)(x.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,k.jsx)("div",{children:e.isEditMode?"Editing":"Create New Movie"}),(0,k.jsx)("div",{children:(0,k.jsx)(m.Z,{sx:{color:"white"},onClick:n,children:(0,k.jsx)(p.Z,{})})})]})}),(0,k.jsx)(f.Z,{}),(0,k.jsx)(d.Z,{children:(0,k.jsx)(Y,{})}),(0,k.jsxs)(h.Z,{children:[(0,k.jsx)(s.Z,{variant:"text",startIcon:(0,k.jsx)(Z.Z,{}),onClick:t.handleReset,children:"Reset"}),(0,k.jsx)(s.Z,{variant:"text",startIcon:(0,k.jsx)(j.Z,{}),onClick:t.submitForm,children:"Save"})]})]})})}})},G=function(){var e=(0,l.useState)(!1),n=(0,r.Z)(e,2),t=n[0],c=n[1];return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(i.Z,{container:!0,children:(0,k.jsxs)(i.Z,{container:!0,mx:2,my:2,xs:12,spacing:2,children:[(0,k.jsx)(i.Z,{xs:12,sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:(0,k.jsx)(a.Z,{variant:"h6",children:"Create your own Starwars movie!"})}),(0,k.jsx)(i.Z,{xs:12,sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:(0,k.jsx)(a.Z,{variant:"body2",children:"Try adding your own movie with starships, vehicles, species, and planets."})}),(0,k.jsx)(i.Z,{xs:12,sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:(0,k.jsx)(s.Z,{variant:"contained",startIcon:(0,k.jsx)(o.Z,{}),onClick:function(){c(!0)},children:"Add New Movie"})})]})}),(0,k.jsx)(X,{onClose:function(){c(!1)},open:t})]})}},5051:function(e,n,t){var r=t(1413),l=t(5987),i=(t(2791),t(9911)),a=t(5705),s=t(1898),o=t(9365),c=t(7924),u=t(184),d=["label","name","valueChange"];n.Z=function(e){var n=e.label,t=e.name,h=(e.valueChange,(0,l.Z)(e,d)),p=(0,a.u6)();return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(s.Z,{fullWidth:!0,children:[h.showLabel&&(0,u.jsx)(o.Z,{htmlFor:t,children:n}),(0,u.jsx)(a.gN,(0,r.Z)({as:i.Z,label:n,name:t,id:t,error:p.touched[t]&&!!p.errors[t]},h.props)),(0,u.jsx)(c.Z,{id:"".concat(t,"-helper-text"),error:p.touched[t]&&!!p.errors[t],children:p.touched[t]&&p.errors[t]?(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(a.Bc,{name:t})}):(0,u.jsx)(u.Fragment,{children:h.helperText})})]})})}},2175:function(e,n,t){t.d(n,{Lt:function(){return d},cs:function(){return o},ho:function(){return u}});var r=t(4165),l=t(5861),i=t(4569),a=t.n(i),s=t(5316),o={limit:1e4,page:1},c=a().create({baseURL:"https://swapi.tech/api/",timeout:5e3,headers:{"Content-Type":"application/json"},responseType:"json"}),u=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return c.get(e,{params:n})},d=function(){var e=(0,l.Z)((0,r.Z)().mark((function e(n,t){var l,i=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(l=i.length>2&&void 0!==i[2]?i[2]:0)){e.next=4;break}return e.next=4,(0,s._)(l);case 4:return e.next=6,u(n,t).then((function(e){return e.data})).catch((function(e){if(409!==e.response.status)throw e}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()},5316:function(e,n,t){function r(e){return new Promise((function(n,t){setTimeout((function(){n()}),e)}))}t.d(n,{_:function(){return r}})}}]);
//# sourceMappingURL=258.8c4aa3e0.chunk.js.map