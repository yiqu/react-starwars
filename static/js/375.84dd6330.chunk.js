"use strict";(self.webpackChunkstarwars=self.webpackChunkstarwars||[]).push([[375],{7686:function(e,t,n){n.d(t,{F:function(){return l}});var o=n(4165),r=n(5861),a=n(4569),i=n.n(a)().create({baseURL:"https://swapi.tech/api/",timeout:5e3,headers:{"Content-Type":"application/json"},responseType:"json"}),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return i.get(e,{params:t})},c=n(5316),l=function(){var e=(0,r.Z)((0,o.Z)().mark((function e(t,n){var r,a=arguments;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=a.length>2&&void 0!==a[2]?a[2]:0)){e.next=4;break}return e.next=4,(0,c._)(r);case 4:return e.next=6,s(t,n).then((function(e){return e.data})).catch((function(e){if(409!==e.response.status)throw e}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},1375:function(e,t,n){n.r(t),n.d(t,{default:function(){return oe}});var o=n(885),r=(0,n(3542).Z)(),a=n(2791),i=n(4165),s=n(5861),c=n(4569),l=n.n(c)().create({baseURL:"https://kq-1-1a499.firebaseio.com/",timeout:5e3,headers:{"Content-Type":"application/json"},responseType:"json"}),d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return l.get(e+".json",{params:t})},u=n(5316),p="swdb/",v=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(t,n){var o,r,a=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(o=a.length>2&&void 0!==a[2]?a[2]:0)){e.next=4;break}return e.next=4,(0,u._)(o);case 4:return r="".concat(p).concat(t,"/favorites"),e.next=7,d(r,n).then((function(e){return e.data})).catch((function(e){if(409!==e.response.status)throw e}));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=function(e,t){var n,o,r="".concat(p).concat(e,"/favorites");return n=r,o=t,l.post(n+".json",o)},m=function(e,t){var n,o,r="".concat(p).concat(e,"/favorites/").concat(t.fireId);return n=r,o=t,l.put(n+".json",o)},h=n(1413),x=n(2419),g=function(e){var t=(0,x.ZP)([e.userId,e.params],v,{revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1}),n=t.data,o=t.isValidating,r=t.error,a=t.mutate,i={};n&&Object.keys(null!==n&&void 0!==n?n:{}).forEach((function(e){i[n[e].episodeId]=(0,h.Z)({fireId:e},n[e])}));return{data:i,loading:o||!r&&!n,error:r,mutate:a}},b=n(7686),Z=function(e,t){var n=(0,x.ZP)([e.url,e.params],b.F,{revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1}),o=n.data,r=n.isValidating,a=n.error;return{data:o,loading:r||!a&&!o,error:a,mutate:n.mutate}},y=n(4169),S=n(7462),w=n(3366),C=n(8182),z=n(4419),j=n(277),I=n(5513),R=n(6650),k=n(5878),F=n(1217);function M(e){return(0,F.Z)("MuiCard",e)}(0,k.Z)("MuiCard",["root"]);var T=n(184),N=["className","raised"],E=(0,j.ZP)(R.Z,{name:"MuiCard",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(){return{overflow:"hidden"}})),P=a.forwardRef((function(e,t){var n=(0,I.Z)({props:e,name:"MuiCard"}),o=n.className,r=n.raised,a=void 0!==r&&r,i=(0,w.Z)(n,N),s=(0,S.Z)({},n,{raised:a}),c=function(e){var t=e.classes;return(0,z.Z)({root:["root"]},M,t)}(s);return(0,T.jsx)(E,(0,S.Z)({className:(0,C.Z)(c.root,o),elevation:a?8:void 0,ref:t,ownerState:s},i))}));function W(e){return(0,F.Z)("MuiCardActions",e)}(0,k.Z)("MuiCardActions",["root","spacing"]);var L=["disableSpacing","className"],_=(0,j.ZP)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disableSpacing&&t.spacing]}})((function(e){var t=e.ownerState;return(0,S.Z)({display:"flex",alignItems:"center",padding:8},!t.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})})),O=a.forwardRef((function(e,t){var n=(0,I.Z)({props:e,name:"MuiCardActions"}),o=n.disableSpacing,r=void 0!==o&&o,a=n.className,i=(0,w.Z)(n,L),s=(0,S.Z)({},n,{disableSpacing:r}),c=function(e){var t=e.classes,n={root:["root",!e.disableSpacing&&"spacing"]};return(0,z.Z)(n,W,t)}(s);return(0,T.jsx)(_,(0,S.Z)({className:(0,C.Z)(c.root,a),ownerState:s,ref:t},i))}));function B(e){return(0,F.Z)("MuiCardContent",e)}(0,k.Z)("MuiCardContent",["root"]);var U=["className","component"],V=(0,j.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(){return{padding:16,"&:last-child":{paddingBottom:24}}})),A=a.forwardRef((function(e,t){var n=(0,I.Z)({props:e,name:"MuiCardContent"}),o=n.className,r=n.component,a=void 0===r?"div":r,i=(0,w.Z)(n,U),s=(0,S.Z)({},n,{component:a}),c=function(e){var t=e.classes;return(0,z.Z)({root:["root"]},B,t)}(s);return(0,T.jsx)(V,(0,S.Z)({as:a,className:(0,C.Z)(c.root,o),ownerState:s,ref:t},i))})),D=n(199),q=n(7205),X=n(4565),G=n(1087),H=n(2797),J=n(4142),K=function(){var e=(0,J.Z)();return{isMobile:(0,H.Z)(e.breakpoints.down("sm")),isMed:(0,H.Z)(e.breakpoints.down("md")),isLg:(0,H.Z)(e.breakpoints.down("lg")),isXl:(0,H.Z)(e.breakpoints.down("xl"))}},Q=n(7237),Y=n(3811),$=n(4162),ee=function(e){var t="";return t=null!==e&&void 0!==e&&e.isCurrentFavorite?"Remove from Favorites":"Add to Favorites",null!==e&&void 0!==e&&e.lastUpdated&&(t=t+". "+(e.isCurrentFavorite?"Favorited ":"Unfavorited ")+"on "+new Date(e.lastUpdated)),t},te=function(e){K().isXl;return(0,T.jsxs)(P,{sx:{border:"2px solid #726f53",height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},elevation:4,children:[(0,T.jsxs)("div",{children:[(0,T.jsx)(D.Z,{component:"img",alt:"poster",height:"440",image:"".concat("","/assets/poster-img/").concat(e.film.episode_id,".png"),sx:{backgroundColor:"#000",objectFit:"contain"}}),(0,T.jsxs)(A,{children:[(0,T.jsxs)($.Z,{direction:{lg:"column",xl:"row"},justifyContent:{xl:"space-between",lg:"flex-start"},marginBottom:{lg:"10px",xl:"0px"},children:[(0,T.jsx)(X.Z,{gutterBottom:!0,variant:"h5",component:G.rU,to:"./".concat(e.uid),sx:{fontFamily:"Poppins",fontWeight:"500"},children:e.film.title}),(0,T.jsxs)(X.Z,{variant:"h5",color:"text.secondary",sx:{fontWeight:"300"},children:["EP ",e.film.episode_id]})]}),(0,T.jsxs)(X.Z,{variant:"body2",color:"text.secondary",children:["Released: ",e.film.release_date]}),(0,T.jsxs)(X.Z,{variant:"body2",color:"text.secondary",children:["Directed by: ",e.film.director]}),(0,T.jsxs)(X.Z,{variant:"body2",color:"text.secondary",children:["Produced by: ",e.film.producer]}),(0,T.jsx)(X.Z,{variant:"body2",color:"text.primary",sx:{mt:"10px"},children:e.film.opening_crawl})]})]}),(0,T.jsxs)(O,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,T.jsx)("div",{children:(0,T.jsx)(q.Z,{size:"small",component:G.rU,to:"./".concat(e.uid),children:"Learn More"})}),(0,T.jsx)("div",{children:(0,T.jsx)(Y.Z,{"aria-label":"favorite",onClick:function(){e.onFavoriteToggle(e.film,e.favorited)},title:ee(e.favorited),children:(0,T.jsx)(Q.Z,{color:e.film.userFavorited?"error":"disabled"})})})]})]})},ne="yqu",oe=function(){var e=Array.from(Array(3).keys()),t=(0,a.useState)(!1),n=(0,o.Z)(t,2),i=(n[0],n[1]),s=(0,a.useState)(0),c=(0,o.Z)(s,2),l=c[0],d=c[1],u=g({userId:ne,params:{fetchTime:l}}),p=u.data,v=(u.error,u.loading,u.mutate,Z({url:"films",params:{fetchTime:0}},p)),h=v.data,x=v.error,b=v.loading,S=(v.mutate,(0,a.useMemo)((function(){var e,t=null!==(e=null===h||void 0===h?void 0:h.result)&&void 0!==e?e:[];return t&&t.sort((function(e,t){return e.properties.episode_id>t.properties.episode_id?1:-1})),t.forEach((function(e){var t;e.properties.userFavorited=null===(t=p[e.properties.episode_id])||void 0===t?void 0:t.isCurrentFavorite})),t}),[h,p])),w=function(e,t){var n=e.url,o=n.split("/")[n.split("/").length-1],r={filmUrl:n,filmId:o,lastUpdated:(new Date).getTime(),episodeId:e.episode_id,isCurrentFavorite:!0};i(!0),t?(r.isCurrentFavorite=!t.isCurrentFavorite,r.fireId=t.fireId,m(ne,r).then((function(e){})).catch((function(e){})).finally((function(){i(!1),d((new Date).getTime())}))):f(ne,r).then((function(e){})).catch((function(e){})).finally((function(){i(!1),d((new Date).getTime())}))};return(0,T.jsxs)(r,{xs:12,container:!0,spacing:2,mx:2,my:2,children:[x&&(0,T.jsx)("div",{children:"Error occured:"}),b?(0,T.jsx)(T.Fragment,{children:e.map((function(e){return(0,T.jsxs)(r,{xs:4,children:[" ",(0,T.jsx)(y.Z,{})," "]},e)}))}):null===S||void 0===S?void 0:S.map((function(e){return(0,T.jsx)(r,{xs:12,sm:6,md:4,lg:4,xl:4,children:(0,T.jsx)(te,{film:e.properties,onFavoriteToggle:w,favorited:p[e.properties.episode_id],uid:e.uid})},e.properties.episode_id)}))]})}},4169:function(e,t,n){n(2791);var o=n(1441),r=n(4162),a=n(184);t.Z=function(){return(0,a.jsxs)(r.Z,{spacing:1,children:[(0,a.jsx)(o.Z,{variant:"text",sx:{fontSize:"1rem"}}),(0,a.jsx)(o.Z,{variant:"circular",width:40,height:40}),(0,a.jsx)(o.Z,{variant:"rectangular",width:"100%",height:60}),(0,a.jsx)(o.Z,{variant:"rounded",width:"100%",height:60})]})}},5316:function(e,t,n){function o(e){return new Promise((function(t,n){setTimeout((function(){t()}),e)}))}n.d(t,{_:function(){return o}})},7205:function(e,t,n){n.d(t,{Z:function(){return j}});var o=n(4942),r=n(3366),a=n(7462),i=n(2791),s=n(8182),c=n(5735),l=n(4419),d=n(2065),u=n(277),p=n(5513),v=n(753),f=n(9853),m=n(5878),h=n(1217);function x(e){return(0,h.Z)("MuiButton",e)}var g=(0,m.Z)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var b=i.createContext({}),Z=n(184),y=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],S=function(e){return(0,a.Z)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},w=(0,u.ZP)(v.Z,{shouldForwardProp:function(e){return(0,u.FO)(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat((0,f.Z)(n.color))],t["size".concat((0,f.Z)(n.size))],t["".concat(n.variant,"Size").concat((0,f.Z)(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((function(e){var t,n,r,i=e.theme,s=e.ownerState;return(0,a.Z)({},i.typography.button,(t={minWidth:64,padding:"6px 16px",borderRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create(["background-color","box-shadow","border-color","color"],{duration:i.transitions.duration.short}),"&:hover":(0,a.Z)({textDecoration:"none",backgroundColor:i.vars?"rgba(".concat(i.vars.palette.text.primaryChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):(0,d.Fq)(i.palette.text.primary,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===s.variant&&"inherit"!==s.color&&{backgroundColor:i.vars?"rgba(".concat(i.vars.palette[s.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):(0,d.Fq)(i.palette[s.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===s.variant&&"inherit"!==s.color&&{border:"1px solid ".concat((i.vars||i).palette[s.color].main),backgroundColor:i.vars?"rgba(".concat(i.vars.palette[s.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):(0,d.Fq)(i.palette[s.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===s.variant&&{backgroundColor:(i.vars||i).palette.grey.A100,boxShadow:(i.vars||i).shadows[4],"@media (hover: none)":{boxShadow:(i.vars||i).shadows[2],backgroundColor:(i.vars||i).palette.grey[300]}},"contained"===s.variant&&"inherit"!==s.color&&{backgroundColor:(i.vars||i).palette[s.color].dark,"@media (hover: none)":{backgroundColor:(i.vars||i).palette[s.color].main}}),"&:active":(0,a.Z)({},"contained"===s.variant&&{boxShadow:(i.vars||i).shadows[8]})},(0,o.Z)(t,"&.".concat(g.focusVisible),(0,a.Z)({},"contained"===s.variant&&{boxShadow:(i.vars||i).shadows[6]})),(0,o.Z)(t,"&.".concat(g.disabled),(0,a.Z)({color:(i.vars||i).palette.action.disabled},"outlined"===s.variant&&{border:"1px solid ".concat((i.vars||i).palette.action.disabledBackground)},"outlined"===s.variant&&"secondary"===s.color&&{border:"1px solid ".concat((i.vars||i).palette.action.disabled)},"contained"===s.variant&&{color:(i.vars||i).palette.action.disabled,boxShadow:(i.vars||i).shadows[0],backgroundColor:(i.vars||i).palette.action.disabledBackground})),t),"text"===s.variant&&{padding:"6px 8px"},"text"===s.variant&&"inherit"!==s.color&&{color:(i.vars||i).palette[s.color].main},"outlined"===s.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===s.variant&&"inherit"!==s.color&&{color:(i.vars||i).palette[s.color].main,border:i.vars?"1px solid rgba(".concat(i.vars.palette[s.color].mainChannel," / 0.5)"):"1px solid ".concat((0,d.Fq)(i.palette[s.color].main,.5))},"contained"===s.variant&&{color:i.vars?i.vars.palette.text.primary:null==(n=(r=i.palette).getContrastText)?void 0:n.call(r,i.palette.grey[300]),backgroundColor:(i.vars||i).palette.grey[300],boxShadow:(i.vars||i).shadows[2]},"contained"===s.variant&&"inherit"!==s.color&&{color:(i.vars||i).palette[s.color].contrastText,backgroundColor:(i.vars||i).palette[s.color].main},"inherit"===s.color&&{color:"inherit",borderColor:"currentColor"},"small"===s.size&&"text"===s.variant&&{padding:"4px 5px",fontSize:i.typography.pxToRem(13)},"large"===s.size&&"text"===s.variant&&{padding:"8px 11px",fontSize:i.typography.pxToRem(15)},"small"===s.size&&"outlined"===s.variant&&{padding:"3px 9px",fontSize:i.typography.pxToRem(13)},"large"===s.size&&"outlined"===s.variant&&{padding:"7px 21px",fontSize:i.typography.pxToRem(15)},"small"===s.size&&"contained"===s.variant&&{padding:"4px 10px",fontSize:i.typography.pxToRem(13)},"large"===s.size&&"contained"===s.variant&&{padding:"8px 22px",fontSize:i.typography.pxToRem(15)},s.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(t={boxShadow:"none","&:hover":{boxShadow:"none"}},(0,o.Z)(t,"&.".concat(g.focusVisible),{boxShadow:"none"}),(0,o.Z)(t,"&:active",{boxShadow:"none"}),(0,o.Z)(t,"&.".concat(g.disabled),{boxShadow:"none"}),t)})),C=(0,u.ZP)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat((0,f.Z)(n.size))]]}})((function(e){var t=e.ownerState;return(0,a.Z)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},S(t))})),z=(0,u.ZP)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat((0,f.Z)(n.size))]]}})((function(e){var t=e.ownerState;return(0,a.Z)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},S(t))})),j=i.forwardRef((function(e,t){var n=i.useContext(b),o=(0,c.Z)(n,e),d=(0,p.Z)({props:o,name:"MuiButton"}),u=d.children,v=d.color,m=void 0===v?"primary":v,h=d.component,g=void 0===h?"button":h,S=d.className,j=d.disabled,I=void 0!==j&&j,R=d.disableElevation,k=void 0!==R&&R,F=d.disableFocusRipple,M=void 0!==F&&F,T=d.endIcon,N=d.focusVisibleClassName,E=d.fullWidth,P=void 0!==E&&E,W=d.size,L=void 0===W?"medium":W,_=d.startIcon,O=d.type,B=d.variant,U=void 0===B?"text":B,V=(0,r.Z)(d,y),A=(0,a.Z)({},d,{color:m,component:g,disabled:I,disableElevation:k,disableFocusRipple:M,fullWidth:P,size:L,type:O,variant:U}),D=function(e){var t=e.color,n=e.disableElevation,o=e.fullWidth,r=e.size,i=e.variant,s=e.classes,c={root:["root",i,"".concat(i).concat((0,f.Z)(t)),"size".concat((0,f.Z)(r)),"".concat(i,"Size").concat((0,f.Z)(r)),"inherit"===t&&"colorInherit",n&&"disableElevation",o&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat((0,f.Z)(r))],endIcon:["endIcon","iconSize".concat((0,f.Z)(r))]},d=(0,l.Z)(c,x,s);return(0,a.Z)({},s,d)}(A),q=_&&(0,Z.jsx)(C,{className:D.startIcon,ownerState:A,children:_}),X=T&&(0,Z.jsx)(z,{className:D.endIcon,ownerState:A,children:T});return(0,Z.jsxs)(w,(0,a.Z)({ownerState:A,className:(0,s.Z)(n.className,D.root,S),component:g,disabled:I,focusRipple:!M,focusVisibleClassName:(0,s.Z)(D.focusVisible,N),ref:t,type:O},V,{classes:D,children:[q,u,X]}))}))}}]);
//# sourceMappingURL=375.84dd6330.chunk.js.map