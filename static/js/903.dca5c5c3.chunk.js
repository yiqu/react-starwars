"use strict";(self.webpackChunkstarwars=self.webpackChunkstarwars||[]).push([[903],{903:function(t,e,n){n.r(e),n.d(e,{default:function(){return B}});var r=n(70885),i=n(72791),o=n(94162),s=n(75814),a=n(13811),c=n(36227),l=n(7150),u=n(64152),d=n(48928),f=n(96875),v=n(55194),x=n(30199),h=n(17205),p=n(4565),m=n(11087),j=n(17237),g=n(36976),Z=n(58611),C=n(11155),y=n(70773),b=n(51070),w=n.n(b),F=n(64317),z=n(61501),I=n(80184);function L(t){var e,n=t.film,r=t.uid,i=t.userId,s=t.allFavoritesLoading,c=(t.favToggleLoading,(0,F.T)());return(0,I.jsxs)(d.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-between"},elevation:2,children:[(0,I.jsxs)("div",{children:[(0,I.jsx)(x.Z,{component:"img",alt:"poster",height:"440",image:"".concat("","/assets/poster-img/").concat(n.episode_id,".png"),sx:{backgroundColor:"#000",objectFit:"contain"}}),(0,I.jsxs)(v.Z,{children:[(0,I.jsxs)(o.Z,{direction:{lg:"column",xl:"row"},justifyContent:{xl:"space-between",lg:"flex-start"},marginBottom:{lg:"10px",xl:"0px"},children:[(0,I.jsx)(p.Z,{gutterBottom:!0,variant:"h5",component:m.rU,to:"./".concat(r),sx:{fontFamily:"Poppins",fontWeight:"500"},children:n.title}),(0,I.jsxs)(p.Z,{variant:"h5",color:"text.secondary",sx:{fontWeight:"300"},children:["EP ",n.episode_id]})]}),(0,I.jsxs)(o.Z,{spacing:1,children:[(0,I.jsxs)(o.Z,{direction:"row",spacing:.5,children:[(0,I.jsx)(p.Z,{variant:"body2",color:"text.secondary",children:"Released:"}),(0,I.jsx)(p.Z,{variant:"body2",color:"text.secondary",children:(0,I.jsx)(C.Z,{date:n.release_date,format:"MMM Do YYYY"})})]}),(0,I.jsxs)(p.Z,{variant:"body2",color:"text.secondary",children:["Directed by: ",n.director]}),(0,I.jsxs)(p.Z,{variant:"body2",color:"text.secondary",children:["Produced by: ",n.producer]}),(0,I.jsx)(p.Z,{variant:"body2",color:"text.primary",children:n.opening_crawl})]})]})]}),(0,I.jsxs)(f.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,I.jsx)("div",{children:(0,I.jsx)(h.Z,{size:"small",component:m.rU,to:"./".concat(r),children:"See More"})}),(0,I.jsx)("div",{children:(0,I.jsx)(a.Z,{"aria-label":"favorite",onClick:function(){var t,e,r,o=n.url,s=o.split("/")[o.split("/").length-1],a=w()(y.K,"swdb/:user/favorites".concat(null!==(t=n.favorite)&&void 0!==t&&t.fireId?"/"+(null===(e=n.favorite)||void 0===e?void 0:e.fireId):"",".json"),{user:i}),l={filmUrl:o,filmId:s,lastUpdated:(new Date).getTime(),episodeId:n.episode_id,isCurrentFavorite:!0};n.favorite?(l.isCurrentFavorite=!n.favorite.isCurrentFavorite,l.fireId=n.favorite.fireId,r=c((0,z.cP)({fav:l,url:a,favStatus:!n.favorite.isCurrentFavorite}))):r=c((0,z.gf)({fav:l,url:a,favStatus:!0})),r.then((function(t){return c((0,z.xu)({user:"yqu"}))}))},title:(0,Z.Q)(n.favorite),disabled:!!s,children:s?(0,I.jsx)(g.Z,{}):(0,I.jsx)(j.Z,{color:null!==(e=n.favorite)&&void 0!==e&&e.isCurrentFavorite?"error":"disabled"})})})]})]})}var P=n(73808),M=n(54596),V=n(51372),T=n(39841),U=n(40824),_=n(96015),k="LoadingBackdrop_loadingbackdrop__fzQLF";var D=function(t){var e=t.isLoading,n=t.children;return(0,I.jsx)(_.Z,{className:e?"".concat(k):"",width:"100%",children:n})},H=n(53607),E=n(758),A=n(81917),S=n(5826),K=n(83737),B=function(){var t=(0,F.T)(),e=(0,i.useContext)(H.Z).showSnackbar,n=(0,m.lr)(),d=(0,r.Z)(n,2),f=d[0],v=d[1],x=f.get("moviePageDisplayMode"),h=(0,M.Z)().isMobile,p=(0,i.useState)(x),j=(0,r.Z)(p,2),g=j[0],Z=(j[1],(0,F.C)(A.xU)),C=(0,F.C)(A.Qi),y=(0,F.C)(A.zh),b=(0,F.C)(S.xU),w=(0,F.C)(S.JJ),_=(0,F.C)(A.Xt);(0,i.useEffect)((function(){t((0,z.xu)({user:"yqu"}))}),[t]),(0,i.useEffect)((function(){return function(){e("info",void 0)}}),[e]);var k=(0,i.useCallback)((function(e){t(K.iz({title:e}))}),[t]);return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(P.Z,{toolbarProps:{position:"sticky",sx:{top:h?"56px":"64px"}},children:(0,I.jsxs)(c.Z,{container:!0,xs:12,flexDirection:{xs:"row",sm:"row"},justifyContent:"space-between",alignItems:"center",children:[(0,I.jsx)(c.Z,{xs:10,sm:4,children:(0,I.jsx)(o.Z,{direction:"row",justifyContent:"start",alignItems:"center",children:(0,I.jsxs)(c.Z,{container:!0,xs:12,children:[(0,I.jsx)(c.Z,{xs:8,children:(0,I.jsx)(u.Z,{filterChange:k})}),(0,I.jsx)(c.Z,{xs:2,sx:{display:"flex"},justifyContent:"center",alignItems:"center",children:C&&(0,I.jsx)(l.Z,{size:20})})]})})}),(0,I.jsx)(c.Z,{xs:2,sm:8,children:(0,I.jsx)(o.Z,{direction:"row",justifyContent:"flex-end",alignItems:"center",children:(0,I.jsx)(s.Z,{title:"Switch to ".concat(R(g)),children:(0,I.jsx)(a.Z,{onClick:function(){var t={moviePageDisplayMode:R(g)};v(t)},children:g===V.K.CARD?(0,I.jsx)(T.Z,{}):(0,I.jsx)(U.Z,{})})})})})]})}),(0,I.jsx)(D,{isLoading:Z,children:y?(0,I.jsx)(E.Z,{reason:"Failed loading all films.",debug:y}):(0,I.jsx)(o.Z,{direction:"column",p:2,width:"100%",children:(0,I.jsx)(c.Z,{container:!0,disableEqualOverflow:!0,rowSpacing:4,children:null===_||void 0===_?void 0:_.map((function(t){return(0,I.jsx)(c.Z,{xs:12,sm:4,smOffset:4,children:(0,I.jsx)(L,{userId:"yqu",film:t.properties,uid:t.uid,allFavoritesLoading:b,favToggleLoading:w})},t.properties.episode_id)}))})})})]})},R=function(t){return t&&t===V.K.CARD?V.K.TABLE:V.K.CARD}},83737:function(t,e,n){n.d(e,{Cs:function(){return s},K4:function(){return a},eI:function(){return o},hv:function(){return i},iz:function(){return c}});var r=n(89422).rT.actions,i=r.fetchFailure,o=r.fetchPayloadSuccess,s=r.setValidating,a=r.setLoading,c=(r.setUrl,r.setParams2)},81917:function(t,e,n){n.d(e,{Ky:function(){return h},Qi:function(){return f},Xt:function(){return x},xU:function(){return d},zh:function(){return v}});var r=n(1413),i=n(46916),o=n(89422),s=n(58611),a=n(5826),c=function(t){return t.allFilms},l=o.VL.getSelectors((function(t){return t.allFilms})),u=l.selectAll,d=(l.selectById,l.selectEntities,l.selectIds,l.selectTotal,function(t){return c(t).isLoading}),f=function(t){return c(t).isValidating},v=function(t){return c(t).errMsg},x=(0,i.P1)(u,a._d,(function(t,e){return(0,s.w)(t,e)})),h=(0,i.P1)((function(t){return c(t).apiParams}),(function(t){var e=(0,r.Z)({},t);return Object.keys(e).forEach((function(t){""==="".concat(e[t]).trim()&&delete e[t]})),e}))},5826:function(t,e,n){n.d(e,{JJ:function(){return d},RK:function(){return f},Wc:function(){return h},Zd:function(){return p},_d:function(){return v},f3:function(){return x},xU:function(){return u}});var r=n(1413),i=n(46916),o=n(92546),s=n(18581),a=function(t){return t.favoriteFilms},c=s.VL.getSelectors((function(t){return t.favoriteFilms})),l=c.selectAll,u=(c.selectById,c.selectEntities,c.selectIds,c.selectTotal,function(t){return a(t).loading}),d=function(t){return a(t).favoriteToggleLoading},f=function(t){return a(t).firstTimeLoading},v=(0,i.P1)(l,(function(t){var e={};return t.forEach((function(t){e[t.episodeId]=(0,r.Z)({},t)})),e})),x=(0,i.P1)(l,(function(t){return(0,o.ZP)(t,(function(t){return t.filter((function(t){return!!t.isCurrentFavorite})).sort((function(t,e){return t.lastUpdated<e.lastUpdated?1:-1}))}))})),h=(0,i.P1)(a,(function(t){return t.extraFetchParams})),p=(0,i.P1)(a,(function(t){var e;return null!==(e=t.triggerFetchTime)&&void 0!==e?e:0}))},58611:function(t,e,n){n.d(e,{Q:function(){return s},w:function(){return a}});var r=n(72426),i=n.n(r),o=n(92546),s=function(t){var e="",n=null!==t&&void 0!==t&&t.lastUpdated?i()(null===t||void 0===t?void 0:t.lastUpdated).fromNow():"";return e=null!==t&&void 0!==t&&t.isCurrentFavorite?"Remove from favorites":"Add to favorites",null!==t&&void 0!==t&&t.lastUpdated&&(e=e+". "+(t.isCurrentFavorite?"Favorited ":"Unfavorited ")+n),e},a=function(t,e){return(0,o.ZP)(null!==t&&void 0!==t?t:[],(function(t){t.sort((function(t,e){return t.properties.episode_id>e.properties.episode_id?1:-1})),t.forEach((function(t){t.properties.favorite=e[t.properties.episode_id]}))}))}},11155:function(t,e,n){var r=n(75814),i=n(4565),o=n(46431),s=n.n(o),a=n(72426),c=n.n(a),l=n(80184);e.Z=function(t){var e=t.date,n=void 0===e?0:e,o=t.fromNow,a=void 0===o||o,u=t.format,d=void 0===u?"MM/DD/YY HH:mm":u;return(0,l.jsx)(r.Z,{title:n?c()(n).format(d):"No date found",children:(0,l.jsx)(i.Z,{component:"span",display:"flex",alignItems:"center",justifyContent:"center",children:n?(0,l.jsx)(s(),{date:n,fromNow:a,format:a?void 0:d,interval:6e4}):(0,l.jsx)(l.Fragment,{children:"N/A"})})})}},51372:function(t,e,n){var r;n.d(e,{K:function(){return r}}),function(t){t.TABLE="table",t.CARD="card"}(r||(r={}))},64317:function(t,e,n){n.d(e,{C:function(){return o},T:function(){return i}});var r=n(59434),i=r.I0,o=r.v9},17237:function(t,e,n){var r=n(64836);e.Z=void 0;var i=r(n(45649)),o=n(80184),s=(0,i.default)((0,o.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),"Favorite");e.Z=s},36976:function(t,e,n){var r=n(64836);e.Z=void 0;var i=r(n(45649)),o=n(80184),s=(0,i.default)((0,o.jsx)("path",{d:"m18 22-.01-6L14 12l3.99-4.01L18 2H6v6l4 4-4 3.99V22h12zM8 7.5V4h8v3.5l-4 4-4-4z"}),"HourglassBottom");e.Z=s},39841:function(t,e,n){var r=n(64836);e.Z=void 0;var i=r(n(45649)),o=n(80184),s=(0,i.default)((0,o.jsx)("path",{d:"M10 10.02h5V21h-5zM17 21h3c1.1 0 2-.9 2-2v-9h-5v11zm3-18H5c-1.1 0-2 .9-2 2v3h19V5c0-1.1-.9-2-2-2zM3 19c0 1.1.9 2 2 2h3V10H3v9z"}),"TableChart");e.Z=s},40824:function(t,e,n){var r=n(64836);e.Z=void 0;var i=r(n(45649)),o=n(80184),s=(0,i.default)((0,o.jsx)("path",{d:"M14.67 5v6.5H9.33V5h5.34zm1 6.5H21V5h-5.33v6.5zm-1 7.5v-6.5H9.33V19h5.34zm1-6.5V19H21v-6.5h-5.33zm-7.34 0H3V19h5.33v-6.5zm0-1V5H3v6.5h5.33z"}),"ViewModule");e.Z=s}}]);
//# sourceMappingURL=903.dca5c5c3.chunk.js.map