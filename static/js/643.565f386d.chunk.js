"use strict";(self.webpackChunkstarwars=self.webpackChunkstarwars||[]).push([[643],{7643:function(e,n,r){r.r(n),r.d(n,{default:function(){return ae}});var t=r(885),a=r(2791),i=r(8275),l=r(4565),s=r(7205),o=r(5645),c=r(788),d=r(464),u=r(8440),p=r(7323),h=r(9823),f=r(4162),x=r(3811),m=r(1872),v=r(3329),b=r(6753),Z=r(5705),j=r(2982),g=r(3319),y=r(8937),C=r(7907),w=r(1413),I=r(2068),E=r(2175),k=r(6884),S=function(e,n){var r=(0,a.useState)(n),i=(0,t.Z)(r,2),l=(i[0],i[1]);(0,k.Z)((function(){l((function(e){return(0,w.Z)((0,w.Z)({},e),n)}))}),[n]);var s=(0,I.Z)("".concat(e),E.Lt),o=s.data,c=s.error,d=s.isLoading;return{data:null===o||void 0===o?void 0:o.results,loading:d,isError:c}},F=r(5987),L=r(9911),N=r(1898),P=r(8823),q=r(7924),T=r(6494),O=r(763),A=r(184),D=["label","name","options","dataLoading","placeholder","validate","disabled"],z=(0,A.jsx)(y.Z,{}),R=(0,A.jsx)(C.Z,{}),_=function(e){var n=e.label,r=e.name,t=e.options,a=e.dataLoading,i=e.placeholder,l=e.validate,s=e.disabled,o=(0,F.Z)(e,D),c=(0,Z.u6)();return(0,A.jsxs)(N.Z,{fullWidth:!0,size:"small",children:[(0,A.jsx)(Z.gN,(0,w.Z)({as:T.Z,label:n,name:r,id:r,onChange:function(e,n){c.setFieldValue(r,n)},renderInput:function(e){return(0,A.jsx)(L.Z,(0,w.Z)((0,w.Z)({},e),{},{name:r,variant:"standard",label:(0,O.startCase)(a?"Loading ".concat(r,"..."):"Select ".concat(r)),placeholder:(0,O.upperFirst)(null!==i&&void 0!==i?i:n),error:c.touched[r]&&!!c.errors[r]},o.renderInputProps))},renderOption:function(e,n,r){var t,a,i=r.selected;return(0,A.jsxs)("li",(0,w.Z)((0,w.Z)({},e),{},{children:[(0,A.jsx)(P.Z,{icon:z,checkedIcon:R,checked:i}),null!==(t=null!==(a=n.name)&&void 0!==a?a:n.display)&&void 0!==t?t:n]}))},getOptionLabel:function(e){var n,r;return null!==(n=null!==(r=e.name)&&void 0!==r?r:e.display)&&void 0!==n?n:e},validate:l,options:t,disabled:s,loading:a,loadingText:"Loading ".concat(n),noOptionsText:"No ".concat(n," available"),autoHighlight:!0},o.props)),(0,A.jsx)(q.Z,{id:"".concat(r,"-helper-text"),error:c.touched[r]&&!!c.errors[r],children:c.touched[r]&&c.errors[r]?(0,A.jsx)(Z.Bc,{name:r,render:function(e){return(0,O.upperFirst)(e)}}):(0,A.jsx)(A.Fragment,{children:o.helperText})})]})},W=r(2900),B=function(e){var n=e.label,r=e.name,t=e.props,a=e.disabled,i=(0,Z.u6)();return(0,A.jsx)(N.Z,{fullWidth:!0,size:"small",children:(0,A.jsx)(Z.gN,(0,w.Z)({as:W.Z,control:(0,A.jsx)(P.Z,{checked:!!i.values[r],onChange:function(e){return i.setFieldValue(r,e.target.checked||!1)}}),label:(0,O.startCase)(n),name:r,id:r,disabled:a},t))})},V=r(5051),X=r(2851),H=r(5702),M=r(9365),G=["label","name","options","disabled","placeholder","validate"],J=function(e){var n=e.label,r=e.name,t=e.options,a=e.disabled,i=(e.placeholder,e.validate),s=(0,F.Z)(e,G),o=(0,Z.u6)();return(0,A.jsxs)(N.Z,{fullWidth:!0,size:"small",children:[(0,A.jsxs)(M.Z,{id:r+"label",children:[" ",(0,O.startCase)(n)," "]}),(0,A.jsxs)(Z.gN,(0,w.Z)((0,w.Z)({as:X.Z,name:r,label:(0,O.startCase)(n),id:r,validate:i,variant:"standard",error:o.touched[r]&&!!o.errors[r],disabled:a},s.props),{},{children:[s.useDefaultNoneSelected&&(0,A.jsx)(H.Z,{value:"NONE_SELECTED",disabled:!0,children:(0,A.jsxs)(l.Z,{sx:{color:"#666"},children:["Select ",s.useDefaultNoneSelected]})},""),null===t||void 0===t?void 0:t.map((function(e){var n,r,t,a=null!==(n=e.name)&&void 0!==n?n:e,i=null!==(r=e.value)&&void 0!==r?r:e;return(0,A.jsx)(H.Z,{value:i,children:a},null!==(t=e.id)&&void 0!==t?t:e.uid)}))]})),(0,A.jsx)(q.Z,{id:"".concat(r,"-helper-text"),error:o.touched[r]&&!!o.errors[r],children:o.touched[r]&&o.errors[r]?(0,A.jsx)(Z.Bc,{name:r,render:function(e){return(0,O.upperFirst)(e)}}):(0,A.jsx)(A.Fragment,{children:s.helperText})})]})},K=r(1747),U=["label","name","placeholder","disabled","validate"],Q=function(e){var n=e.label,r=e.name,t=e.placeholder,a=(e.disabled,e.validate),i=(0,F.Z)(e,U),l=(0,Z.u6)();return(0,A.jsxs)(N.Z,{fullWidth:!0,size:"small",children:[(0,A.jsx)(Z.gN,(0,w.Z)({as:L.Z,multiline:!0,name:r,id:r,validate:a,minRows:1,label:(0,O.startCase)(n),error:l.touched[r]&&!!l.errors[r],placeholder:(0,O.upperFirst)(null!==t&&void 0!==t?t:n),InputProps:{inputComponent:K.Z,inputProps:{style:{resize:"vertical",minHeight:"3.5rem"}}}},i.props)),(0,A.jsx)(q.Z,{id:"".concat(r,"-helper-text"),error:l.touched[r]&&!!l.errors[r],children:l.touched[r]&&l.errors[r]?(0,A.jsx)(Z.Bc,{name:r,render:function(e){return(0,O.upperFirst)(e)}}):(0,A.jsx)(A.Fragment,{children:i.helperText})})]})},Y=function(e){switch(e.type){case"select":var n;return(0,A.jsx)(J,(0,w.Z)({name:e.name,label:e.label,options:null!==(n=e.options)&&void 0!==n?n:[],disabled:e.disabled,placeholder:e.placeholder},e));case"text":return(0,A.jsx)(V.Z,(0,w.Z)({name:e.name,label:e.label,disabled:e.disabled,placeholder:e.placeholder},e));case"autocomplete":var r;return(0,A.jsx)(_,(0,w.Z)({name:e.name,label:e.label,options:null!==(r=e.props.options)&&void 0!==r?r:[],dataLoading:e.props.loading,disabled:e.disabled,placeholder:e.placeholder},e));case"textarea":return(0,A.jsx)(Q,(0,w.Z)({name:e.name,label:e.label,disabled:e.disabled,placeholder:e.placeholder},e));case"checkbox":return(0,A.jsx)(B,(0,w.Z)({name:e.name,label:e.label,disabled:e.disabled},e));default:return(0,A.jsx)(A.Fragment,{children:" No component matched... "})}},$=(y.Z,C.Z,function(e){var n=(0,Z.u6)(),r=(0,a.useState)([]),i=(0,t.Z)(r,2),l=i[0],s=i[1],o=S("people",E.cs),c=o.data,d=(o.isError,o.loading),u=S("starships",E.cs),p=u.data,h=(u.isError,u.loading),f=S("vehicles",E.cs),x=f.data,m=(f.isError,f.loading),v=S("planets",E.cs),b=v.data,y=(v.isError,v.loading,S("species",E.cs)),C=y.data,w=(y.isError,y.loading);return(0,a.useEffect)((function(){console.log(n.values)}),[n.values]),(0,a.useEffect)((function(){s(ee)}),[]),(0,a.useEffect)((function(){c&&c.length>-1&&s((function(e){var n=e.findIndex((function(e){return"characters"===e.name}));return e[n].props.options=c,e}))}),[c]),(0,a.useEffect)((function(){s((function(e){var n=e.findIndex((function(e){return"characters"===e.name}));return e[n].props.loading=d,(0,j.Z)(e)}))}),[d]),(0,a.useEffect)((function(){p&&p.length>-1&&s((function(e){var n=e.findIndex((function(e){return"starships"===e.name}));return e[n].props.options=p,e}))}),[p]),(0,a.useEffect)((function(){s((function(e){var n=e.findIndex((function(e){return"starships"===e.name}));return e[n].props.loading=h,(0,j.Z)(e)}))}),[h]),(0,a.useEffect)((function(){x&&x.length>-1&&s((function(e){var n=e.findIndex((function(e){return"vehicles"===e.name}));return e[n].props.options=x,e}))}),[x]),(0,a.useEffect)((function(){s((function(e){var n=e.findIndex((function(e){return"vehicles"===e.name}));return e[n].props.loading=m,(0,j.Z)(e)}))}),[m]),(0,a.useEffect)((function(){b&&b.length>-1&&s((function(e){var n=e.findIndex((function(e){return"planets"===e.name}));return e[n].options=b,(0,j.Z)(e)}))}),[b]),(0,a.useEffect)((function(){C&&C.length>-1&&s((function(e){var n=e.findIndex((function(e){return"species"===e.name}));return e[n].props.options=C,e}))}),[C]),(0,a.useEffect)((function(){s((function(e){var n=e.findIndex((function(e){return"species"===e.name}));return e[n].props.loading=w,(0,j.Z)(e)}))}),[w]),(0,A.jsx)(Z.l0,{children:(0,A.jsx)(g.Z,{container:!0,spacing:2,children:l.map((function(e){return(0,A.jsx)(g.Z,{xs:12,children:Y(e)},e.name)}))})})}),ee=[{name:"title",label:"title",placeholder:"A new hope",type:"text",disabled:!1,props:{variant:"outlined"}},{name:"director",label:"director",placeholder:"George Lucas",type:"text",disabled:!1,props:{variant:"outlined"}},{name:"characters",label:"characters",type:"autocomplete",renderInputProps:{variant:"outlined"},disabled:!1,placeholder:"Luke Skywalker, Han Solo...",props:{options:[],multiple:!0,disableCloseOnSelect:!0,ChipProps:{color:"primary"}}},{name:"openingCrawl",label:"Opening crawl",placeholder:"In a galaxy far far away...",type:"textarea",disabled:!1},{name:"planets",label:"Select planet",type:"select",options:[],disabled:!1,props:{variant:"outlined"}},{name:"species",label:"Species",type:"autocomplete",renderInputProps:{variant:"outlined"},disabled:!1,props:{multiple:!0,disableCloseOnSelect:!0,ChipProps:{color:"primary"}}},{name:"vehicles",label:"Vehicles",type:"autocomplete",renderInputProps:{variant:"outlined"},disabled:!1,props:{multiple:!0,disableCloseOnSelect:!0,ChipProps:{color:"primary"}}},{name:"starships",label:"starships",type:"autocomplete",renderInputProps:{variant:"outlined"},disabled:!1,props:{multiple:!0,disableCloseOnSelect:!0,ChipProps:{color:"primary"}}},{name:"canon",label:"Canon movie",type:"checkbox",disabled:!1}],ne=r(3123),re=ne.Ry({title:ne.Z_().required(),director:ne.Z_().required().min(1),openingCrawl:ne.Z_().required("Opening crawl text is a required field").min(5,"At least 5 characters is required for crawl text"),characters:ne.IX().min(1,"At least one character is required"),starships:ne.IX().min(1,"At least one starship is required"),planets:ne.Ry().required("Planet is a required field"),species:ne.IX().min(1,"At least one species is required"),vehicles:ne.IX().min(1,"At least one vehicle is required")}),te=function(e){var n=e.onClose,r=e.open,t=e.isEditMode,a=function(e,r){"backdropClick"!==r&&n(null)};return(0,A.jsx)(Z.J9,{initialValues:{title:"",director:"",characters:[],starships:[],openingCrawl:"In a galaxy far far away...",planets:"",species:[],vehicles:[],canon:!1},onSubmit:function(e){console.log(e)},validationSchema:re,children:function(e){return(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)(c.Z,{onClose:a,open:r,disableEscapeKeyDown:!0,children:[(0,A.jsx)(d.Z,{bgcolor:"primary.main",color:"white",children:(0,A.jsxs)(f.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,A.jsx)("div",{children:t?"Editing":"Create New Movie"}),(0,A.jsx)("div",{children:(0,A.jsx)(x.Z,{sx:{color:"white"},onClick:a,children:(0,A.jsx)(h.Z,{})})})]})}),(0,A.jsx)(m.Z,{}),(0,A.jsx)(u.Z,{children:(0,A.jsx)($,{})}),(0,A.jsxs)(p.Z,{children:[(0,A.jsx)(s.Z,{variant:"text",startIcon:(0,A.jsx)(b.Z,{}),onClick:e.handleReset,children:"Reset"}),(0,A.jsx)(s.Z,{variant:"text",startIcon:(0,A.jsx)(v.Z,{}),onClick:e.submitForm,children:"Save"})]})]})})}})},ae=function(){var e=(0,a.useState)(!1),n=(0,t.Z)(e,2),r=n[0],c=n[1];return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(i.Z,{container:!0,children:(0,A.jsxs)(i.Z,{container:!0,mx:2,my:2,xs:12,spacing:2,children:[(0,A.jsx)(i.Z,{xs:12,sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:(0,A.jsx)(l.Z,{variant:"h6",children:"Create your own Starwars movie."})}),(0,A.jsx)(i.Z,{xs:12,sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:(0,A.jsx)(l.Z,{variant:"body2",children:"Try adding your own movie with starships, vehicles, species, and planet."})}),(0,A.jsx)(i.Z,{xs:12,sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:(0,A.jsx)(s.Z,{variant:"contained",startIcon:(0,A.jsx)(o.Z,{}),onClick:function(){c(!0)},children:"Add New Movie"})})]})}),r&&(0,A.jsx)(te,{onClose:function(){c(!1)},open:r})]})}},5051:function(e,n,r){var t=r(1413),a=r(5987),i=(r(2791),r(9911)),l=r(5705),s=r(1898),o=r(7924),c=r(763),d=r(184),u=["label","name","validate","disabled","placeholder"];n.Z=function(e){var n=e.label,r=e.name,p=e.validate,h=e.disabled,f=e.placeholder,x=(0,a.Z)(e,u),m=(0,l.u6)();return(0,d.jsxs)(s.Z,{fullWidth:!0,size:"small",children:[(0,d.jsx)(l.gN,(0,t.Z)({as:i.Z,label:(0,c.startCase)(n),name:r,id:r,error:m.touched[r]&&!!m.errors[r],validate:p,variant:"standard",disabled:h,placeholder:(0,c.upperFirst)(null!==f&&void 0!==f?f:n)},x.props)),(0,d.jsx)(o.Z,{id:"".concat(r,"-helper-text"),error:m.touched[r]&&!!m.errors[r],children:m.touched[r]&&m.errors[r]?(0,d.jsx)(l.Bc,{name:r,render:function(e){return(0,c.upperFirst)(e)}}):(0,d.jsx)(d.Fragment,{children:x.helperText})})]})}},2175:function(e,n,r){r.d(n,{Lt:function(){return u},cs:function(){return o},ho:function(){return d}});var t=r(4165),a=r(5861),i=r(4569),l=r.n(i),s=r(5316),o={limit:1e4,page:1},c=l().create({baseURL:"https://swapi.tech/api/",timeout:5e3,headers:{"Content-Type":"application/json"},responseType:"json"}),d=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return c.get(e,{params:n})},u=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n,r){var a,i=arguments;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=i.length>2&&void 0!==i[2]?i[2]:0)){e.next=4;break}return e.next=4,(0,s._)(a);case 4:return e.next=6,d(n,r).then((function(e){return e.data})).catch((function(e){if(409!==e.response.status)throw e}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}()},5316:function(e,n,r){function t(e){return new Promise((function(n,r){setTimeout((function(){n()}),e)}))}r.d(n,{_:function(){return t}})}}]);
//# sourceMappingURL=643.565f386d.chunk.js.map