"use strict";(self.webpackChunkstarwars=self.webpackChunkstarwars||[]).push([[903],{903:function(e,n,t){t.r(n),t.d(n,{default:function(){return N}});var r=t(70885),i=t(72791),o=t(94162),s=t(75814),c=t(13811),a=t(36227),l=t(7150),u=t(97289),d=t(48928),f=t(96875),x=t(55194),v=t(30199),p=t(17205),h=t(4565),j=t(11087),m=t(17237),Z=t(36976),g=t(58611),C=t(11155),y=t(70773),b=t(51070),w=t.n(b),F=t(64317),I=t(61501),L=t(80184);function P(e){var n,t=e.film,r=e.uid,i=e.userId,s=e.allFavoritesLoading,a=(0,F.T)();return(0,L.jsxs)(d.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-between"},elevation:2,children:[(0,L.jsxs)("div",{children:[(0,L.jsx)(v.Z,{component:"img",alt:"poster",height:"440",image:"".concat("","/assets/poster-img/").concat(t.episode_id,".png"),sx:{backgroundColor:"#000",objectFit:"contain"}}),(0,L.jsxs)(x.Z,{children:[(0,L.jsxs)(o.Z,{direction:{lg:"column",xl:"row"},justifyContent:{xl:"space-between",lg:"flex-start"},marginBottom:{lg:"10px",xl:"0px"},children:[(0,L.jsx)(h.Z,{gutterBottom:!0,variant:"h5",component:j.rU,to:"./".concat(r),sx:{fontFamily:"Poppins",fontWeight:"500"},children:t.title}),(0,L.jsxs)(h.Z,{variant:"h5",color:"text.secondary",sx:{fontWeight:"300"},children:["EP ",t.episode_id]})]}),(0,L.jsxs)(o.Z,{spacing:1,children:[(0,L.jsxs)(h.Z,{variant:"body2",color:"text.secondary",children:["Released: ",(0,L.jsx)(C.Z,{date:t.release_date,format:"MMM Do YYYY"})]}),(0,L.jsxs)(h.Z,{variant:"body2",color:"text.secondary",children:["Directed by: ",t.director]}),(0,L.jsxs)(h.Z,{variant:"body2",color:"text.secondary",children:["Produced by: ",t.producer]}),(0,L.jsx)(h.Z,{variant:"body2",color:"text.primary",children:t.opening_crawl})]})]})]}),(0,L.jsxs)(f.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,L.jsx)("div",{children:(0,L.jsx)(p.Z,{size:"small",component:j.rU,to:"./".concat(r),children:"See More"})}),(0,L.jsx)("div",{children:(0,L.jsx)(c.Z,{"aria-label":"favorite",onClick:function(){var e,n,r,o=t.url,s=o.split("/")[o.split("/").length-1],c=w()(y.K,"swdb/:user/favorites".concat(null!==(e=t.favorite)&&void 0!==e&&e.fireId?"/"+(null===(n=t.favorite)||void 0===n?void 0:n.fireId):"",".json"),{user:i}),l={filmUrl:o,filmId:s,lastUpdated:(new Date).getTime(),episodeId:t.episode_id,isCurrentFavorite:!0};t.favorite?(l.isCurrentFavorite=!t.favorite.isCurrentFavorite,l.fireId=t.favorite.fireId,r=a((0,I.cP)({fav:l,url:c}))):r=a((0,I.gf)({fav:l,url:c})),r.then((function(e){return a((0,I.xu)({user:"yqu"}))}))},title:(0,g.Q)(t.favorite),disabled:!!s,children:s?(0,L.jsx)(Z.Z,{}):(0,L.jsx)(m.Z,{color:null!==(n=t.favorite)&&void 0!==n&&n.isCurrentFavorite?"error":"disabled"})})})]})]})}var _=t(73808),k=t(54596),D=t(51372),U=t(39841),E=t(40824),M=t(96015),z="LoadingBackdrop_loadingbackdrop__fzQLF";var A=function(e){var n=e.isLoading,t=e.children;return(0,L.jsx)(M.Z,{className:n?"".concat(z):"",width:"100%",children:t})},T=t(53607),K=t(758),B=t(81917),S=t(5826),R=t(83737),N=function(){var e=(0,F.T)(),n=(0,i.useContext)(T.Z).showSnackbar,t=(0,j.lr)(),d=(0,r.Z)(t,2),f=d[0],x=d[1],v=f.get("moviePageDisplayMode"),p=(0,k.Z)().isMobile,h=(0,i.useState)(v),m=(0,r.Z)(h,2),Z=m[0],g=(m[1],(0,F.C)(B.xU)),C=(0,F.C)(B.Qi),y=(0,F.C)(B.zh),b=(0,F.C)(S.xU),w=(0,F.C)(B.Xt);(0,i.useEffect)((function(){e((0,I.xu)({user:"yqu"}))}),[e]),(0,i.useEffect)((function(){return function(){n("info",void 0)}}),[n]);var M=(0,i.useCallback)((function(n){e(R.iz({title:n}))}),[e]);return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(_.Z,{toolbarProps:{position:"sticky",sx:{top:p?"56px":"64px"}},children:(0,L.jsxs)(a.Z,{container:!0,xs:12,flexDirection:{xs:"row",sm:"row"},justifyContent:"space-between",alignItems:"center",children:[(0,L.jsx)(a.Z,{xs:10,sm:4,children:(0,L.jsx)(o.Z,{direction:"row",justifyContent:"start",alignItems:"center",children:(0,L.jsxs)(a.Z,{container:!0,xs:12,children:[(0,L.jsx)(a.Z,{xs:8,children:(0,L.jsx)(u.Z,{filterChange:M})}),(0,L.jsx)(a.Z,{xs:2,sx:{display:"flex"},justifyContent:"center",alignItems:"center",children:C&&(0,L.jsx)(l.Z,{size:20})})]})})}),(0,L.jsx)(a.Z,{xs:2,sm:8,children:(0,L.jsx)(o.Z,{direction:"row",justifyContent:"flex-end",alignItems:"center",children:(0,L.jsx)(s.Z,{title:"Switch to ".concat(V(Z)),children:(0,L.jsx)(c.Z,{onClick:function(){var e={moviePageDisplayMode:V(Z)};x(e)},children:Z===D.K.CARD?(0,L.jsx)(U.Z,{}):(0,L.jsx)(E.Z,{})})})})})]})}),(0,L.jsx)(A,{isLoading:g,children:y?(0,L.jsx)(K.Z,{reason:"Failed loading all films.",debug:y}):(0,L.jsx)(o.Z,{direction:"column",p:2,width:"100%",children:(0,L.jsx)(a.Z,{container:!0,disableEqualOverflow:!0,rowSpacing:4,children:null===w||void 0===w?void 0:w.map((function(e){return(0,L.jsx)(a.Z,{xs:12,sm:4,smOffset:4,children:(0,L.jsx)(P,{userId:"yqu",film:e.properties,uid:e.uid,allFavoritesLoading:b})},e.properties.episode_id)}))})})})]})},V=function(e){return e&&e===D.K.CARD?D.K.TABLE:D.K.CARD}},83737:function(e,n,t){t.d(n,{Cs:function(){return s},K4:function(){return c},eI:function(){return o},hv:function(){return i},iz:function(){return a}});var r=t(89422).rT.actions,i=r.fetchFailure,o=r.fetchPayloadSuccess,s=r.setValidating,c=r.setLoading,a=(r.setUrl,r.setParams2)},81917:function(e,n,t){t.d(n,{Ky:function(){return p},Qi:function(){return f},Xt:function(){return v},xU:function(){return d},zh:function(){return x}});var r=t(1413),i=t(46916),o=t(89422),s=t(58611),c=t(5826),a=function(e){return e.allFilms},l=o.VL.getSelectors((function(e){return e.allFilms})),u=l.selectAll,d=(l.selectById,l.selectEntities,l.selectIds,l.selectTotal,function(e){return a(e).isLoading}),f=function(e){return a(e).isValidating},x=function(e){return a(e).errMsg},v=(0,i.P1)(u,c._d,(function(e,n){return(0,s.w)(e,n)})),p=(0,i.P1)((function(e){return a(e).apiParams}),(function(e){var n=(0,r.Z)({},e);return Object.keys(n).forEach((function(e){""==="".concat(n[e]).trim()&&delete n[e]})),n}))},5826:function(e,n,t){t.d(n,{RK:function(){return d},_d:function(){return f},f3:function(){return x},xU:function(){return u}});var r=t(1413),i=t(46916),o=t(92546),s=t(18581),c=function(e){return e.favoriteFilms},a=s.VL.getSelectors((function(e){return e.favoriteFilms})),l=a.selectAll,u=(a.selectById,a.selectEntities,a.selectIds,a.selectTotal,function(e){return c(e).loading}),d=function(e){return c(e).firstTimeLoading},f=(0,i.P1)(l,(function(e){var n={};return e.forEach((function(e){n[e.episodeId]=(0,r.Z)({},e)})),n})),x=(0,i.P1)(l,(function(e){return(0,o.ZP)(e,(function(e){return e.filter((function(e){return!!e.isCurrentFavorite}))}))}))},58611:function(e,n,t){t.d(n,{Q:function(){return s},w:function(){return c}});var r=t(72426),i=t.n(r),o=t(92546),s=function(e){var n="",t=null!==e&&void 0!==e&&e.lastUpdated?i()(null===e||void 0===e?void 0:e.lastUpdated).fromNow():"";return n=null!==e&&void 0!==e&&e.isCurrentFavorite?"Remove from favorites":"Add to favorites",null!==e&&void 0!==e&&e.lastUpdated&&(n=n+". "+(e.isCurrentFavorite?"Favorited ":"Unfavorited ")+t),n},c=function(e,n){return(0,o.ZP)(null!==e&&void 0!==e?e:[],(function(e){e.sort((function(e,n){return e.properties.episode_id>n.properties.episode_id?1:-1})),e.forEach((function(e){e.properties.favorite=n[e.properties.episode_id]}))}))}},11155:function(e,n,t){var r=t(75814),i=t(46431),o=t.n(i),s=t(72426),c=t.n(s),a=t(80184);n.Z=function(e){var n=e.date,t=void 0===n?0:n,i=e.fromNow,s=void 0===i||i,l=e.format,u=void 0===l?"MM/DD/YY HH:mm":l;return(0,a.jsx)(r.Z,{title:t?c()(t).format(u):"No date found",children:(0,a.jsx)("span",{children:t?(0,a.jsx)(o(),{date:t,fromNow:s}):(0,a.jsx)(a.Fragment,{children:"N/A"})})})}},51372:function(e,n,t){var r;t.d(n,{K:function(){return r}}),function(e){e.TABLE="table",e.CARD="card"}(r||(r={}))},64317:function(e,n,t){t.d(n,{C:function(){return o},T:function(){return i}});var r=t(59434),i=r.I0,o=r.v9},17237:function(e,n,t){var r=t(64836);n.Z=void 0;var i=r(t(45649)),o=t(80184),s=(0,i.default)((0,o.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),"Favorite");n.Z=s},36976:function(e,n,t){var r=t(64836);n.Z=void 0;var i=r(t(45649)),o=t(80184),s=(0,i.default)((0,o.jsx)("path",{d:"m18 22-.01-6L14 12l3.99-4.01L18 2H6v6l4 4-4 3.99V22h12zM8 7.5V4h8v3.5l-4 4-4-4z"}),"HourglassBottom");n.Z=s}}]);
//# sourceMappingURL=903.ca304b28.chunk.js.map