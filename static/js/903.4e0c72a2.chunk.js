"use strict";(self.webpackChunkstarwars=self.webpackChunkstarwars||[]).push([[903],{758:function(n,e,t){t.d(e,{Z:function(){return a}});var r=t(96015),i=t(94162),o=t(4565),s=t(80184);function a(n){var e=n.reason,t=n.debug;return(0,s.jsx)(r.Z,{marginY:5,width:"100%",children:(0,s.jsxs)(i.Z,{direction:"column",spacing:5,justifyContent:"center",alignItems:"center",children:[(0,s.jsx)(o.Z,{variant:"h5",sx:{textTransform:"uppercase"},children:"An error has occurred!"}),(0,s.jsxs)(i.Z,{direction:"column",spacing:1,justifyContent:"center",alignItems:"center",children:[(0,s.jsx)(o.Z,{variant:"body1",fontWeight:700,children:"REASON"}),(0,s.jsx)(o.Z,{variant:"body2",children:e})]}),(0,s.jsxs)(i.Z,{direction:"column",spacing:1,justifyContent:"center",alignItems:"center",children:[(0,s.jsx)(o.Z,{variant:"body1",fontWeight:700,children:"DEBUG"}),(0,s.jsx)(o.Z,{variant:"body2",component:"div",children:(0,s.jsx)("pre",{children:(0,s.jsx)("code",{style:{display:"flex",textAlign:"center"},children:JSON.stringify(t)})})})]})]})})}},903:function(n,e,t){t.r(e),t.d(e,{default:function(){return B}});var r=t(70885),i=t(72791),o=t(94162),s=t(75814),a=t(13811),c=t(36227),l=t(15290),d=t(75248),u=t(48928),f=t(96875),v=t(55194),x=t(38943),h=t(17205),p=t(4565),j=t(11087),m=t(17237),Z=t(36976),g=t(58611),y=t(11155),C=t(70773),b=t(51070),w=t.n(b),F=t(64317),I=t(11878),z=t(80184);function P(n){var e,t=n.film,r=n.uid,i=n.userId,s=n.allFavoritesLoading,c=(n.favToggleLoading,(0,F.T)());return(0,z.jsxs)(u.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-between"},elevation:2,children:[(0,z.jsxs)("div",{children:[(0,z.jsx)(x.Z,{component:"img",alt:"poster",height:"440",image:"".concat("","/assets/poster-img/").concat(t.episode_id,".png"),sx:{backgroundColor:"#000",objectFit:"contain"}}),(0,z.jsxs)(v.Z,{children:[(0,z.jsxs)(o.Z,{direction:{lg:"column",xl:"row"},justifyContent:{xl:"space-between",lg:"flex-start"},marginBottom:{lg:"10px",xl:"0px"},children:[(0,z.jsx)(p.Z,{gutterBottom:!0,variant:"h5",component:j.rU,to:"./".concat(r),sx:{fontWeight:"500"},children:t.title}),(0,z.jsxs)(p.Z,{variant:"h5",color:"text.secondary",sx:{fontWeight:"300"},children:["EP ",t.episode_id]})]}),(0,z.jsxs)(o.Z,{spacing:1,children:[(0,z.jsxs)(o.Z,{direction:"row",spacing:.5,children:[(0,z.jsx)(p.Z,{variant:"body1",color:"text.secondary",children:"Released:"}),(0,z.jsx)(p.Z,{variant:"body1",color:"text.secondary",children:(0,z.jsx)(y.Z,{date:t.release_date,format:"MMM Do YYYY"})})]}),(0,z.jsxs)(p.Z,{variant:"body1",color:"text.secondary",children:["Directed by: ",t.director]}),(0,z.jsxs)(p.Z,{variant:"body1",color:"text.secondary",children:["Produced by: ",t.producer]}),(0,z.jsx)(p.Z,{variant:"body1",color:"text.primary",children:t.opening_crawl})]})]})]}),(0,z.jsxs)(f.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,z.jsx)("div",{children:(0,z.jsx)(h.Z,{size:"small",component:j.rU,to:"./".concat(r),children:"See More"})}),(0,z.jsx)("div",{children:(0,z.jsx)(a.Z,{"aria-label":"favorite",onClick:function(){var n,e,r,o=t.url,s=o.split("/")[o.split("/").length-1],a=w()(C.K,"swdb/:user/favorites".concat(null!==(n=t.favorite)&&void 0!==n&&n.fireId?"/"+(null===(e=t.favorite)||void 0===e?void 0:e.fireId):"",".json"),{user:i}),l={filmUrl:o,filmId:s,lastUpdated:(new Date).getTime(),episodeId:t.episode_id,isCurrentFavorite:!0};t.favorite?(l.isCurrentFavorite=!t.favorite.isCurrentFavorite,l.fireId=t.favorite.fireId,r=c((0,I.cP)({fav:l,url:a,favStatus:!t.favorite.isCurrentFavorite}))):r=c((0,I.gf)({fav:l,url:a,favStatus:!0})),r.then((function(n){return c((0,I.xu)({httpParams:{user:"yqu"}}))}))},title:(0,g.Q)(t.favorite),disabled:!!s,children:s?(0,z.jsx)(Z.Z,{}):(0,z.jsx)(m.Z,{color:null!==(e=t.favorite)&&void 0!==e&&e.isCurrentFavorite?"error":"disabled"})})})]})]})}var L=t(73808),U=t(54596),M=t(51372),V=t(39841),D=t(40824),T=t(96015),_="LoadingBackdrop_loadingbackdrop__fzQLF";var k=function(n){var e=n.isLoading,t=n.children;return(0,z.jsx)(T.Z,{className:e?"".concat(_):"",width:"100%",children:t})},A=t(53607),E=t(758),H=t(81917),S=t(5826),K=t(84824),B=function(){var n=(0,F.T)(),e=(0,i.useContext)(A.Z).showSnackbar,t=(0,j.lr)(),u=(0,r.Z)(t,2),f=u[0],v=u[1],x=f.get("moviePageDisplayMode"),h=(0,U.Z)().isMobile,p=(0,i.useState)(x),m=(0,r.Z)(p,2),Z=m[0],g=(m[1],(0,F.C)(H.xU)),y=(0,F.C)(H.Qi),C=(0,F.C)(H.zh),b=(0,F.C)(S.xU),w=(0,F.C)(S.JJ),I=(0,F.C)(H.Xt);(0,i.useEffect)((function(){return function(){e("info",void 0)}}),[e]);var T=(0,i.useCallback)((function(e){n((0,K.iz)({title:e}))}),[n]);return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(L.Z,{toolbarProps:{position:"sticky",sx:{top:h?"56px":"64px"}},children:(0,z.jsxs)(c.Z,{container:!0,xs:12,flexDirection:{xs:"row",sm:"row"},justifyContent:"space-between",alignItems:"center",children:[(0,z.jsx)(c.Z,{xs:10,sm:4,children:(0,z.jsx)(o.Z,{direction:"row",justifyContent:"start",alignItems:"center",children:(0,z.jsxs)(c.Z,{container:!0,xs:12,children:[(0,z.jsx)(c.Z,{xs:8,children:(0,z.jsx)(d.Z,{filterChange:T})}),(0,z.jsx)(c.Z,{xs:2,sx:{display:"flex"},justifyContent:"center",alignItems:"center",children:y&&(0,z.jsx)(l.Z,{size:20})})]})})}),(0,z.jsx)(c.Z,{xs:2,sm:8,children:(0,z.jsx)(o.Z,{direction:"row",justifyContent:"flex-end",alignItems:"center",children:(0,z.jsx)(s.Z,{title:"Switch to ".concat(N(Z)),children:(0,z.jsx)(a.Z,{onClick:function(){var n={moviePageDisplayMode:N(Z)};v(n)},children:Z===M.K.CARD?(0,z.jsx)(V.Z,{}):(0,z.jsx)(D.Z,{})})})})})]})}),(0,z.jsx)(k,{isLoading:g,children:C?(0,z.jsx)(E.Z,{reason:"Failed loading all films.",debug:C}):(0,z.jsx)(o.Z,{direction:"column",p:2,width:"100%",children:(0,z.jsx)(c.Z,{container:!0,disableEqualOverflow:!0,rowSpacing:4,children:null===I||void 0===I?void 0:I.map((function(n){return(0,z.jsx)(c.Z,{xs:12,sm:4,smOffset:4,children:(0,z.jsx)(P,{userId:"yqu",film:n.properties,uid:n.uid,allFavoritesLoading:b,favToggleLoading:w})},n.properties.episode_id)}))})})})]})},N=function(n){return n&&n===M.K.CARD?M.K.TABLE:M.K.CARD}},81917:function(n,e,t){t.d(e,{Ky:function(){return h},Qi:function(){return f},Xt:function(){return x},xU:function(){return u},zh:function(){return v}});var r=t(1413),i=t(50873),o=t(89422),s=t(58611),a=t(5826),c=function(n){return n.allFilms},l=o.VL.getSelectors((function(n){return n.allFilms})),d=l.selectAll,u=(l.selectById,l.selectEntities,l.selectIds,l.selectTotal,function(n){return c(n).isLoading}),f=function(n){return c(n).isValidating},v=function(n){return c(n).errMsg},x=(0,i.P1)(d,a._d,(function(n,e){return(0,s.w)(n,e)})),h=(0,i.P1)((function(n){return c(n).apiParams}),(function(n){var e=(0,r.Z)({},n);return Object.keys(e).forEach((function(n){""==="".concat(e[n]).trim()&&delete e[n]})),e}))},84824:function(n,e,t){t.d(e,{Cs:function(){return r.Cs},K4:function(){return r.K4},eI:function(){return r.eI},hv:function(){return r.hv},iz:function(){return r.iz}});var r=t(89422)},5826:function(n,e,t){t.d(e,{JJ:function(){return u},RK:function(){return f},Wc:function(){return h},_d:function(){return v},f3:function(){return x},h3:function(){return p},xU:function(){return d}});var r=t(1413),i=t(50873),o=t(92546),s=t(18581),a=function(n){return n.favoriteFilms},c=s.VL.getSelectors((function(n){return n.favoriteFilms})),l=c.selectAll,d=(c.selectById,c.selectEntities,c.selectIds,c.selectTotal,function(n){return a(n).loading}),u=function(n){return a(n).favoriteToggleLoading},f=function(n){return a(n).firstTimeLoading},v=(0,i.P1)(l,(function(n){var e={};return n.forEach((function(n){e[n.episodeId]=(0,r.Z)({},n)})),e})),x=(0,i.P1)(l,(function(n){return(0,o.ZP)(n,(function(n){return n.filter((function(n){return!!n.isCurrentFavorite})).sort((function(n,e){return n.lastUpdated<e.lastUpdated?1:-1}))}))})),h=(0,i.P1)(a,(function(n){return n.extraFetchParams})),p=(0,i.P1)(l,a,(function(n,e){var t,r,i=null!==(t=e.extraFetchParams)&&void 0!==t&&t.equalTo?null!==(r=e.filteredFavorites)&&void 0!==r?r:[]:n;return(0,o.ZP)(i,(function(n){return n.filter((function(n){return!!n.isCurrentFavorite})).sort((function(n,e){return n.lastUpdated<e.lastUpdated?1:-1}))}))}))},58611:function(n,e,t){t.d(e,{Q:function(){return s},w:function(){return a}});var r=t(72426),i=t.n(r),o=t(92546),s=function(n){var e="",t=null!==n&&void 0!==n&&n.lastUpdated?i()(null===n||void 0===n?void 0:n.lastUpdated).fromNow():"";return e=null!==n&&void 0!==n&&n.isCurrentFavorite?"Remove from favorites":"Add to favorites",null!==n&&void 0!==n&&n.lastUpdated&&(e=e+". "+(n.isCurrentFavorite?"Favorited ":"Unfavorited ")+t),e},a=function(n,e){return(0,o.ZP)(null!==n&&void 0!==n?n:[],(function(n){n.sort((function(n,e){return n.properties.episode_id>e.properties.episode_id?1:-1})),n.forEach((function(n){n.properties.favorite=e[n.properties.episode_id]}))}))}},11155:function(n,e,t){var r=t(75814),i=t(4565),o=t(46431),s=t.n(o),a=t(72426),c=t.n(a),l=t(80184);e.Z=function(n){var e=n.date,t=void 0===e?0:e,o=n.fromNow,a=void 0===o||o,d=n.format,u=void 0===d?"MM/DD/YY HH:mm":d;return(0,l.jsx)(r.Z,{title:t?c()(t).format(u):"No date found",children:(0,l.jsx)(i.Z,{component:"span",display:"flex",alignItems:"center",justifyContent:"center",children:t?(0,l.jsx)(s(),{date:t,fromNow:a,format:a?void 0:u,interval:6e4}):(0,l.jsx)(l.Fragment,{children:"N/A"})})})}},51372:function(n,e,t){var r;t.d(e,{K:function(){return r}}),function(n){n.TABLE="table",n.CARD="card"}(r||(r={}))},17237:function(n,e,t){var r=t(64836);e.Z=void 0;var i=r(t(45649)),o=t(80184),s=(0,i.default)((0,o.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),"Favorite");e.Z=s},36976:function(n,e,t){var r=t(64836);e.Z=void 0;var i=r(t(45649)),o=t(80184),s=(0,i.default)((0,o.jsx)("path",{d:"m18 22-.01-6L14 12l3.99-4.01L18 2H6v6l4 4-4 3.99V22h12zM8 7.5V4h8v3.5l-4 4-4-4z"}),"HourglassBottom");e.Z=s},39841:function(n,e,t){var r=t(64836);e.Z=void 0;var i=r(t(45649)),o=t(80184),s=(0,i.default)((0,o.jsx)("path",{d:"M10 10.02h5V21h-5zM17 21h3c1.1 0 2-.9 2-2v-9h-5v11zm3-18H5c-1.1 0-2 .9-2 2v3h19V5c0-1.1-.9-2-2-2zM3 19c0 1.1.9 2 2 2h3V10H3v9z"}),"TableChart");e.Z=s},40824:function(n,e,t){var r=t(64836);e.Z=void 0;var i=r(t(45649)),o=t(80184),s=(0,i.default)((0,o.jsx)("path",{d:"M14.67 5v6.5H9.33V5h5.34zm1 6.5H21V5h-5.33v6.5zm-1 7.5v-6.5H9.33V19h5.34zm1-6.5V19H21v-6.5h-5.33zm-7.34 0H3V19h5.33v-6.5zm0-1V5H3v6.5h5.33z"}),"ViewModule");e.Z=s}}]);
//# sourceMappingURL=903.4e0c72a2.chunk.js.map