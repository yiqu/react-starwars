"use strict";(self.webpackChunkstarwars=self.webpackChunkstarwars||[]).push([[770],{758:function(n,e,t){t.d(e,{Z:function(){return a}});var i=t(96015),r=t(94162),o=t(4565),s=t(80184);function a(n){var e=n.reason,t=n.debug;return(0,s.jsx)(i.Z,{marginY:5,width:"100%",children:(0,s.jsxs)(r.Z,{direction:"column",spacing:5,justifyContent:"center",alignItems:"center",children:[(0,s.jsx)(o.Z,{variant:"h5",sx:{textTransform:"uppercase"},children:"An error has occurred!"}),(0,s.jsxs)(r.Z,{direction:"column",spacing:1,justifyContent:"center",alignItems:"center",children:[(0,s.jsx)(o.Z,{variant:"body1",fontWeight:700,children:"REASON"}),(0,s.jsx)(o.Z,{variant:"body2",children:e})]}),(0,s.jsxs)(r.Z,{direction:"column",spacing:1,justifyContent:"center",alignItems:"center",children:[(0,s.jsx)(o.Z,{variant:"body1",fontWeight:700,children:"DEBUG"}),(0,s.jsx)(o.Z,{variant:"body2",component:"div",children:(0,s.jsx)("pre",{children:(0,s.jsx)("code",{style:{display:"flex",textAlign:"center"},children:JSON.stringify(t)})})})]})]})})}},6770:function(n,e,t){t.r(e),t.d(e,{default:function(){return an}});var i=t(70885),r=t(72791),o=t(94162),s=t(4565),a=t(17205),c=t(96015),l=t(36227),d=t(48928),u=t(96875),f=t(55194),v=t(38943),x=t(11087),g=t(17237),h=t(36976),p=t(13811),m=t(72426),j=t.n(m),Z=t(92546),y=function(n){var e="",t=null!==n&&void 0!==n&&n.lastUpdated?j()(null===n||void 0===n?void 0:n.lastUpdated).fromNow():"";return e=null!==n&&void 0!==n&&n.isCurrentFavorite?"Remove from favorites":"Add to favorites",null!==n&&void 0!==n&&n.lastUpdated&&(e=e+". "+(n.isCurrentFavorite?"Favorited ":"Unfavorited ")+t),e},b=t(11155),C=t(70773),L=t(51070),w=t.n(L),F=t(64317),I=t(11878),_=t(80184);function k(n){var e,t=n.film,i=n.uid,r=n.userId,c=n.allFavoritesLoading,l=(n.favToggleLoading,(0,F.T)());return(0,_.jsxs)(d.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-between"},elevation:2,children:[(0,_.jsxs)("div",{children:[(0,_.jsx)(v.Z,{component:"img",alt:"poster",height:"440",image:"".concat("","/assets/poster-img/").concat(t.episode_id,".png"),sx:{backgroundColor:"#000",objectFit:"contain"}}),(0,_.jsxs)(f.Z,{children:[(0,_.jsxs)(o.Z,{direction:{lg:"column",xl:"row"},justifyContent:{xl:"space-between",lg:"flex-start"},marginBottom:{lg:"10px",xl:"0px"},children:[(0,_.jsx)(s.Z,{gutterBottom:!0,variant:"h5",component:x.rU,to:"./".concat(i),sx:{fontWeight:"500"},children:t.title}),(0,_.jsxs)(s.Z,{variant:"h5",color:"text.secondary",sx:{fontWeight:"300"},children:["EP ",t.episode_id]})]}),(0,_.jsxs)(o.Z,{spacing:1,children:[(0,_.jsxs)(o.Z,{direction:"row",spacing:.5,children:[(0,_.jsx)(s.Z,{variant:"body1",color:"text.secondary",children:"Released:"}),(0,_.jsx)(s.Z,{variant:"body1",color:"text.secondary",children:(0,_.jsx)(b.Z,{date:t.release_date,format:"MMM Do YYYY"})})]}),(0,_.jsxs)(s.Z,{variant:"body1",color:"text.secondary",children:["Directed by: ",t.director]}),(0,_.jsxs)(s.Z,{variant:"body1",color:"text.secondary",children:["Produced by: ",t.producer]}),(0,_.jsx)(s.Z,{variant:"body1",color:"text.primary",children:t.opening_crawl})]})]})]}),(0,_.jsxs)(u.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,_.jsx)("div",{children:(0,_.jsx)(a.Z,{size:"small",component:x.rU,to:"./".concat(i),children:"See More"})}),(0,_.jsx)("div",{children:(0,_.jsx)(p.Z,{"aria-label":"favorite",onClick:function(){var n,e,i,o=t.url,s=o.split("/")[o.split("/").length-1],a=w()(C.K,"swdb/:user/favorites".concat(null!==(n=t.favorite)&&void 0!==n&&n.fireId?"/"+(null===(e=t.favorite)||void 0===e?void 0:e.fireId):"",".json"),{user:r}),c={filmUrl:o,filmId:s,lastUpdated:(new Date).getTime(),episodeId:t.episode_id,isCurrentFavorite:!0};t.favorite?(c.isCurrentFavorite=!t.favorite.isCurrentFavorite,c.fireId=t.favorite.fireId,i=l((0,I.cP)({fav:c,url:a,favStatus:!t.favorite.isCurrentFavorite}))):i=l((0,I.gf)({fav:c,url:a,favStatus:!0})),i.then((function(n){return l((0,I.xu)({httpParams:{user:"yqu"}}))}))},title:y(t.favorite),disabled:!!c,children:c?(0,_.jsx)(h.Z,{}):(0,_.jsx)(g.Z,{color:null!==(e=t.favorite)&&void 0!==e&&e.isCurrentFavorite?"error":"disabled"})})})]})]})}var P=t(73808),S=t(54596),T=(t(51372),t(57689)),M=t(53607),N=t(758),U=t(1413),E=t(50873),O=t(89422),z=t(5826),A=function(n){return n.allFilms},D=O.VL.getSelectors((function(n){return n.allFilms})),R=D.selectAll,Y=(D.selectById,D.selectEntities,D.selectIds,D.selectTotal,function(n){return A(n).isLoading}),B=function(n){return A(n).isValidating},J=function(n){return A(n).errMsg},q=(0,E.P1)(R,z._d,(function(n,e){var t=function(n,e){return(0,Z.ZP)(null!==n&&void 0!==n?n:[],(function(n){n.sort((function(n,e){return n.properties.episode_id>e.properties.episode_id?1:-1})),n.forEach((function(n){n.properties.favorite=e[n.properties.episode_id]}))}))}(n,e);return t})),W=((0,E.P1)((function(n){return A(n).apiParams}),(function(n){var e=(0,U.Z)({},n);return Object.keys(e).forEach((function(n){""==="".concat(e[n]).trim()&&delete e[n]})),e})),t(61789)),V=t(31651),H=t(26758),K=t(45173),G=t(96580),X=t(23176),$=t(51943);var Q=function(n){var e=n.durationInMilli;return(0,_.jsx)(_.Fragment,{children:e>1e3?(0,$.Z)(0,e,{includeSeconds:!0}):e+" ms"})},nn=t(55763);var en=function(n){var e=n.dateInMilli;return(0,_.jsx)(_.Fragment,{children:(0,nn.Z)(e,{includeSeconds:!0})})},tn=t(29158);var rn=function(n){var e=n.dateInMilli;return(0,_.jsx)(_.Fragment,{children:(0,tn.Z)(e,"MM/dd/yyyy p")})},on=t(46426),sn="films",an=function(){var n=(0,F.T)(),e=(0,r.useContext)(M.Z).showSnackbar,t=(0,x.lr)(),d=(0,i.Z)(t,2),u=d[0],f=(d[1],u.get("moviePageDisplayMode")),v=(0,S.Z)().isMobile,g=(0,T.s0)(),h=(0,r.useState)(f),p=(0,i.Z)(h,2),m=(p[0],p[1],(0,F.C)(Y),(0,F.C)(B),(0,F.C)(J),(0,F.C)(z.xU)),j=(0,F.C)(z.JJ),Z=((0,F.C)(q),(0,W.$9)()),y=Z.data,b=Z.isLoading,C=Z.isFetching,L=Z.fulfilledTimeStamp,w=Z.startedTimeStamp,I=(Z.refetch,Z.isError),U=Z.error,E=(null!==L&&void 0!==L?L:0)-(null!==w&&void 0!==w?w:0);(0,r.useEffect)((function(){return function(){e("info",void 0)}}),[e]);(0,r.useCallback)((function(e){n((0,O.iz)({title:e}))}),[n]);return b?(0,_.jsx)(o.Z,{direction:"column",width:"100%",justifyContent:"center",alignItems:"center",height:"100vh",children:(0,_.jsx)(V.Z,{message:sn})}):I?(0,_.jsx)(N.Z,{reason:U.status,debug:U.error}):y?(0,_.jsxs)(o.Z,{direction:"column",width:"100%",children:[(0,_.jsx)(P.Z,{toolbarProps:{position:"sticky",sx:{top:v?"56px":"64px"}},children:(0,_.jsxs)(l.Z,{container:!0,xs:12,children:[(0,_.jsx)(l.Z,{xs:4,children:(0,_.jsx)(o.Z,{direction:"row",justifyContent:"start",alignItems:"center",width:"100%",children:(0,_.jsx)(H.Z,{entity:sn,onResultSelect:function(n){g("./".concat(null===n||void 0===n?void 0:n.uid))}})})}),(0,_.jsx)(l.Z,{xs:4,xsOffset:"auto",display:"flex",children:(0,_.jsxs)(o.Z,{direction:"row",justifyContent:"end",alignItems:"center",width:"100%",spacing:2,"data-tooltip-id":"fetch-information",children:[C&&(0,_.jsx)(G.Z,{size:20}),!C&&(0,_.jsxs)(s.Z,{fontSize:11,component:"div",children:["Last fetched ",(0,_.jsx)(rn,{dateInMilli:L}),", took: ",(0,_.jsx)(Q,{durationInMilli:E})]}),(0,_.jsx)(a.Z,{variant:"outlined",startIcon:(0,_.jsx)(X.Z,{}),onClick:function(){n(W.ak.util.invalidateTags([{type:"Films"}]))},children:"Refresh"})]})})]})}),(0,_.jsx)(c.Z,{mt:2,mx:v?2:0,children:(0,_.jsx)(K.Z,{size:"med",children:null===y||void 0===y?void 0:y.map((function(n){return(0,_.jsx)(l.Z,{xs:12,sm:8,smOffset:2,mb:3,children:(0,_.jsx)(k,{userId:"yqu",film:n.properties,uid:n.uid,allFavoritesLoading:m,favToggleLoading:j})},n.properties.episode_id)}))})}),(0,_.jsx)(on.u,{id:"fetch-information",place:"bottom",offset:30,children:(0,_.jsx)(o.Z,{direction:"column",justifyContent:"center",alignItems:"center",children:(0,_.jsxs)(c.Z,{children:["Last fetched: ",(0,_.jsx)(rn,{dateInMilli:L})," ( ",(0,_.jsx)(en,{dateInMilli:L})," ago )."]})})})]}):(0,_.jsx)(_.Fragment,{})}},26758:function(n,e,t){var i=t(1413),r=t(70885),o=t(94162),s=t(22262),a=t(96015),c=t(59911),l=t(40255),d=t(72791),u=t(88163),f=t(73054),v=t(15290),x=t(79723),g=t(80184);function h(n){var e=n.params,t=n.entity;return(0,g.jsx)(c.Z,(0,i.Z)((0,i.Z)({},e),{},{label:"Filter ".concat(t),variant:"standard"}))}e.Z=function(n){var e=n.entity,t=n.onResultSelect,i=(0,d.useState)([]),c=(0,r.Z)(i,2),p=c[0],m=c[1],j=(0,d.useState)(null),Z=(0,r.Z)(j,2),y=Z[0],b=Z[1],C=(0,d.useState)(null),L=(0,r.Z)(C,2),w=L[0],F=L[1],I=(0,x.N)(w,600),_=(0,f.rw)(I?{entity:e,name:I}:l.skipToken),k=_.data,P=_.isFetching;return _.error,_.isError,_.refetch,(0,d.useEffect)((function(){m(null!==k&&void 0!==k?k:[])}),[k]),(0,u.Z)((function(){}),[I]),(0,g.jsxs)(o.Z,{direction:"row",justifyContent:"start",alignItems:"center",width:"100%",children:[(0,g.jsx)(s.Z,{disablePortal:!0,id:"search-entity-autocomplete",options:p,fullWidth:!0,autoHighlight:!0,blurOnSelect:!0,filterOptions:function(n){return n},value:y,getOptionLabel:function(n){return n.properties.name},noOptionsText:"Search for ".concat(e),loading:P,renderInput:function(n){return(0,g.jsx)(h,{params:n,entity:e})},onChange:function(n,e){var i;m((i=e)?[i]:p),b(i),t(i)},onInputChange:function(n,e){return function(n,e){F(e)}(0,e)},isOptionEqualToValue:function(n,e){return n.uid===e.uid}}),(0,g.jsx)(a.Z,{ml:2,children:P&&(0,g.jsx)(v.Z,{size:20})})]})}},5826:function(n,e,t){t.d(e,{JJ:function(){return u},RK:function(){return f},Wc:function(){return g},_d:function(){return v},f3:function(){return x},h3:function(){return h},xU:function(){return d}});var i=t(1413),r=t(50873),o=t(92546),s=t(18581),a=function(n){return n.favoriteFilms},c=s.VL.getSelectors((function(n){return n.favoriteFilms})),l=c.selectAll,d=(c.selectById,c.selectEntities,c.selectIds,c.selectTotal,function(n){return a(n).loading}),u=function(n){return a(n).favoriteToggleLoading},f=function(n){return a(n).firstTimeLoading},v=(0,r.P1)(l,(function(n){var e={};return n.forEach((function(n){e[n.episodeId]=(0,i.Z)({},n)})),e})),x=(0,r.P1)(l,(function(n){return(0,o.ZP)(n,(function(n){return n.filter((function(n){return!!n.isCurrentFavorite})).sort((function(n,e){return n.lastUpdated<e.lastUpdated?1:-1}))}))})),g=(0,r.P1)(a,(function(n){return n.extraFetchParams})),h=(0,r.P1)(l,a,(function(n,e){var t,i,r=null!==(t=e.extraFetchParams)&&void 0!==t&&t.equalTo?null!==(i=e.filteredFavorites)&&void 0!==i?i:[]:n;return(0,o.ZP)(r,(function(n){return n.filter((function(n){return!!n.isCurrentFavorite})).sort((function(n,e){return n.lastUpdated<e.lastUpdated?1:-1}))}))}))},11155:function(n,e,t){var i=t(75814),r=t(4565),o=t(46431),s=t.n(o),a=t(72426),c=t.n(a),l=t(80184);e.Z=function(n){var e=n.date,t=void 0===e?0:e,o=n.fromNow,a=void 0===o||o,d=n.format,u=void 0===d?"MM/DD/YY HH:mm":d;return(0,l.jsx)(i.Z,{title:t?c()(t).format(u):"No date found",children:(0,l.jsx)(r.Z,{component:"span",display:"flex",alignItems:"center",justifyContent:"center",children:t?(0,l.jsx)(s(),{date:t,fromNow:a,format:a?void 0:u,interval:6e4}):(0,l.jsx)(l.Fragment,{children:"N/A"})})})}},45173:function(n,e,t){var i=t(36227),r=t(80184);e.Z=function(n){var e=n.size,t=void 0===e?"med":e,o=n.children;return(0,r.jsx)(i.Z,{container:!0,spacing:0,xs:12,xsOffset:0,sm:"full"===t?12:"med"===t?7:4,smOffset:"full"===t?0:"med"===t?2.5:4,children:o})}},15290:function(n,e,t){t.d(e,{Z:function(){return a}});var i=t(1413),r=(t(72791),t(94162)),o=t(96580),s=t(80184);function a(n){var e=n.size,t=void 0===e?40:e,a=n.color,c=void 0===a?"grey.500":a,l=n.styleProps;return(0,s.jsx)(r.Z,{sx:(0,i.Z)({color:c},l),spacing:1,direction:"row",children:(0,s.jsx)(o.Z,{color:"inherit",size:t})})}},73808:function(n,e,t){t.d(e,{Z:function(){return c}});var i=t(1413),r=t(22892),o=t(44666),s=t(43906),a=t(80184);function c(n){var e=n.toolbarProps,t=n.children;return(0,a.jsx)(r.Z,(0,i.Z)((0,i.Z)({elevation:0},e),{},{children:(0,a.jsx)(o.Z,{variant:"regular",sx:{bgcolor:function(n){return"light"===n.palette.mode?s.s[100]:null},color:function(n){return"light"===n.palette.mode?"#000":null},pr:0},children:t})}))}},79723:function(n,e,t){t.d(e,{N:function(){return o}});var i=t(70885),r=t(72791),o=function(n,e){var t=(0,r.useState)(n),o=(0,i.Z)(t,2),s=o[0],a=o[1];return(0,r.useEffect)((function(){var t=setTimeout((function(){a(n)}),e);return function(){clearTimeout(t)}}),[n,e]),s}},54596:function(n,e,t){var i=t(52797),r=t(74142);e.Z=function(){var n=(0,r.Z)();return{isMobile:(0,i.Z)(n.breakpoints.down("sm")),isMed:(0,i.Z)(n.breakpoints.down("md")),isLg:(0,i.Z)(n.breakpoints.down("lg")),isXl:(0,i.Z)(n.breakpoints.down("xl"))}}},31651:function(n,e,t){t.d(e,{Z:function(){return s}});t(72791);var i={parentClass:"LoadingLogo_parentClass__NFHXT",loadingLogo:"LoadingLogo_loadingLogo__BqUtz",loadingParent:"LoadingLogo_loadingParent__VASnq","loading-container":"LoadingLogo_loading-container__cjLsJ","whole-page":"LoadingLogo_whole-page__DkCG7",ldsFacebook:"LoadingLogo_ldsFacebook__pRdY2","lds-facebook":"LoadingLogo_lds-facebook__JLntj"},r=t(77783),o=t(80184);function s(n){return(0,o.jsxs)("div",{className:"".concat(i.parentClass," w-100"),children:[(0,o.jsx)("div",{children:(0,o.jsx)("div",{className:i.loadingLogo,children:(0,o.jsx)("img",{src:r,className:"".concat(i.logoImg," d-inline-block"),alt:"logo"})})}),(0,o.jsx)("div",{className:i.loadingParent,children:(0,o.jsxs)("div",{className:i.ldsFacebook,children:[(0,o.jsx)("div",{}),(0,o.jsx)("div",{}),(0,o.jsx)("div",{})]})}),(0,o.jsxs)("div",{className:i.secfont,children:["Loading ",n.message," ..."]})]})}},51372:function(n,e,t){var i;t.d(e,{K:function(){return i}}),function(n){n.TABLE="table",n.CARD="card"}(i||(i={}))}}]);
//# sourceMappingURL=770.d6cf61d7.chunk.js.map