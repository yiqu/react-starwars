{"version":3,"file":"static/js/264.590aeb91.chunk.js","mappings":"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","sources":["404/ErrorPage.tsx","core/store/favorites/favorites.selectors.ts","core/favorites/all/FavoriteCard.tsx","core/favorites/all/FavoritesAll.tsx","shared/components/date/DateDisplay2.tsx","shared/components/date/DateToNow.tsx","shared/components/date/DurationDisplay.tsx","shared/components/layouts/LayoutWithGutter.tsx","shared/components/toolbar/Toolbar.tsx","shared/hooks/useIsMobile.ts","webpack://starwars/./src/shared/loading/full-logo/LoadingLogo.module.scss?618b","shared/loading/full-logo/LoadingLogo.tsx"],"sourcesContent":["import { Box, Stack, Typography } from \"@mui/material\";\n\nexport interface ErrorPageProp {\n  reason?: string;\n  debug?: any;\n}\n\nexport default function ErrorPage({ reason, debug }: ErrorPageProp) {\n\n  return (\n    <Box marginY={ 5 } width=\"100%\">\n      <Stack direction=\"column\" spacing={ 5 } justifyContent=\"center\" alignItems=\"center\">\n        <Typography variant=\"h5\" sx={ {textTransform:'uppercase'} }>\n          An error has occurred!\n        </Typography>\n\n        <Stack direction=\"column\" spacing={ 1 } justifyContent=\"center\" alignItems=\"center\">\n          <Typography variant=\"body1\" fontWeight={ 700 }>\n            REASON\n          </Typography>\n          <Typography variant=\"body2\">\n            { reason }\n          </Typography>\n        </Stack>\n        \n        <Stack direction=\"column\" spacing={ 1 } justifyContent=\"center\" alignItems=\"center\">\n          <Typography variant=\"body1\" fontWeight={ 700 }>\n            DEBUG\n          </Typography>\n          <Typography variant=\"body2\" component=\"div\">\n            <pre>\n              <code style={ {display: 'flex', textAlign: 'center'} }>\n                { JSON.stringify(debug) }\n              </code>\n            </pre>\n          </Typography>\n        </Stack>\n      </Stack>\n    </Box>\n  );\n};","import { createSelector, createAction, createDraftSafeSelector } from \"@reduxjs/toolkit\";\nimport { FavoriteMoviesObjList, FavoriteToSave } from \"src/shared/models/starwars.model\";\nimport { RootState } from \"src/store/appStore\";\nimport produce from 'immer';\nimport { adapter } from \"./favorites.reducer\";\nimport { HttpParams } from \"src/shared/models/http.model\";\n\nconst favoriteFilmsSlice = (state: RootState) => {\n  return state.favoriteFilms;\n};\n\nconst favoritesConfigSlice = (state: RootState) => {\n  return state.favoritesConfig;\n};\n\nexport const { selectAll, selectById, selectEntities, selectIds, selectTotal } =\n  adapter.getSelectors((state: RootState) => state.favoriteFilms);\n\nexport const selectMutatingFavorites = createSelector(\n  favoritesConfigSlice,\n  (state)=> {\n    return state.mutatingFavorites;\n  }\n);\n\nexport const selectShowCurrentFavoriteList = createSelector(\n  favoritesConfigSlice,\n  (state): boolean=> {\n    return !!state.showCurrentFavsList;\n  }\n);\n\nexport const selectIsLoading = (state: RootState) => {\n  return favoriteFilmsSlice(state).loading;\n};\n\nexport const selectIsFavToggleLoading = (state: RootState) => {\n  return favoriteFilmsSlice(state).favoriteToggleLoading;\n};\n\nexport const selectIsFirstTimeLoading = (state: RootState) => {\n  return favoriteFilmsSlice(state).firstTimeLoading;\n};\n\nexport const selectError = (state: RootState) => {\n  return favoriteFilmsSlice(state).error;\n};\n\nexport const selectErrorMsg = (state: RootState) => {\n  return favoriteFilmsSlice(state).errMsg;\n};\n\nexport const selectAllByEpId = createSelector(\n  selectAll,\n  (state: FavoriteToSave[]): FavoriteMoviesObjList => {\n    const allFavs = state;\n    const transformedData: FavoriteMoviesObjList = {};\n    allFavs.forEach((fav: FavoriteToSave) => {\n      transformedData[fav.episodeId] = {\n        ...fav\n      };\n    });\n    return transformedData;\n  }\n);\n\nexport const selectFavorited = createSelector(\n  selectAll,\n  (allFavs: FavoriteToSave[]) => {\n    const result: FavoriteToSave[] = produce(allFavs, (draft) => {\n      return draft.filter((fav) => {\n        return !!fav.isCurrentFavorite;\n      }).sort((a, b) => {\n        return a.lastUpdated < b.lastUpdated ? 1 : -1;\n      });\n    });\n    return result;\n  }\n);\n\nexport const selectExtraFetchParams = createSelector(\n  favoriteFilmsSlice,\n  (state): HttpParams | undefined => {\n    return state.extraFetchParams;\n  }\n);\n\nexport const selectFilteredFavorites = createSelector(\n  selectAll,\n  favoriteFilmsSlice,\n  (allFavs, state) => {\n    const favs = state.extraFetchParams?.equalTo ? (state.filteredFavorites ?? []) : allFavs;\n    const result: FavoriteToSave[] = produce(favs, (draft) => {\n      return draft.filter((fav) => {\n        return !!fav.isCurrentFavorite;\n      }).sort((a, b) => {\n        return a.lastUpdated < b.lastUpdated ? 1 : -1;\n      });\n    });\n    return result;\n  }\n);","import { Card, CardContent, Typography, CardActions, Button, IconButton, Stack, Box, CardMedia, Divider, ListItem, ListItemAvatar, Avatar, ListItemText } from \"@mui/material\";\nimport { FavoriteToSave } from \"src/shared/models/starwars.model\";\nimport { Link } from \"react-router-dom\";\nimport FavoriteIcon from '@mui/icons-material/Favorite';\nimport DateToNow from \"src/shared/components/date/DateToNow\";\n\n\nexport interface FavoriteItemProps {\n  isWorking: boolean;\n  favorite: FavoriteToSave;\n  toggle: (fav: FavoriteToSave) => void;\n}\n\nexport default function FavoriteItem({ favorite, isWorking, toggle }: FavoriteItemProps) {\n\n  return (\n    <ListItem key={ favorite.fireId } sx={ {opacity: isWorking ? 0.3 : 1} } secondaryAction={\n      <IconButton edge=\"end\" aria-label=\"delete\" onClick={ () => toggle(favorite) } disabled={ isWorking } data-tooltip-id=\"tooltip\" \n        data-tooltip-content=\"Toggle favorite\" >\n        <FavoriteIcon color={ favorite.isCurrentFavorite ? 'error' : 'disabled' } />\n      </IconButton>\n    }>\n      <ListItemAvatar sx={ {mr: 2} }>\n        <Avatar src={ `${process.env.PUBLIC_URL}/assets/poster-img/${favorite.episodeId}.png` }\n        sx={ { width: 80, height: 80 } }>\n        </Avatar>\n      </ListItemAvatar>\n      <ListItemText\n        primary={ <Link to={ `./${favorite.fireId}` }>\n          <Stack direction=\"row\" justifyContent=\"start\" alignItems=\"center\">\n            <Typography variant=\"h5\">\n              {`Ep. ${favorite.episodeId}`}\n            </Typography>\n          </Stack>\n        </Link> }\n        secondary={ <Typography variant=\"body1\">Updated: <DateToNow dateInMilli={ favorite.lastUpdated } /> ago </Typography> }\n      />\n    </ListItem>\n  );\n};\n","import { useAppDispatch, useAppSelector } from \"src/store/appHook\";\nimport Grid from '@mui/material/Unstable_Grid2';\nimport { Avatar, Box, Button, CircularProgress, Divider, FormControlLabel, FormGroup, IconButton, List, ListItem, ListItemAvatar, ListItemText, Stack, Switch, Tooltip, Typography } from \"@mui/material\";\nimport { favoritesTag, starwarsFavoritesApi, useFetchFavoritesQuery, useUpdateFavoriteMutation } from \"src/core/store/favorites/favorites.api\";\nimport LoadingLogo from \"src/shared/loading/full-logo/LoadingLogo\";\nimport ErrorPage from \"src/404/ErrorPage\";\nimport AppToolbar from \"src/shared/components/toolbar/Toolbar\";\nimport DateDisplay2 from \"src/shared/components/date/DateDisplay2\";\nimport DurationDisplay from \"src/shared/components/date/DurationDisplay\";\nimport { Delete, DeleteOutline, FavoriteOutlined, RefreshOutlined } from \"@mui/icons-material\";\nimport useScreenSize from \"src/shared/hooks/useIsMobile\";\nimport LayoutWithGutter from \"src/shared/components/layouts/LayoutWithGutter\";\nimport React, { useState } from \"react\";\nimport { FavoriteToSave } from \"src/shared/models/starwars.model\";\nimport { cloneDeep } from \"lodash\";\nimport toast from \"react-hot-toast\";\nimport { selectMutatingFavorites, selectShowCurrentFavoriteList } from \"src/core/store/favorites/favorites.selectors\";\nimport FavoriteItem from \"./FavoriteCard\";\nimport { toggleShowCurrentFavList } from \"src/core/store/favorites/favorites-config.reducer\";\n\nexport default function FavoritesAll() {\n\n  const { isMobile } = useScreenSize();\n  const dispatch = useAppDispatch();\n  const [updateFavorite, result] = useUpdateFavoriteMutation();\n  const { data, onlyFavorites, isLoading, isFetching, isError, error, fulfilledTimeStamp, startedTimeStamp, refetch } = useFetchFavoritesQuery(undefined, {\n    selectFromResult: (data) => {\n      return {\n        ...data,\n        onlyFavorites: data.data?.filter((fav) => {\n          return fav.isCurrentFavorite;\n        })\n      };\n    }\n  });\n  const fetchTimeDuration = (fulfilledTimeStamp ?? 0) - (startedTimeStamp ?? 0);\n  const mutatingFavorites = useAppSelector(selectMutatingFavorites);\n  const showCurrentFavList: boolean = useAppSelector(selectShowCurrentFavoriteList);\n\n  const handleToggleFavorite = (fav: FavoriteToSave) => {\n    const toUpdate = cloneDeep(fav);\n    if (toUpdate) {\n      toUpdate.isCurrentFavorite = !toUpdate.isCurrentFavorite;\n      toUpdate.lastUpdated = new Date().getTime();\n      const update$ = updateFavorite(toUpdate);\n      update$.then((res) => toast.success(`${toUpdate.isCurrentFavorite ? 'Added' : 'Removed'} Ep. ${toUpdate.episodeId} as favorites`));\n    }\n  };\n\n  const handleRefreshFavorites = () => {\n    const refresh$ = refetch();\n    toast.promise(refresh$, {\n      loading: 'Getting latest...',\n      success: 'Successfully refreshed all favorites!',\n      error: 'Error refreshing favorites'\n    });\n  };\n\n  const handleShowCurrentFavToggle = (event: React.ChangeEvent<HTMLInputElement>) => {\n    dispatch(toggleShowCurrentFavList(event.target.checked));\n  };\n\n\n  if (isLoading) return (\n    <Stack direction=\"column\" width=\"100%\" justifyContent=\"center\" alignItems=\"center\" height=\"100vh\">\n      <LoadingLogo message={ 'Favorites' } />\n    </Stack>\n  );\n\n  if (isError) {\n    return <ErrorPage reason={ (error as any).status } debug={ (error as any).error } />;\n  }\n\n  if (!onlyFavorites || !data) {\n    return <></>;\n  }\n\n  return (\n    <Stack direction=\"column\" width=\"100%\">\n      <AppToolbar toolbarProps={ {\n          position: \"sticky\",\n          sx: {top: isMobile ? '56px':'64px'}\n        } }>\n        <Grid container xs={ 12 }>\n          <Grid xs={ 4 }>\n            <Stack direction=\"row\" justifyContent=\"start\" alignItems=\"center\" width=\"100%\">\n            </Stack>\n          </Grid>\n          <Grid xs={ 8 } xsOffset=\"auto\" display=\"flex\">\n            <Stack direction=\"row\" justifyContent=\"end\" alignItems=\"center\" width=\"100%\" spacing={ 2 } data-tooltip-id=\"general-tooltip\"\n              data-tooltip-content={ `Refresh` }>\n              { isFetching && <CircularProgress size={ 20 } /> }\n              { !isFetching && <Typography fontSize={ 11 } component=\"div\">\n                Last fetched <DateDisplay2 dateInMilli={ fulfilledTimeStamp ?? 0 } />, took: <DurationDisplay durationInMilli={ fetchTimeDuration } />\n              </Typography> }\n              <Divider orientation=\"vertical\" flexItem={ true } variant=\"middle\" />\n              <Stack direction=\"row\" justifyContent=\"end\" alignItems=\"center\">\n                <FormGroup>\n                  <FormControlLabel control={ <Switch checked={ showCurrentFavList } onChange={ handleShowCurrentFavToggle } /> } label=\"Show Current Favorites\" />\n                </FormGroup>\n                <Button variant=\"outlined\" startIcon={ <RefreshOutlined /> } onClick={ handleRefreshFavorites }>\n                  Refresh Favorites\n                </Button>\n              </Stack>\n            </Stack>\n          </Grid>\n        </Grid>\n      </AppToolbar>\n      <Box mt={ 2 } mx={ isMobile ? 2 : 0 }>\n        <LayoutWithGutter size={ 'skinny' }>\n          {\n            showCurrentFavList && (\n              <>\n                <Divider sx={ {width: '100%', alignItems: 'flex-start', mb: 4} }>Current Favorites</Divider>\n          \n                <List dense={ false } sx={ {width: '100%'} }>\n                  {\n                    onlyFavorites.map((fav) => {\n                      const apiWorking = mutatingFavorites[fav.fireId!];\n                      return (\n                        <React.Fragment key={ fav.fireId }>\n                          <FavoriteItem isWorking={ apiWorking } favorite={ fav } toggle={ handleToggleFavorite } />\n                          <Divider variant=\"inset\" component=\"li\" />\n                        </React.Fragment>\n                      );})\n                  }\n                </List>\n              </>\n            )\n          }\n\n          <Divider sx={ {width: '100%', alignItems: 'flex-start', my: 4} }>All</Divider>\n\n          <List dense={ false } sx={ {width: '100%'} }>\n            { data.map((fav) => {\n              const apiWorking = mutatingFavorites[fav.fireId!];\n              return (\n                <React.Fragment key={ fav.fireId }>\n                  <FavoriteItem isWorking={ apiWorking } favorite={ fav } toggle={ handleToggleFavorite } />\n                  <Divider variant=\"inset\" component=\"li\" />\n                </React.Fragment>\n              );\n            }) }\n          </List>\n\n        </LayoutWithGutter>\n      </Box>\n    </Stack>\n  );\n};","import { format } from 'date-fns';\n\n\nexport interface DateDisplay2Props {\n  dateInMilli: number | undefined;\n}\n\nfunction DateDisplay2({ dateInMilli }: DateDisplay2Props) {\n  return (\n    <>\n      { (dateInMilli !== undefined) && format(dateInMilli, 'MM/dd/yyyy p') }\n    </>\n  );\n};\n\nexport default DateDisplay2;","import { formatDistanceToNow } from 'date-fns';\n\nexport interface DateDisplay2Props {\n  dateInMilli: number | undefined;\n}\n\nfunction DateToNow({ dateInMilli }: DateDisplay2Props) {\n  return (\n    <>\n      { (dateInMilli !== undefined) && formatDistanceToNow(dateInMilli, { includeSeconds: true }) }\n    </>\n  );\n};\n\nexport default DateToNow;","import { formatDistance } from 'date-fns';\n\n\nexport interface DurationDisplayProps {\n  durationInMilli: number;\n}\n\nfunction DurationDisplay({ durationInMilli }: DurationDisplayProps) {\n  return (\n    <>\n      { (durationInMilli > 1000) ? (formatDistance(0, durationInMilli, { includeSeconds : true })) : (durationInMilli + ' ms') }\n    </>\n  );\n};\n\nexport default DurationDisplay;","import Grid from '@mui/material/Unstable_Grid2';\nimport { ReactNode } from 'react';\n\nexport interface LayoutGutterProps {\n  children: ReactNode;\n  size?: \"full\" | \"med\" | \"skinny\"\n}\n\nfunction LayoutWithGutter({ size = \"med\", children }: LayoutGutterProps) {\n\n  return (\n    // <Grid container spacing={ 0 } xs={ 12 } xsOffset={ 0 } sm={ sizes.width } smOffset={ sizes.offset }>\n    //   { children }\n    // </Grid>\n    <Grid container spacing={ 0 } xs={ 12 } xsOffset={ 0 } \n      sm={ size==='full' ? 12 : (size === 'med' ? 7 : (4)) } \n      smOffset={ size==='full' ? 0 : (size === 'med' ? 2.5 : (4)) }>\n      { children }\n    </Grid>\n  );\n}\n\nexport default LayoutWithGutter;","import { AppBar, Stack, Button, Tooltip, IconButton, AppBarTypeMap } from \"@mui/material\";\nimport { DataBlockDisplayMode } from \"src/shared/models/general.model\";\nimport Toolbar from '@mui/material/Toolbar';\nimport { GREY } from \"src/theme/palette\";\n\ninterface ToolbarProps {\n  toolbarProps: any;\n  children: any;\n}\n\nexport default function AppToolbar({ toolbarProps, children }: ToolbarProps) {\n  \n  return (\n    <AppBar elevation={ 0 } { ...toolbarProps }>\n      <Toolbar \n        variant=\"regular\" \n        sx={ {bgcolor: (theme) => theme.palette.mode === 'light' ? GREY[100] : null, \n          color: (theme) => theme.palette.mode === 'light' ? '#000' : null,\n          pr: 0\n        } }>\n        { children }\n      </Toolbar>\n    </AppBar>\n  );\n}","import useMediaQuery from '@mui/material/useMediaQuery';\nimport { useTheme } from '@mui/material/styles';\n\n/**\n * A media query string\n * which matches screen widths less than the screen size given by the breakpoint key (down)\n * @returns \n */\nconst useScreenSize = () => {\n\n  const theme = useTheme();\n\n  const isMobileScreenSize = useMediaQuery(theme.breakpoints.down('sm'));\n\n  const isMediumSize = useMediaQuery(theme.breakpoints.down('md'));\n\n  const isLargeSize = useMediaQuery(theme.breakpoints.down('lg'));\n\n  const isXlSize = useMediaQuery(theme.breakpoints.down('xl'));\n\n  return {\n    isMobile: isMobileScreenSize,\n    isMed: isMediumSize,\n    isLg: isLargeSize,\n    isXl: isXlSize\n  };\n\n};\n\nexport default useScreenSize;","// extracted by mini-css-extract-plugin\nexport default {\"parentClass\":\"LoadingLogo_parentClass__NFHXT\",\"loadingLogo\":\"LoadingLogo_loadingLogo__BqUtz\",\"loadingParent\":\"LoadingLogo_loadingParent__VASnq\",\"loading-container\":\"LoadingLogo_loading-container__cjLsJ\",\"whole-page\":\"LoadingLogo_whole-page__DkCG7\",\"ldsFacebook\":\"LoadingLogo_ldsFacebook__pRdY2\",\"lds-facebook\":\"LoadingLogo_lds-facebook__JLntj\"};","/* eslint-disable no-unused-vars */\nimport React, { useEffect, useReducer, useState, useContext, useMemo, Suspense } from 'react';\nimport classes from './LoadingLogo.module.scss';\nimport logo from '../../../static/img/death-star.png';\n\nexport interface LoadingLogoProps {\n  message: string;\n  children?: any;\n}\n\nexport default function LoadingLogo(props: LoadingLogoProps) {\n\n\n  return (\n    <div className={ `${classes.parentClass} w-100` }>\n      <div>\n        <div className={ classes.loadingLogo }>\n          <img src={ logo }\n            className={ `${classes.logoImg} d-inline-block` } alt=\"logo\" />\n        </div>\n    \n      </div>\n      <div className={ classes.loadingParent }>\n        <div className={ classes.ldsFacebook }><div></div><div></div><div></div></div>\n      </div>\n      <div className={ classes.secfont }>\n        Loading {props.message} ...\n      </div>\n    </div>\n  );\n};"],"names":["ErrorPage","reason","debug","marginY","width","direction","spacing","justifyContent","alignItems","variant","sx","textTransform","fontWeight","component","style","display","textAlign","JSON","stringify","favoriteFilmsSlice","state","favoriteFilms","favoritesConfigSlice","favoritesConfig","adapter","selectAll","selectMutatingFavorites","selectById","selectEntities","selectIds","selectTotal","createSelector","mutatingFavorites","selectShowCurrentFavoriteList","showCurrentFavsList","transformedData","forEach","fav","episodeId","allFavs","produce","draft","filter","isCurrentFavorite","sort","a","b","lastUpdated","extraFetchParams","favs","equalTo","filteredFavorites","FavoriteItem","favorite","isWorking","toggle","ListItem","opacity","secondaryAction","IconButton","edge","onClick","disabled","Favorite","color","ListItemAvatar","mr","Avatar","src","process","height","ListItemText","primary","to","fireId","Stack","Typography","secondary","DateToNow","dateInMilli","FavoritesAll","isMobile","useScreenSize","dispatch","useAppDispatch","useUpdateFavoriteMutation","updateFavorite","useFetchFavoritesQuery","undefined","selectFromResult","data","onlyFavorites","isLoading","isFetching","isError","error","fulfilledTimeStamp","startedTimeStamp","refetch","fetchTimeDuration","useAppSelector","showCurrentFavList","handleToggleFavorite","toUpdate","cloneDeep","Date","getTime","then","res","toast","LoadingLogo","message","status","toolbarProps","position","top","container","xs","xsOffset","CircularProgress","size","fontSize","DateDisplay2","DurationDisplay","durationInMilli","Divider","orientation","flexItem","FormGroup","FormControlLabel","control","Switch","checked","onChange","event","toggleShowCurrentFavList","target","label","Button","startIcon","RefreshOutlined","refresh$","loading","success","Box","mt","mx","LayoutWithGutter","mb","List","dense","map","apiWorking","my","format","formatDistanceToNow","includeSeconds","formatDistance","children","sm","smOffset","AppToolbar","elevation","bgcolor","theme","palette","mode","GREY","pr","useTheme","useMediaQuery","breakpoints","down","isMed","isLg","isXl","props","className","classes","logo","alt"],"sourceRoot":""}