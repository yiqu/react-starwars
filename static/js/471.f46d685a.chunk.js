"use strict";(self.webpackChunkstarwars=self.webpackChunkstarwars||[]).push([[471],{758:function(n,e,t){t.d(e,{Z:function(){return s}});var i=t(96015),r=t(94162),o=t(4565),a=t(80184);function s(n){var e=n.reason,t=n.debug;return(0,a.jsx)(i.Z,{marginY:5,width:"100%",children:(0,a.jsxs)(r.Z,{direction:"column",spacing:5,justifyContent:"center",alignItems:"center",children:[(0,a.jsx)(o.Z,{variant:"h5",sx:{textTransform:"uppercase"},children:"An error has occurred!"}),(0,a.jsxs)(r.Z,{direction:"column",spacing:1,justifyContent:"center",alignItems:"center",children:[(0,a.jsx)(o.Z,{variant:"body1",fontWeight:700,children:"REASON"}),(0,a.jsx)(o.Z,{variant:"body2",children:e})]}),(0,a.jsxs)(r.Z,{direction:"column",spacing:1,justifyContent:"center",alignItems:"center",children:[(0,a.jsx)(o.Z,{variant:"body1",fontWeight:700,children:"DEBUG"}),(0,a.jsx)(o.Z,{variant:"body2",component:"div",children:(0,a.jsx)("pre",{children:(0,a.jsx)("code",{style:{display:"flex",textAlign:"center"},children:JSON.stringify(t)})})})]})]})})}},21471:function(n,e,t){t.r(e),t.d(e,{default:function(){return q}});var i=t(1413),r=t(70885),o=t(72791),a=t(94162),s=t(4565),d=t(17205),l=t(96015),c=t(36227),u=t(48928),f=t(96875),v=t(55194),x=t(38943),h=t(11087),g=t(17237),p=t(36976),Z=t(13811),j=t(72426),m=t.n(j),y=function(n){var e="",t=null!==n&&void 0!==n&&n.lastUpdated?m()(null===n||void 0===n?void 0:n.lastUpdated).fromNow():"";return e=null!==n&&void 0!==n&&n.isCurrentFavorite?"Remove from favorites":"Add to favorites",null!==n&&void 0!==n&&n.lastUpdated&&(e=e+". "+(n.isCurrentFavorite?"Favorited ":"Unfavorited ")+t),e},b=t(11155),w=t(70773),C=t(51070),L=t.n(C),F=t(64317),I=t(11878),_=t(80184);function k(n){var e=n.film,t=n.favoriteData,i=n.uid,r=n.userId,o=n.allFavoritesLoading,l=(n.favToggleLoading,(0,F.T)());return(0,_.jsxs)(u.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-between"},elevation:2,children:[(0,_.jsxs)("div",{children:[(0,_.jsx)(x.Z,{component:"img",alt:"poster",height:"440",image:"".concat("","/assets/poster-img/").concat(e.episode_id,".png"),sx:{backgroundColor:"#000",objectFit:"contain"}}),(0,_.jsxs)(v.Z,{children:[(0,_.jsxs)(a.Z,{direction:{lg:"column",xl:"row"},justifyContent:{xl:"space-between",lg:"flex-start"},marginBottom:{lg:"10px",xl:"0px"},children:[(0,_.jsx)(s.Z,{gutterBottom:!0,variant:"h5",component:h.rU,to:"./".concat(i),sx:{fontWeight:"500"},children:e.title}),(0,_.jsxs)(s.Z,{variant:"h5",color:"text.secondary",sx:{fontWeight:"300"},children:["EP ",e.episode_id]})]}),(0,_.jsxs)(a.Z,{spacing:1,children:[(0,_.jsxs)(a.Z,{direction:"row",spacing:.5,children:[(0,_.jsx)(s.Z,{variant:"body1",color:"text.secondary",children:"Released:"}),(0,_.jsx)(s.Z,{variant:"body1",color:"text.secondary",children:(0,_.jsx)(b.Z,{date:e.release_date,format:"MMM Do YYYY"})})]}),(0,_.jsxs)(s.Z,{variant:"body1",color:"text.secondary",children:["Directed by: ",e.director]}),(0,_.jsxs)(s.Z,{variant:"body1",color:"text.secondary",children:["Produced by: ",e.producer]}),(0,_.jsx)(s.Z,{variant:"body1",color:"text.primary",children:e.opening_crawl})]})]})]}),(0,_.jsxs)(f.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,_.jsx)("div",{children:(0,_.jsx)(d.Z,{size:"small",component:h.rU,to:"./".concat(i),children:"See More"})}),(0,_.jsx)("div",{children:(0,_.jsx)(Z.Z,{"aria-label":"favorite",onClick:function(){var n,t,i,o=e.url,a=o.split("/")[o.split("/").length-1],s=L()(w.Ko,"swdb/:user/favorites".concat(null!==(n=e.favorite)&&void 0!==n&&n.fireId?"/"+(null===(t=e.favorite)||void 0===t?void 0:t.fireId):"",".json"),{user:r}),d={filmUrl:o,filmId:a,lastUpdated:(new Date).getTime(),episodeId:e.episode_id,isCurrentFavorite:!0};e.favorite?(d.isCurrentFavorite=!e.favorite.isCurrentFavorite,d.fireId=e.favorite.fireId,i=l((0,I.cP)({fav:d,url:s,favStatus:!e.favorite.isCurrentFavorite}))):i=l((0,I.gf)({fav:d,url:s,favStatus:!0})),i.then((function(n){return l((0,I.xu)({httpParams:{user:"yqu"}}))}))},title:y(t),disabled:!!o,children:o?(0,_.jsx)(p.Z,{}):(0,_.jsx)(g.Z,{color:null!==t&&void 0!==t&&t.isCurrentFavorite?"error":"disabled"})})})]})]})}var M=t(73808),S=t(54596),T=(t(51372),t(57689)),N=t(758),D=t(61789),z=t(31651),P=t(26758),O=t(45173),R=t(96580),E=t(23176),U=t(32619),A=t(25777),Y=t(47194),W=t(46426),B=t(79729),H="films",q=function(){var n=(0,F.T)(),e=(0,h.lr)(),t=(0,r.Z)(e,2),u=t[0],f=(t[1],u.get("moviePageDisplayMode")),v=(0,S.Z)().isMobile,x=(0,T.s0)(),g=(0,o.useState)(f),p=(0,r.Z)(g,2),Z=(p[0],p[1],(0,B.oo)()),j=Z.data,m=Z.isLoading,y=Z.isFetching,b=(0,D.$9)(void 0,{selectFromResult:function(n){var e;return(0,i.Z)((0,i.Z)({},n),{},{dataWithFavs:null===(e=n.data)||void 0===e?void 0:e.map((function(n){var e=null===j||void 0===j?void 0:j.find((function(e){return e.episodeId===n.properties.episode_id}));return(0,i.Z)((0,i.Z)({},n),{},{favorite:e})})).sort((function(n,e){return n.properties.episode_id>e.properties.episode_id?1:-1}))})}}),w=(b.data,b.dataWithFavs),C=b.isLoading,L=b.isFetching,I=b.fulfilledTimeStamp,q=b.startedTimeStamp,V=(b.refetch,b.isError),J=b.error,K=(null!==I&&void 0!==I?I:0)-(null!==q&&void 0!==q?q:0);return C?(0,_.jsx)(a.Z,{direction:"column",width:"100%",justifyContent:"center",alignItems:"center",height:"100vh",children:(0,_.jsx)(z.Z,{message:H})}):V?(0,_.jsx)(N.Z,{reason:J.status,debug:J.error}):w?(0,_.jsxs)(a.Z,{direction:"column",width:"100%",children:[(0,_.jsx)(M.Z,{toolbarProps:{position:"sticky",sx:{top:v?"56px":"64px"}},children:(0,_.jsxs)(c.Z,{container:!0,xs:12,children:[(0,_.jsx)(c.Z,{xs:4,children:(0,_.jsx)(a.Z,{direction:"row",justifyContent:"start",alignItems:"center",width:"100%",children:(0,_.jsx)(P.Z,{entity:H,onResultSelect:function(n){x("./".concat(null===n||void 0===n?void 0:n.uid))}})})}),(0,_.jsx)(c.Z,{xs:8,xsOffset:"auto",display:"flex",children:(0,_.jsxs)(a.Z,{direction:"row",justifyContent:"end",alignItems:"center",width:"100%",spacing:2,"data-tooltip-id":"fetch-information",children:[L&&(0,_.jsx)(R.Z,{size:20}),!L&&(0,_.jsxs)(s.Z,{fontSize:11,component:"div",children:["Last fetched ",(0,_.jsx)(Y.Z,{dateInMilli:null!==I&&void 0!==I?I:0}),", took: ",(0,_.jsx)(U.Z,{durationInMilli:K})]}),(0,_.jsx)(d.Z,{variant:"outlined",startIcon:(0,_.jsx)(E.Z,{}),onClick:function(){n(B.Kx.util.invalidateTags([{type:"Favorites"}]))},children:"Refresh Favorites"}),(0,_.jsx)(d.Z,{variant:"outlined",startIcon:(0,_.jsx)(E.Z,{}),onClick:function(){n(D.ak.util.invalidateTags([{type:"Films"}]))},children:"Refresh Films"})]})})]})}),(0,_.jsx)(l.Z,{mt:2,mx:v?2:0,children:(0,_.jsx)(O.Z,{size:"med",children:null===w||void 0===w?void 0:w.map((function(n){return(0,_.jsx)(c.Z,{xs:12,sm:8,smOffset:2,mb:3,children:(0,_.jsx)(k,{userId:"yqu",film:n.properties,favoriteData:n.favorite,uid:n.uid,allFavoritesLoading:m,favToggleLoading:y})},n.properties.episode_id)}))})}),(0,_.jsx)(W.u,{id:"fetch-information",place:"bottom",offset:30,children:(0,_.jsx)(a.Z,{direction:"column",justifyContent:"center",alignItems:"center",children:(0,_.jsxs)(l.Z,{children:["Last fetched: ",(0,_.jsx)(Y.Z,{dateInMilli:I})," ( ",(0,_.jsx)(A.Z,{dateInMilli:I})," ago )."]})})})]}):(0,_.jsx)(_.Fragment,{})}},26758:function(n,e,t){var i=t(1413),r=t(70885),o=t(94162),a=t(4218),s=t(96015),d=t(59911),l=t(40255),c=t(72791),u=t(88163),f=t(73054),v=t(15290),x=t(79723),h=t(80184);function g(n){var e=n.params,t=n.entity;return(0,h.jsx)(d.Z,(0,i.Z)((0,i.Z)({},e),{},{label:"Filter ".concat(t),variant:"standard"}))}e.Z=function(n){var e=n.entity,t=n.onResultSelect,i=(0,c.useState)([]),d=(0,r.Z)(i,2),p=d[0],Z=d[1],j=(0,c.useState)(null),m=(0,r.Z)(j,2),y=m[0],b=m[1],w=(0,c.useState)(null),C=(0,r.Z)(w,2),L=C[0],F=C[1],I=(0,x.N)(L,600),_=(0,f.rw)(I?{entity:e,name:I}:l.skipToken),k=_.data,M=_.isFetching;return _.error,_.isError,_.refetch,(0,c.useEffect)((function(){Z(null!==k&&void 0!==k?k:[])}),[k]),(0,u.Z)((function(){}),[I]),(0,h.jsxs)(o.Z,{direction:"row",justifyContent:"start",alignItems:"center",width:"100%",children:[(0,h.jsx)(a.Z,{disablePortal:!0,id:"search-entity-autocomplete",options:p,fullWidth:!0,autoHighlight:!0,blurOnSelect:!0,filterOptions:function(n){return n},value:y,getOptionLabel:function(n){var e;return null!==(e=n.properties.name)&&void 0!==e?e:n.properties.title},noOptionsText:"Search for ".concat(e),loading:M,renderInput:function(n){return(0,h.jsx)(g,{params:n,entity:e})},onChange:function(n,e){var i;Z((i=e)?[i]:p),b(i),t(i)},onInputChange:function(n,e){return function(n,e){F(e)}(0,e)},isOptionEqualToValue:function(n,e){return n.uid===e.uid}}),(0,h.jsx)(s.Z,{ml:2,children:M&&(0,h.jsx)(v.Z,{size:20})})]})}},11155:function(n,e,t){var i=t(75814),r=t(4565),o=t(46431),a=t.n(o),s=t(72426),d=t.n(s),l=t(80184);e.Z=function(n){var e=n.date,t=void 0===e?0:e,o=n.fromNow,s=void 0===o||o,c=n.format,u=void 0===c?"MM/DD/YY HH:mm":c;return(0,l.jsx)(i.Z,{title:t?d()(t).format(u):"No date found",children:(0,l.jsx)(r.Z,{component:"span",display:"flex",alignItems:"center",justifyContent:"center",children:t?(0,l.jsx)(a(),{date:t,fromNow:s,format:s?void 0:u,interval:6e4}):(0,l.jsx)(l.Fragment,{children:"N/A"})})})}},47194:function(n,e,t){var i=t(29158),r=t(80184);e.Z=function(n){var e=n.dateInMilli;return(0,r.jsx)(r.Fragment,{children:void 0!==e&&(0,i.Z)(e,"MM/dd/yyyy p")})}},25777:function(n,e,t){var i=t(55763),r=t(80184);e.Z=function(n){var e=n.dateInMilli;return(0,r.jsx)(r.Fragment,{children:void 0!==e&&(0,i.Z)(e,{includeSeconds:!0})})}},32619:function(n,e,t){var i=t(51943),r=t(80184);e.Z=function(n){var e=n.durationInMilli;return(0,r.jsx)(r.Fragment,{children:e>1e3?(0,i.Z)(0,e,{includeSeconds:!0}):e+" ms"})}},45173:function(n,e,t){var i=t(36227),r=t(80184);e.Z=function(n){var e=n.size,t=void 0===e?"med":e,o=n.children;return(0,r.jsx)(i.Z,{container:!0,spacing:0,xs:12,xsOffset:0,sm:"full"===t?12:"med"===t?7:4,smOffset:"full"===t?0:"med"===t?2.5:4,children:o})}},15290:function(n,e,t){t.d(e,{Z:function(){return s}});var i=t(1413),r=(t(72791),t(94162)),o=t(96580),a=t(80184);function s(n){var e=n.size,t=void 0===e?40:e,s=n.color,d=void 0===s?"grey.500":s,l=n.styleProps;return(0,a.jsx)(r.Z,{sx:(0,i.Z)({color:d},l),spacing:1,direction:"row",children:(0,a.jsx)(o.Z,{color:"inherit",size:t})})}},73808:function(n,e,t){t.d(e,{Z:function(){return d}});var i=t(1413),r=t(22892),o=t(44666),a=t(43906),s=t(80184);function d(n){var e=n.toolbarProps,t=n.children;return(0,s.jsx)(r.Z,(0,i.Z)((0,i.Z)({elevation:0},e),{},{children:(0,s.jsx)(o.Z,{variant:"regular",sx:{bgcolor:function(n){return"light"===n.palette.mode?a.s[100]:null},color:function(n){return"light"===n.palette.mode?"#000":null},pr:0},children:t})}))}},79723:function(n,e,t){t.d(e,{N:function(){return o}});var i=t(70885),r=t(72791),o=function(n,e){var t=(0,r.useState)(n),o=(0,i.Z)(t,2),a=o[0],s=o[1];return(0,r.useEffect)((function(){var t=setTimeout((function(){s(n)}),e);return function(){clearTimeout(t)}}),[n,e]),a}},54596:function(n,e,t){var i=t(52797),r=t(74142);e.Z=function(){var n=(0,r.Z)();return{isMobile:(0,i.Z)(n.breakpoints.down("sm")),isMed:(0,i.Z)(n.breakpoints.down("md")),isLg:(0,i.Z)(n.breakpoints.down("lg")),isXl:(0,i.Z)(n.breakpoints.down("xl"))}}},31651:function(n,e,t){t.d(e,{Z:function(){return a}});t(72791);var i={parentClass:"LoadingLogo_parentClass__NFHXT",loadingLogo:"LoadingLogo_loadingLogo__BqUtz",loadingParent:"LoadingLogo_loadingParent__VASnq","loading-container":"LoadingLogo_loading-container__cjLsJ","whole-page":"LoadingLogo_whole-page__DkCG7",ldsFacebook:"LoadingLogo_ldsFacebook__pRdY2","lds-facebook":"LoadingLogo_lds-facebook__JLntj"},r=t(77783),o=t(80184);function a(n){return(0,o.jsxs)("div",{className:"".concat(i.parentClass," w-100"),children:[(0,o.jsx)("div",{children:(0,o.jsx)("div",{className:i.loadingLogo,children:(0,o.jsx)("img",{src:r,className:"".concat(i.logoImg," d-inline-block"),alt:"logo"})})}),(0,o.jsx)("div",{className:i.loadingParent,children:(0,o.jsxs)("div",{className:i.ldsFacebook,children:[(0,o.jsx)("div",{}),(0,o.jsx)("div",{}),(0,o.jsx)("div",{})]})}),(0,o.jsxs)("div",{className:i.secfont,children:["Loading ",n.message," ..."]})]})}},51372:function(n,e,t){var i;t.d(e,{K:function(){return i}}),function(n){n.TABLE="table",n.CARD="card"}(i||(i={}))},17237:function(n,e,t){var i=t(64836);e.Z=void 0;var r=i(t(45649)),o=t(80184),a=(0,r.default)((0,o.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),"Favorite");e.Z=a},36976:function(n,e,t){var i=t(64836);e.Z=void 0;var r=i(t(45649)),o=t(80184),a=(0,r.default)((0,o.jsx)("path",{d:"m18 22-.01-6L14 12l3.99-4.01L18 2H6v6l4 4-4 3.99V22h12zM8 7.5V4h8v3.5l-4 4-4-4z"}),"HourglassBottom");e.Z=a},55763:function(n,e,t){t.d(e,{Z:function(){return o}});var i=t(51943),r=t(4522);function o(n,e){return(0,r.Z)(1,arguments),(0,i.Z)(n,Date.now(),e)}},88163:function(n,e,t){t.d(e,{Z:function(){return r}});var i=t(72791);var r=function(n,e){var t=function(){var n=(0,i.useRef)(!0);return n.current?(n.current=!1,!0):n.current}();(0,i.useEffect)((function(){if(!t)return n()}),e)}}}]);
//# sourceMappingURL=471.f46d685a.chunk.js.map