"use strict";(self.webpackChunkstarwars=self.webpackChunkstarwars||[]).push([[38],{758:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(96015),r=n(94162),o=n(4565),s=n(80184);function a(e){var t=e.reason,n=e.debug;return(0,s.jsx)(i.Z,{marginY:5,width:"100%",children:(0,s.jsxs)(r.Z,{direction:"column",spacing:5,justifyContent:"center",alignItems:"center",children:[(0,s.jsx)(o.Z,{variant:"h5",sx:{textTransform:"uppercase"},children:"An error has occurred!"}),(0,s.jsxs)(r.Z,{direction:"column",spacing:1,justifyContent:"center",alignItems:"center",children:[(0,s.jsx)(o.Z,{variant:"body1",fontWeight:700,children:"REASON"}),(0,s.jsx)(o.Z,{variant:"body2",children:t})]}),(0,s.jsxs)(r.Z,{direction:"column",spacing:1,justifyContent:"center",alignItems:"center",children:[(0,s.jsx)(o.Z,{variant:"body1",fontWeight:700,children:"DEBUG"}),(0,s.jsx)(o.Z,{variant:"body2",component:"div",children:(0,s.jsx)("pre",{children:(0,s.jsx)("code",{style:{display:"flex",textAlign:"center"},children:JSON.stringify(n)})})})]})]})})}},97038:function(e,t,n){n.r(t),n.d(t,{default:function(){return ee}});var i=n(70885),r=n(72791),o=n(94162),s=n(75814),a=n(13811),c=n(36227),l=n(15290),d=n(75248),u=n(48928),f=n(96875),x=n(55194),v=n(38943),h=n(17205),p=n(4565),j=n(11087),g=n(17237),m=n(36976),Z=n(72426),y=n.n(Z),C=n(92546),b=function(e){var t="",n=null!==e&&void 0!==e&&e.lastUpdated?y()(null===e||void 0===e?void 0:e.lastUpdated).fromNow():"";return t=null!==e&&void 0!==e&&e.isCurrentFavorite?"Remove from favorites":"Add to favorites",null!==e&&void 0!==e&&e.lastUpdated&&(t=t+". "+(e.isCurrentFavorite?"Favorited ":"Unfavorited ")+n),t},w=n(11155),F=n(70773),I=n(51070),z=n.n(I),L=n(64317),k=n(11878),M=n(80184);function _(e){var t,n=e.film,i=e.uid,r=e.userId,s=e.allFavoritesLoading,c=(e.favToggleLoading,(0,L.T)());return(0,M.jsxs)(u.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-between"},elevation:2,children:[(0,M.jsxs)("div",{children:[(0,M.jsx)(v.Z,{component:"img",alt:"poster",height:"440",image:"".concat("","/assets/poster-img/").concat(n.episode_id,".png"),sx:{backgroundColor:"#000",objectFit:"contain"}}),(0,M.jsxs)(x.Z,{children:[(0,M.jsxs)(o.Z,{direction:{lg:"column",xl:"row"},justifyContent:{xl:"space-between",lg:"flex-start"},marginBottom:{lg:"10px",xl:"0px"},children:[(0,M.jsx)(p.Z,{gutterBottom:!0,variant:"h5",component:j.rU,to:"./".concat(i),sx:{fontWeight:"500"},children:n.title}),(0,M.jsxs)(p.Z,{variant:"h5",color:"text.secondary",sx:{fontWeight:"300"},children:["EP ",n.episode_id]})]}),(0,M.jsxs)(o.Z,{spacing:1,children:[(0,M.jsxs)(o.Z,{direction:"row",spacing:.5,children:[(0,M.jsx)(p.Z,{variant:"body1",color:"text.secondary",children:"Released:"}),(0,M.jsx)(p.Z,{variant:"body1",color:"text.secondary",children:(0,M.jsx)(w.Z,{date:n.release_date,format:"MMM Do YYYY"})})]}),(0,M.jsxs)(p.Z,{variant:"body1",color:"text.secondary",children:["Directed by: ",n.director]}),(0,M.jsxs)(p.Z,{variant:"body1",color:"text.secondary",children:["Produced by: ",n.producer]}),(0,M.jsx)(p.Z,{variant:"body1",color:"text.primary",children:n.opening_crawl})]})]})]}),(0,M.jsxs)(f.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,M.jsx)("div",{children:(0,M.jsx)(h.Z,{size:"small",component:j.rU,to:"./".concat(i),children:"See More"})}),(0,M.jsx)("div",{children:(0,M.jsx)(a.Z,{"aria-label":"favorite",onClick:function(){var e,t,i,o=n.url,s=o.split("/")[o.split("/").length-1],a=z()(F.K,"swdb/:user/favorites".concat(null!==(e=n.favorite)&&void 0!==e&&e.fireId?"/"+(null===(t=n.favorite)||void 0===t?void 0:t.fireId):"",".json"),{user:r}),l={filmUrl:o,filmId:s,lastUpdated:(new Date).getTime(),episodeId:n.episode_id,isCurrentFavorite:!0};n.favorite?(l.isCurrentFavorite=!n.favorite.isCurrentFavorite,l.fireId=n.favorite.fireId,i=c((0,k.cP)({fav:l,url:a,favStatus:!n.favorite.isCurrentFavorite}))):i=c((0,k.gf)({fav:l,url:a,favStatus:!0})),i.then((function(e){return c((0,k.xu)({httpParams:{user:"yqu"}}))}))},title:b(n.favorite),disabled:!!s,children:s?(0,M.jsx)(m.Z,{}):(0,M.jsx)(g.Z,{color:null!==(t=n.favorite)&&void 0!==t&&t.isCurrentFavorite?"error":"disabled"})})})]})]})}var D=n(73808),S=n(54596),T=n(51372),V=n(39841),A=n(40824),P=n(96015),E="LoadingBackdrop_loadingbackdrop__fzQLF";var U=function(e){var t=e.isLoading,n=e.children;return(0,M.jsx)(P.Z,{className:t?"".concat(E):"",width:"100%",children:n})},H=n(53607),B=n(758),R=n(1413),K=n(50873),O=n(89422),Y=n(5826),N=function(e){return e.allFilms},W=O.VL.getSelectors((function(e){return e.allFilms})),q=W.selectAll,J=(W.selectById,W.selectEntities,W.selectIds,W.selectTotal,function(e){return N(e).isLoading}),G=function(e){return N(e).isValidating},Q=function(e){return N(e).errMsg},$=(0,K.P1)(q,Y._d,(function(e,t){var n=function(e,t){return(0,C.ZP)(null!==e&&void 0!==e?e:[],(function(e){e.sort((function(e,t){return e.properties.episode_id>t.properties.episode_id?1:-1})),e.forEach((function(e){e.properties.favorite=t[e.properties.episode_id]}))}))}(e,t);return n})),X=((0,K.P1)((function(e){return N(e).apiParams}),(function(e){var t=(0,R.Z)({},e);return Object.keys(t).forEach((function(e){""==="".concat(t[e]).trim()&&delete t[e]})),t})),n(61789)),ee=function(){var e=(0,L.T)(),t=(0,r.useContext)(H.Z).showSnackbar,n=(0,j.lr)(),u=(0,i.Z)(n,2),f=u[0],x=u[1],v=f.get("moviePageDisplayMode"),h=(0,S.Z)().isMobile,p=(0,r.useState)(v),g=(0,i.Z)(p,2),m=g[0],Z=(g[1],(0,L.C)(J)),y=(0,L.C)(G),C=(0,L.C)(Q),b=(0,L.C)(Y.xU),w=(0,L.C)(Y.JJ),F=(0,L.C)($),I=(0,X.$9)(),z=I.data,k=(I.isLoading,I.isFetching,I.fulfilledTimeStamp),P=I.startedTimeStamp;I.refetch;console.log(z),k&&P&&console.log(k-P),(0,r.useEffect)((function(){return function(){t("info",void 0)}}),[t]);var E=(0,r.useCallback)((function(t){e((0,O.iz)({title:t}))}),[e]);return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(D.Z,{toolbarProps:{position:"sticky",sx:{top:h?"56px":"64px"}},children:(0,M.jsxs)(c.Z,{container:!0,xs:12,flexDirection:{xs:"row",sm:"row"},justifyContent:"space-between",alignItems:"center",children:[(0,M.jsx)(c.Z,{xs:10,sm:4,children:(0,M.jsx)(o.Z,{direction:"row",justifyContent:"start",alignItems:"center",children:(0,M.jsxs)(c.Z,{container:!0,xs:12,children:[(0,M.jsx)(c.Z,{xs:8,children:(0,M.jsx)(d.Z,{filterChange:E})}),(0,M.jsx)(c.Z,{xs:2,sx:{display:"flex"},justifyContent:"center",alignItems:"center",children:y&&(0,M.jsx)(l.Z,{size:20})})]})})}),(0,M.jsx)(c.Z,{xs:2,sm:8,children:(0,M.jsx)(o.Z,{direction:"row",justifyContent:"flex-end",alignItems:"center",children:(0,M.jsx)(s.Z,{title:"Switch to ".concat(te(m)),children:(0,M.jsx)(a.Z,{onClick:function(){var e={moviePageDisplayMode:te(m)};x(e)},children:m===T.K.CARD?(0,M.jsx)(V.Z,{}):(0,M.jsx)(A.Z,{})})})})})]})}),(0,M.jsx)(U,{isLoading:Z,children:C?(0,M.jsx)(B.Z,{reason:"Failed loading all films.",debug:C}):(0,M.jsx)(o.Z,{direction:"column",p:2,width:"100%",children:(0,M.jsx)(c.Z,{container:!0,disableEqualOverflow:!0,rowSpacing:4,children:null===F||void 0===F?void 0:F.map((function(e){return(0,M.jsx)(c.Z,{xs:12,sm:4,smOffset:4,children:(0,M.jsx)(_,{userId:"yqu",film:e.properties,uid:e.uid,allFavoritesLoading:b,favToggleLoading:w})},e.properties.episode_id)}))})})})]})},te=function(e){return e&&e===T.K.CARD?T.K.TABLE:T.K.CARD}},51372:function(e,t,n){var i;n.d(t,{K:function(){return i}}),function(e){e.TABLE="table",e.CARD="card"}(i||(i={}))},17237:function(e,t,n){var i=n(64836);t.Z=void 0;var r=i(n(45649)),o=n(80184),s=(0,r.default)((0,o.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),"Favorite");t.Z=s},39841:function(e,t,n){var i=n(64836);t.Z=void 0;var r=i(n(45649)),o=n(80184),s=(0,r.default)((0,o.jsx)("path",{d:"M10 10.02h5V21h-5zM17 21h3c1.1 0 2-.9 2-2v-9h-5v11zm3-18H5c-1.1 0-2 .9-2 2v3h19V5c0-1.1-.9-2-2-2zM3 19c0 1.1.9 2 2 2h3V10H3v9z"}),"TableChart");t.Z=s},40824:function(e,t,n){var i=n(64836);t.Z=void 0;var r=i(n(45649)),o=n(80184),s=(0,r.default)((0,o.jsx)("path",{d:"M14.67 5v6.5H9.33V5h5.34zm1 6.5H21V5h-5.33v6.5zm-1 7.5v-6.5H9.33V19h5.34zm1-6.5V19H21v-6.5h-5.33zm-7.34 0H3V19h5.33v-6.5zm0-1V5H3v6.5h5.33z"}),"ViewModule");t.Z=s}}]);
//# sourceMappingURL=38.8e07995c.chunk.js.map