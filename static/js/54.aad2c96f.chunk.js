"use strict";(self.webpackChunkstarwars=self.webpackChunkstarwars||[]).push([[54],{758:function(e,n,r){r.d(n,{Z:function(){return s}});var t=r(96015),i=r(94162),o=r(4565),a=r(80184);function s(e){var n=e.reason,r=e.debug;return(0,a.jsx)(t.Z,{marginY:5,width:"100%",children:(0,a.jsxs)(i.Z,{direction:"column",spacing:5,justifyContent:"center",alignItems:"center",children:[(0,a.jsx)(o.Z,{variant:"h5",sx:{textTransform:"uppercase"},children:"An error has occurred!"}),(0,a.jsxs)(i.Z,{direction:"column",spacing:1,justifyContent:"center",alignItems:"center",children:[(0,a.jsx)(o.Z,{variant:"body1",fontWeight:700,children:"REASON"}),(0,a.jsx)(o.Z,{variant:"body2",children:n})]}),(0,a.jsxs)(i.Z,{direction:"column",spacing:1,justifyContent:"center",alignItems:"center",children:[(0,a.jsx)(o.Z,{variant:"body1",fontWeight:700,children:"DEBUG"}),(0,a.jsx)(o.Z,{variant:"body2",component:"div",children:(0,a.jsx)("pre",{children:(0,a.jsx)("code",{style:{display:"flex",textAlign:"center"},children:JSON.stringify(r)})})})]})]})})}},29054:function(e,n,r){r.r(n),r.d(n,{default:function(){return X}});var t=r(70885),i=r(72791),o=r(94162),a=r(96015),s=r(36227),c=r(48928),l=r(96875),d=r(55194),u=r(38943),f=r(17205),v=r(4565),h=r(11087),x=r(17237),g=r(36976),p=r(13811),m=r(72426),Z=r.n(m),j=r(92546),b=function(e){var n="",r=null!==e&&void 0!==e&&e.lastUpdated?Z()(null===e||void 0===e?void 0:e.lastUpdated).fromNow():"";return n=null!==e&&void 0!==e&&e.isCurrentFavorite?"Remove from favorites":"Add to favorites",null!==e&&void 0!==e&&e.lastUpdated&&(n=n+". "+(e.isCurrentFavorite?"Favorited ":"Unfavorited ")+r),n},y=r(11155),k=r(70773),C=r(51070),w=r.n(C),S=r(64317),L=r(11878),_=r(80184);function P(e){var n,r=e.film,t=e.uid,i=e.userId,a=e.allFavoritesLoading,s=(e.favToggleLoading,(0,S.T)());return(0,_.jsxs)(c.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-between"},elevation:2,children:[(0,_.jsxs)("div",{children:[(0,_.jsx)(u.Z,{component:"img",alt:"poster",height:"440",image:"".concat("","/assets/poster-img/").concat(r.episode_id,".png"),sx:{backgroundColor:"#000",objectFit:"contain"}}),(0,_.jsxs)(d.Z,{children:[(0,_.jsxs)(o.Z,{direction:{lg:"column",xl:"row"},justifyContent:{xl:"space-between",lg:"flex-start"},marginBottom:{lg:"10px",xl:"0px"},children:[(0,_.jsx)(v.Z,{gutterBottom:!0,variant:"h5",component:h.rU,to:"./".concat(t),sx:{fontWeight:"500"},children:r.title}),(0,_.jsxs)(v.Z,{variant:"h5",color:"text.secondary",sx:{fontWeight:"300"},children:["EP ",r.episode_id]})]}),(0,_.jsxs)(o.Z,{spacing:1,children:[(0,_.jsxs)(o.Z,{direction:"row",spacing:.5,children:[(0,_.jsx)(v.Z,{variant:"body1",color:"text.secondary",children:"Released:"}),(0,_.jsx)(v.Z,{variant:"body1",color:"text.secondary",children:(0,_.jsx)(y.Z,{date:r.release_date,format:"MMM Do YYYY"})})]}),(0,_.jsxs)(v.Z,{variant:"body1",color:"text.secondary",children:["Directed by: ",r.director]}),(0,_.jsxs)(v.Z,{variant:"body1",color:"text.secondary",children:["Produced by: ",r.producer]}),(0,_.jsx)(v.Z,{variant:"body1",color:"text.primary",children:r.opening_crawl})]})]})]}),(0,_.jsxs)(l.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,_.jsx)("div",{children:(0,_.jsx)(f.Z,{size:"small",component:h.rU,to:"./".concat(t),children:"See More"})}),(0,_.jsx)("div",{children:(0,_.jsx)(p.Z,{"aria-label":"favorite",onClick:function(){var e,n,t,o=r.url,a=o.split("/")[o.split("/").length-1],c=w()(k.K,"swdb/:user/favorites".concat(null!==(e=r.favorite)&&void 0!==e&&e.fireId?"/"+(null===(n=r.favorite)||void 0===n?void 0:n.fireId):"",".json"),{user:i}),l={filmUrl:o,filmId:a,lastUpdated:(new Date).getTime(),episodeId:r.episode_id,isCurrentFavorite:!0};r.favorite?(l.isCurrentFavorite=!r.favorite.isCurrentFavorite,l.fireId=r.favorite.fireId,t=s((0,L.cP)({fav:l,url:c,favStatus:!r.favorite.isCurrentFavorite}))):t=s((0,L.gf)({fav:l,url:c,favStatus:!0})),t.then((function(e){return s((0,L.xu)({httpParams:{user:"yqu"}}))}))},title:b(r.favorite),disabled:!!a,children:a?(0,_.jsx)(g.Z,{}):(0,_.jsx)(x.Z,{color:null!==(n=r.favorite)&&void 0!==n&&n.isCurrentFavorite?"error":"disabled"})})})]})]})}var F=r(73808),I=r(54596),M=(r(51372),r(57689)),N=r(53607),D=r(758),T=r(1413),E=r(50873),R=r(89422),z=r(5826),O=function(e){return e.allFilms},U=R.VL.getSelectors((function(e){return e.allFilms})),A=U.selectAll,B=(U.selectById,U.selectEntities,U.selectIds,U.selectTotal,function(e){return O(e).isLoading}),W=function(e){return O(e).isValidating},Y=function(e){return O(e).errMsg},q=(0,E.P1)(A,z._d,(function(e,n){var r=function(e,n){return(0,j.ZP)(null!==e&&void 0!==e?e:[],(function(e){e.sort((function(e,n){return e.properties.episode_id>n.properties.episode_id?1:-1})),e.forEach((function(e){e.properties.favorite=n[e.properties.episode_id]}))}))}(e,n);return r})),J=((0,E.P1)((function(e){return O(e).apiParams}),(function(e){var n=(0,T.Z)({},e);return Object.keys(n).forEach((function(e){""==="".concat(n[e]).trim()&&delete n[e]})),n})),r(61789)),V=r(31651),G=r(26758),H=r(45173),K="films",X=function(){var e=(0,S.T)(),n=(0,i.useContext)(N.Z).showSnackbar,r=(0,h.lr)(),c=(0,t.Z)(r,2),l=c[0],d=(c[1],l.get("moviePageDisplayMode")),u=(0,I.Z)().isMobile,f=(0,M.s0)(),v=(0,i.useState)(d),x=(0,t.Z)(v,2),g=(x[0],x[1],(0,S.C)(B),(0,S.C)(W),(0,S.C)(Y),(0,S.C)(z.xU)),p=(0,S.C)(z.JJ),m=((0,S.C)(q),(0,J.$9)()),Z=m.data,j=m.isLoading,b=(m.isFetching,m.fulfilledTimeStamp,m.startedTimeStamp,m.refetch,m.isError),y=m.error;(0,i.useEffect)((function(){return function(){n("info",void 0)}}),[n]);(0,i.useCallback)((function(n){e((0,R.iz)({title:n}))}),[e]);return j?(0,_.jsx)(o.Z,{direction:"column",width:"100%",justifyContent:"center",alignItems:"center",height:"100vh",children:(0,_.jsx)(V.Z,{message:K})}):b?(0,_.jsx)(D.Z,{reason:y.status,debug:y.error}):Z?(0,_.jsxs)(o.Z,{direction:"column",width:"100%",children:[(0,_.jsx)(F.Z,{toolbarProps:{position:"sticky",sx:{top:u?"56px":"64px"}},children:(0,_.jsx)(s.Z,{container:!0,xs:12,children:(0,_.jsx)(s.Z,{xs:10,sm:4,children:(0,_.jsx)(o.Z,{direction:"row",justifyContent:"start",alignItems:"center",children:(0,_.jsx)(G.Z,{entity:K,onResultSelect:function(e){f("./".concat(null===e||void 0===e?void 0:e.uid))}})})})})}),(0,_.jsx)(a.Z,{mt:2,mx:u?2:0,children:(0,_.jsx)(H.Z,{size:"med",children:null===Z||void 0===Z?void 0:Z.map((function(e){return(0,_.jsx)(s.Z,{xs:12,sm:8,smOffset:2,mb:3,children:(0,_.jsx)(P,{userId:"yqu",film:e.properties,uid:e.uid,allFavoritesLoading:g,favToggleLoading:p})},e.properties.episode_id)}))})})]}):(0,_.jsx)(_.Fragment,{})}},26758:function(e,n,r){var t=r(1413),i=r(70885),o=r(94162),a=r(22262),s=r(96015),c=r(59911),l=r(40255),d=r(72791),u=r(88163),f=r(73054),v=r(15290),h=r(79723),x=r(80184);function g(e){var n=e.params,r=e.entity;return(0,x.jsx)(c.Z,(0,t.Z)((0,t.Z)({},n),{},{label:"Filter ".concat(r),variant:"standard"}))}n.Z=function(e){var n=e.entity,r=e.onResultSelect,t=(0,d.useState)([]),c=(0,i.Z)(t,2),p=c[0],m=c[1],Z=(0,d.useState)(null),j=(0,i.Z)(Z,2),b=j[0],y=j[1],k=(0,d.useState)(null),C=(0,i.Z)(k,2),w=C[0],S=C[1],L=(0,h.N)(w,600),_=(0,f.rw)(L?{entity:n,name:L}:l.skipToken),P=_.data,F=_.isFetching;return _.error,_.isError,_.refetch,(0,d.useEffect)((function(){m(null!==P&&void 0!==P?P:[])}),[P]),(0,u.Z)((function(){}),[L]),(0,x.jsxs)(o.Z,{direction:"row",justifyContent:"start",alignItems:"center",width:"100%",children:[(0,x.jsx)(a.Z,{disablePortal:!0,id:"search-entity-autocomplete",options:p,fullWidth:!0,autoHighlight:!0,blurOnSelect:!0,filterOptions:function(e){return e},value:b,getOptionLabel:function(e){return e.properties.name},noOptionsText:"Search for ".concat(n),loading:F,renderInput:function(e){return(0,x.jsx)(g,{params:e,entity:n})},onChange:function(e,n){var t;m((t=n)?[t]:p),y(t),r(t)},onInputChange:function(e,n){return function(e,n){S(n)}(0,n)},isOptionEqualToValue:function(e,n){return e.uid===n.uid}}),(0,x.jsx)(s.Z,{ml:2,children:F&&(0,x.jsx)(v.Z,{size:20})})]})}},45173:function(e,n,r){var t=r(36227),i=r(80184);n.Z=function(e){var n=e.size,r=void 0===n?"med":n,o=e.children;return(0,i.jsx)(t.Z,{container:!0,spacing:0,xs:12,xsOffset:0,sm:"full"===r?12:"med"===r?7:4,smOffset:"full"===r?0:"med"===r?2.5:4,children:o})}},15290:function(e,n,r){r.d(n,{Z:function(){return s}});var t=r(1413),i=(r(72791),r(94162)),o=r(96580),a=r(80184);function s(e){var n=e.size,r=void 0===n?40:n,s=e.color,c=void 0===s?"grey.500":s,l=e.styleProps;return(0,a.jsx)(i.Z,{sx:(0,t.Z)({color:c},l),spacing:1,direction:"row",children:(0,a.jsx)(o.Z,{color:"inherit",size:r})})}},73808:function(e,n,r){r.d(n,{Z:function(){return c}});var t=r(1413),i=r(22892),o=r(44666),a=r(43906),s=r(80184);function c(e){var n=e.toolbarProps,r=e.children;return(0,s.jsx)(i.Z,(0,t.Z)((0,t.Z)({elevation:0},n),{},{children:(0,s.jsx)(o.Z,{variant:"regular",sx:{bgcolor:function(e){return"light"===e.palette.mode?a.s[100]:null},color:function(e){return"light"===e.palette.mode?"#000":null},pr:0},children:r})}))}},79723:function(e,n,r){r.d(n,{N:function(){return o}});var t=r(70885),i=r(72791),o=function(e,n){var r=(0,i.useState)(e),o=(0,t.Z)(r,2),a=o[0],s=o[1];return(0,i.useEffect)((function(){var r=setTimeout((function(){s(e)}),n);return function(){clearTimeout(r)}}),[e,n]),a}},54596:function(e,n,r){var t=r(52797),i=r(74142);n.Z=function(){var e=(0,i.Z)();return{isMobile:(0,t.Z)(e.breakpoints.down("sm")),isMed:(0,t.Z)(e.breakpoints.down("md")),isLg:(0,t.Z)(e.breakpoints.down("lg")),isXl:(0,t.Z)(e.breakpoints.down("xl"))}}},31651:function(e,n,r){r.d(n,{Z:function(){return a}});r(72791);var t={parentClass:"LoadingLogo_parentClass__NFHXT",loadingLogo:"LoadingLogo_loadingLogo__BqUtz",loadingParent:"LoadingLogo_loadingParent__VASnq","loading-container":"LoadingLogo_loading-container__cjLsJ","whole-page":"LoadingLogo_whole-page__DkCG7",ldsFacebook:"LoadingLogo_ldsFacebook__pRdY2","lds-facebook":"LoadingLogo_lds-facebook__JLntj"},i=r(77783),o=r(80184);function a(e){return(0,o.jsxs)("div",{className:"".concat(t.parentClass," w-100"),children:[(0,o.jsx)("div",{children:(0,o.jsx)("div",{className:t.loadingLogo,children:(0,o.jsx)("img",{src:i,className:"".concat(t.logoImg," d-inline-block"),alt:"logo"})})}),(0,o.jsx)("div",{className:t.loadingParent,children:(0,o.jsxs)("div",{className:t.ldsFacebook,children:[(0,o.jsx)("div",{}),(0,o.jsx)("div",{}),(0,o.jsx)("div",{})]})}),(0,o.jsxs)("div",{className:t.secfont,children:["Loading ",e.message," ..."]})]})}},51372:function(e,n,r){var t;r.d(n,{K:function(){return t}}),function(e){e.TABLE="table",e.CARD="card"}(t||(t={}))},17237:function(e,n,r){var t=r(64836);n.Z=void 0;var i=t(r(45649)),o=r(80184),a=(0,i.default)((0,o.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),"Favorite");n.Z=a},96580:function(e,n,r){r.d(n,{Z:function(){return M}});var t=r(30168),i=r(63366),o=r(87462),a=r(72791),s=r(28182),c=r(94419),l=r(52554),d=r(49853),u=r(85513),f=r(60277),v=r(75878),h=r(21217);function x(e){return(0,h.Z)("MuiCircularProgress",e)}(0,v.Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var g,p,m,Z,j,b,y,k,C=r(80184),w=["className","color","disableShrink","size","style","thickness","value","variant"],S=44,L=(0,l.F4)(j||(j=g||(g=(0,t.Z)(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),_=(0,l.F4)(b||(b=p||(p=(0,t.Z)(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),P=(0,f.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:function(e,n){var r=e.ownerState;return[n.root,n[r.variant],n["color".concat((0,d.Z)(r.color))]]}})((function(e){var n=e.ownerState,r=e.theme;return(0,o.Z)({display:"inline-block"},"determinate"===n.variant&&{transition:r.transitions.create("transform")},"inherit"!==n.color&&{color:(r.vars||r).palette[n.color].main})}),(function(e){return"indeterminate"===e.ownerState.variant&&(0,l.iv)(y||(y=m||(m=(0,t.Z)(["\n      animation: "," 1.4s linear infinite;\n    "]))),L)})),F=(0,f.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:function(e,n){return n.svg}})({display:"block"}),I=(0,f.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:function(e,n){var r=e.ownerState;return[n.circle,n["circle".concat((0,d.Z)(r.variant))],r.disableShrink&&n.circleDisableShrink]}})((function(e){var n=e.ownerState,r=e.theme;return(0,o.Z)({stroke:"currentColor"},"determinate"===n.variant&&{transition:r.transitions.create("stroke-dashoffset")},"indeterminate"===n.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(function(e){var n=e.ownerState;return"indeterminate"===n.variant&&!n.disableShrink&&(0,l.iv)(k||(k=Z||(Z=(0,t.Z)(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),_)})),M=a.forwardRef((function(e,n){var r=(0,u.Z)({props:e,name:"MuiCircularProgress"}),t=r.className,a=r.color,l=void 0===a?"primary":a,f=r.disableShrink,v=void 0!==f&&f,h=r.size,g=void 0===h?40:h,p=r.style,m=r.thickness,Z=void 0===m?3.6:m,j=r.value,b=void 0===j?0:j,y=r.variant,k=void 0===y?"indeterminate":y,L=(0,i.Z)(r,w),_=(0,o.Z)({},r,{color:l,disableShrink:v,size:g,thickness:Z,value:b,variant:k}),M=function(e){var n=e.classes,r=e.variant,t=e.color,i=e.disableShrink,o={root:["root",r,"color".concat((0,d.Z)(t))],svg:["svg"],circle:["circle","circle".concat((0,d.Z)(r)),i&&"circleDisableShrink"]};return(0,c.Z)(o,x,n)}(_),N={},D={},T={};if("determinate"===k){var E=2*Math.PI*((S-Z)/2);N.strokeDasharray=E.toFixed(3),T["aria-valuenow"]=Math.round(b),N.strokeDashoffset="".concat(((100-b)/100*E).toFixed(3),"px"),D.transform="rotate(-90deg)"}return(0,C.jsx)(P,(0,o.Z)({className:(0,s.Z)(M.root,t),style:(0,o.Z)({width:g,height:g},D,p),ownerState:_,ref:n,role:"progressbar"},T,L,{children:(0,C.jsx)(F,{className:M.svg,ownerState:_,viewBox:"".concat(22," ").concat(22," ").concat(S," ").concat(S),children:(0,C.jsx)(I,{className:M.circle,style:N,ownerState:_,cx:S,cy:S,r:(S-Z)/2,fill:"none",strokeWidth:Z})})}))}))},88163:function(e,n,r){r.d(n,{Z:function(){return i}});var t=r(72791);var i=function(e,n){var r=function(){var e=(0,t.useRef)(!0);return e.current?(e.current=!1,!0):e.current}();(0,t.useEffect)((function(){if(!r)return e()}),n)}}}]);
//# sourceMappingURL=54.aad2c96f.chunk.js.map