"use strict";(self.webpackChunkstarwars=self.webpackChunkstarwars||[]).push([[162],{30162:function(n,t,e){e.r(t),e.d(t,{default:function(){return O}});var r=e(73808),i=e(54596),o=e(94162),u=e(96015),a=e(758),c=e(72791),s=e(36227),l=e(1942),f=e(64317),d=e(31651),p=e(69797),g=e(50873),h=function(n){return n.swapiConfig},v=(0,g.P1)(h,(function(n){return n.pagination.page})),x=(0,g.P1)(h,(function(n){var t;return null!==(t=n.pagination.total_pages)&&void 0!==t?t:0})),Z=((0,g.P1)(h,(function(n){var t;return null!==(t=n.pagination.total_records)&&void 0!==t?t:0})),(0,g.P1)(h,(function(n){return n.pagination.next})),e(64849));var m=e(1413),j=e(70885),b=e(22262),w=e(59911),y=e(40255),C=e(88163),P=e(7150),S=e(79723),E=e(80184);var I=function(n){var t=n.entity,e=n.onResultSelect,r=(0,c.useState)([]),i=(0,j.Z)(r,2),a=i[0],s=i[1],l=(0,c.useState)(null),f=(0,j.Z)(l,2),d=f[0],g=f[1],h=(0,c.useState)(null),v=(0,j.Z)(h,2),x=v[0],Z=v[1],m=(0,S.N)(x,600),w=(0,p.rw)(m?{entity:t,name:m}:y.CN),I=w.data,T=w.isFetching;return w.error,w.isError,w.refetch,(0,c.useEffect)((function(){s(null!==I&&void 0!==I?I:[])}),[I]),(0,C.Z)((function(){}),[m]),(0,E.jsxs)(o.Z,{direction:"row",justifyContent:"start",alignItems:"center",width:"100%",children:[(0,E.jsx)(b.Z,{disablePortal:!0,id:"search-entity-autocomplete",options:a,fullWidth:!0,autoHighlight:!0,blurOnSelect:!0,filterOptions:function(n){return n},value:d,getOptionLabel:function(n){return n.properties.name},noOptionsText:"Search for ".concat(t),loading:T,renderInput:function(n){return(0,E.jsx)(k,{params:n,entity:t})},onChange:function(n,t){var r;s((r=t)?[r]:a),g(r),e(r)},onInputChange:function(n,t){return function(n,t){Z(t)}(0,t)},isOptionEqualToValue:function(n,t){return n.uid===t.uid}}),(0,E.jsx)(u.Z,{ml:2,children:T&&(0,E.jsx)(P.Z,{size:20})})]})};function k(n){var t=n.params,e=n.entity;return(0,E.jsx)(w.Z,(0,m.Z)((0,m.Z)({},t),{},{label:"Filter ".concat(e),variant:"standard"}))}var T=e(57689),F="species";var O=function(){var n=(0,i.Z)().isMobile,t=(0,f.T)(),e=(0,f.C)(v),g=(0,f.C)(x),h=(0,p.I4)({entity:F,pagination:{page:e}}),m=h.data,j=h.isFetching,b=h.isLoading,w=h.error,y=h.isSuccess,C=h.isError,P=(h.refetch,(0,T.s0)());return(0,c.useEffect)((function(){!function(n,t,e){var r=document.getElementById(n);r&&setTimeout((function(){var n,t;null===(n=r)||void 0===n||n.scrollIntoView({block:null!==(t=e)&&void 0!==t?t:"end"}),r=null}),null!==t&&void 0!==t?t:0)}("top-pagination",300,"end")}),[y]),b?(0,E.jsx)(o.Z,{direction:"column",width:"100%",justifyContent:"center",alignItems:"center",height:"100vh",children:(0,E.jsx)(d.Z,{message:"species"})}):C?(0,E.jsx)(a.Z,{reason:w.status,debug:w.error}):m?(0,E.jsxs)(o.Z,{direction:"column",width:"100%",children:[(0,E.jsx)(r.Z,{toolbarProps:{position:"sticky",sx:{top:n?"56px":"64px"}},children:(0,E.jsx)(s.Z,{container:!0,xs:12,children:(0,E.jsx)(s.Z,{xs:10,sm:4,children:(0,E.jsx)(o.Z,{direction:"row",justifyContent:"start",alignItems:"center",children:(0,E.jsx)(I,{entity:F,onResultSelect:function(n){P("./".concat(null===n||void 0===n?void 0:n.uid))}})})})})}),(0,E.jsx)(u.Z,{mt:2,mx:n?2:0,children:(0,E.jsx)(l.Z,{data:m.results,itemUrlPath:F,totalPages:g,page:e,onPaged:function(n,e){t((0,Z.g)(e))},totalRecords:m.total_records,isFetching:j})})]}):(0,E.jsx)(E.Fragment,{})}},73808:function(n,t,e){e.d(t,{Z:function(){return c}});var r=e(1413),i=e(22892),o=e(44666),u=e(43906),a=e(80184);function c(n){var t=n.toolbarProps,e=n.children;return(0,a.jsx)(i.Z,(0,r.Z)((0,r.Z)({elevation:0},t),{},{children:(0,a.jsx)(o.Z,{variant:"regular",sx:{bgcolor:function(n){return"light"===n.palette.mode?u.s[100]:null},color:function(n){return"light"===n.palette.mode?"#000":null},pr:0},children:e})}))}},79723:function(n,t,e){e.d(t,{N:function(){return o}});var r=e(70885),i=e(72791),o=function(n,t){var e=(0,i.useState)(n),o=(0,r.Z)(e,2),u=o[0],a=o[1];return(0,i.useEffect)((function(){var e=setTimeout((function(){a(n)}),t);return function(){clearTimeout(e)}}),[n,t]),u}},88163:function(n,t,e){e.d(t,{Z:function(){return i}});var r=e(72791);var i=function(n,t){var e=function(){var n=(0,r.useRef)(!0);return n.current?(n.current=!1,!0):n.current}();(0,r.useEffect)((function(){if(!e)return n()}),t)}}}]);
//# sourceMappingURL=162.f16bb182.chunk.js.map