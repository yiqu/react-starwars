"use strict";(self.webpackChunkstarwars=self.webpackChunkstarwars||[]).push([[903],{903:function(n,t,e){e.r(t),e.d(t,{default:function(){return N}});var r=e(70885),i=e(72791),o=e(94162),a=e(75814),s=e(13811),c=e(36227),l=e(7150),u=e(64152),d=e(48928),f=e(96875),v=e(55194),h=e(38943),p=e(17205),x=e(4565),m=e(11087),Z=e(17237),j=e(36976),g=e(58611),b=e(11155),C=e(70773),y=e(51070),w=e.n(y),P=e(64317),z=e(11878),F=e(80184);function E(n){var t,e=n.film,r=n.uid,i=n.userId,a=n.allFavoritesLoading,c=(n.favToggleLoading,(0,P.T)());return(0,F.jsxs)(d.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-between"},elevation:2,children:[(0,F.jsxs)("div",{children:[(0,F.jsx)(h.Z,{component:"img",alt:"poster",height:"440",image:"".concat("","/assets/poster-img/").concat(e.episode_id,".png"),sx:{backgroundColor:"#000",objectFit:"contain"}}),(0,F.jsxs)(v.Z,{children:[(0,F.jsxs)(o.Z,{direction:{lg:"column",xl:"row"},justifyContent:{xl:"space-between",lg:"flex-start"},marginBottom:{lg:"10px",xl:"0px"},children:[(0,F.jsx)(x.Z,{gutterBottom:!0,variant:"h5",component:m.rU,to:"./".concat(r),sx:{fontWeight:"500"},children:e.title}),(0,F.jsxs)(x.Z,{variant:"h5",color:"text.secondary",sx:{fontWeight:"300"},children:["EP ",e.episode_id]})]}),(0,F.jsxs)(o.Z,{spacing:1,children:[(0,F.jsxs)(o.Z,{direction:"row",spacing:.5,children:[(0,F.jsx)(x.Z,{variant:"body1",color:"text.secondary",children:"Released:"}),(0,F.jsx)(x.Z,{variant:"body1",color:"text.secondary",children:(0,F.jsx)(b.Z,{date:e.release_date,format:"MMM Do YYYY"})})]}),(0,F.jsxs)(x.Z,{variant:"body1",color:"text.secondary",children:["Directed by: ",e.director]}),(0,F.jsxs)(x.Z,{variant:"body1",color:"text.secondary",children:["Produced by: ",e.producer]}),(0,F.jsx)(x.Z,{variant:"body1",color:"text.primary",children:e.opening_crawl})]})]})]}),(0,F.jsxs)(f.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,F.jsx)("div",{children:(0,F.jsx)(p.Z,{size:"small",component:m.rU,to:"./".concat(r),children:"See More"})}),(0,F.jsx)("div",{children:(0,F.jsx)(s.Z,{"aria-label":"favorite",onClick:function(){var n,t,r,o=e.url,a=o.split("/")[o.split("/").length-1],s=w()(C.K,"swdb/:user/favorites".concat(null!==(n=e.favorite)&&void 0!==n&&n.fireId?"/"+(null===(t=e.favorite)||void 0===t?void 0:t.fireId):"",".json"),{user:i}),l={filmUrl:o,filmId:a,lastUpdated:(new Date).getTime(),episodeId:e.episode_id,isCurrentFavorite:!0};e.favorite?(l.isCurrentFavorite=!e.favorite.isCurrentFavorite,l.fireId=e.favorite.fireId,r=c((0,z.cP)({fav:l,url:s,favStatus:!e.favorite.isCurrentFavorite}))):r=c((0,z.gf)({fav:l,url:s,favStatus:!0})),r.then((function(n){return c((0,z.xu)({httpParams:{user:"yqu"}}))}))},title:(0,g.Q)(e.favorite),disabled:!!a,children:a?(0,F.jsx)(j.Z,{}):(0,F.jsx)(Z.Z,{color:null!==(t=e.favorite)&&void 0!==t&&t.isCurrentFavorite?"error":"disabled"})})})]})]})}var I=e(73808),L=e(54596),M=e(51372),S=e(39841),T=e(40824),A=e(96015),U="LoadingBackdrop_loadingbackdrop__fzQLF";var V=function(n){var t=n.isLoading,e=n.children;return(0,F.jsx)(A.Z,{className:t?"".concat(U):"",width:"100%",children:e})},k=e(53607),_=e(758),D=e(81917),H=e(5826),R=e(84824),N=function(){var n=(0,P.T)(),t=(0,i.useContext)(k.Z).showSnackbar,e=(0,m.lr)(),d=(0,r.Z)(e,2),f=d[0],v=d[1],h=f.get("moviePageDisplayMode"),p=(0,L.Z)().isMobile,x=(0,i.useState)(h),Z=(0,r.Z)(x,2),j=Z[0],g=(Z[1],(0,P.C)(D.xU)),b=(0,P.C)(D.Qi),C=(0,P.C)(D.zh),y=(0,P.C)(H.xU),w=(0,P.C)(H.JJ),z=(0,P.C)(D.Xt);(0,i.useEffect)((function(){return function(){t("info",void 0)}}),[t]);var A=(0,i.useCallback)((function(t){n((0,R.iz)({title:t}))}),[n]);return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(I.Z,{toolbarProps:{position:"sticky",sx:{top:p?"56px":"64px"}},children:(0,F.jsxs)(c.Z,{container:!0,xs:12,flexDirection:{xs:"row",sm:"row"},justifyContent:"space-between",alignItems:"center",children:[(0,F.jsx)(c.Z,{xs:10,sm:4,children:(0,F.jsx)(o.Z,{direction:"row",justifyContent:"start",alignItems:"center",children:(0,F.jsxs)(c.Z,{container:!0,xs:12,children:[(0,F.jsx)(c.Z,{xs:8,children:(0,F.jsx)(u.Z,{filterChange:A})}),(0,F.jsx)(c.Z,{xs:2,sx:{display:"flex"},justifyContent:"center",alignItems:"center",children:b&&(0,F.jsx)(l.Z,{size:20})})]})})}),(0,F.jsx)(c.Z,{xs:2,sm:8,children:(0,F.jsx)(o.Z,{direction:"row",justifyContent:"flex-end",alignItems:"center",children:(0,F.jsx)(a.Z,{title:"Switch to ".concat(K(j)),children:(0,F.jsx)(s.Z,{onClick:function(){var n={moviePageDisplayMode:K(j)};v(n)},children:j===M.K.CARD?(0,F.jsx)(S.Z,{}):(0,F.jsx)(T.Z,{})})})})})]})}),(0,F.jsx)(V,{isLoading:g,children:C?(0,F.jsx)(_.Z,{reason:"Failed loading all films.",debug:C}):(0,F.jsx)(o.Z,{direction:"column",p:2,width:"100%",children:(0,F.jsx)(c.Z,{container:!0,disableEqualOverflow:!0,rowSpacing:4,children:null===z||void 0===z?void 0:z.map((function(n){return(0,F.jsx)(c.Z,{xs:12,sm:4,smOffset:4,children:(0,F.jsx)(E,{userId:"yqu",film:n.properties,uid:n.uid,allFavoritesLoading:y,favToggleLoading:w})},n.properties.episode_id)}))})})})]})},K=function(n){return n&&n===M.K.CARD?M.K.TABLE:M.K.CARD}},64152:function(n,t,e){e.d(t,{Z:function(){return S}});var r=e(70885),i=e(72791),o=e(59911),a=e(4942),s=e(63366),c=e(87462),l=e(28182),u=e(94419),d=e(49853),f=e(4565),v=e(51211),h=e(90529),p=e(60277),x=e(75878),m=e(21217);function Z(n){return(0,m.Z)("MuiInputAdornment",n)}var j,g=(0,x.Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),b=e(85513),C=e(80184),y=["children","className","component","disablePointerEvents","disableTypography","position","variant"],w=(0,p.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:function(n,t){var e=n.ownerState;return[t.root,t["position".concat((0,d.Z)(e.position))],!0===e.disablePointerEvents&&t.disablePointerEvents,t[e.variant]]}})((function(n){var t=n.theme,e=n.ownerState;return(0,c.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},"filled"===e.variant&&(0,a.Z)({},"&.".concat(g.positionStart,"&:not(.").concat(g.hiddenLabel,")"),{marginTop:16}),"start"===e.position&&{marginRight:8},"end"===e.position&&{marginLeft:8},!0===e.disablePointerEvents&&{pointerEvents:"none"})})),P=i.forwardRef((function(n,t){var e=(0,b.Z)({props:n,name:"MuiInputAdornment"}),r=e.children,o=e.className,a=e.component,p=void 0===a?"div":a,x=e.disablePointerEvents,m=void 0!==x&&x,g=e.disableTypography,P=void 0!==g&&g,z=e.position,F=e.variant,E=(0,s.Z)(e,y),I=(0,h.Z)()||{},L=F;F&&I.variant,I&&!L&&(L=I.variant);var M=(0,c.Z)({},e,{hiddenLabel:I.hiddenLabel,size:I.size,disablePointerEvents:m,position:z,variant:L}),S=function(n){var t=n.classes,e=n.disablePointerEvents,r=n.hiddenLabel,i=n.position,o=n.size,a=n.variant,s={root:["root",e&&"disablePointerEvents",i&&"position".concat((0,d.Z)(i)),a,r&&"hiddenLabel",o&&"size".concat((0,d.Z)(o))]};return(0,u.Z)(s,Z,t)}(M);return(0,C.jsx)(v.Z.Provider,{value:null,children:(0,C.jsx)(w,(0,c.Z)({as:p,ownerState:M,className:(0,l.Z)(S.root,o),ref:t},E,{children:"string"!==typeof r||P?(0,C.jsxs)(i.Fragment,{children:["start"===z?j||(j=(0,C.jsx)("span",{className:"notranslate",children:"\u200b"})):null,r]}):(0,C.jsx)(f.Z,{color:"text.secondary",children:r})}))})})),z=e(13811);var F=function(n,t){var e=function(){var n=(0,i.useRef)(!0);return n.current?(n.current=!1,!0):n.current}();(0,i.useEffect)((function(){if(!e)return n()}),t)},E=e(81245),I=(0,E.Z)((0,C.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),L=(0,E.Z)((0,C.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search"),M=e(763);function S(n){var t=n.count,e=n.filterChange,a=n.placeholderText,s=n.currentText,c=(0,i.useState)(""),l=(0,r.Z)(c,2),u=l[0],d=l[1],f=function(n,t){var e=(0,i.useState)(n),o=(0,r.Z)(e,2),a=o[0],s=o[1];return(0,i.useEffect)((function(){var e=setTimeout((function(){s(n)}),t);return function(){clearTimeout(e)}}),[n,t]),a}(u,400),v=(0,i.useState)("Filter by name"),h=(0,r.Z)(v,2),p=h[0],x=h[1];return(0,i.useEffect)((function(){s||x(null!==a&&void 0!==a?a:"Filter by name ".concat(void 0!==t?"("+t+")":""))}),[t,s,a]),F((function(){e(f)}),[e,f]),(0,i.useEffect)((function(){d(null!==s&&void 0!==s?s:"")}),[s]),(0,C.jsx)(o.Z,{name:"movieName",type:"text",fullWidth:!0,value:u,onChange:function(n){return d(n.target.value)},placeholder:p,variant:"standard",InputProps:{endAdornment:(0,C.jsx)(P,{position:"end",children:!(0,M.isEmpty)(u)&&(0,C.jsx)(z.Z,{onClick:function(){return d("")},size:"small",children:(0,C.jsx)(I,{})})}),startAdornment:(0,C.jsx)(P,{position:"start",children:(0,C.jsx)(L,{})})}})}},81917:function(n,t,e){e.d(t,{Ky:function(){return p},Qi:function(){return f},Xt:function(){return h},xU:function(){return d},zh:function(){return v}});var r=e(1413),i=e(46916),o=e(89422),a=e(58611),s=e(5826),c=function(n){return n.allFilms},l=o.VL.getSelectors((function(n){return n.allFilms})),u=l.selectAll,d=(l.selectById,l.selectEntities,l.selectIds,l.selectTotal,function(n){return c(n).isLoading}),f=function(n){return c(n).isValidating},v=function(n){return c(n).errMsg},h=(0,i.P1)(u,s._d,(function(n,t){return(0,a.w)(n,t)})),p=(0,i.P1)((function(n){return c(n).apiParams}),(function(n){var t=(0,r.Z)({},n);return Object.keys(t).forEach((function(n){""==="".concat(t[n]).trim()&&delete t[n]})),t}))},84824:function(n,t,e){e.d(t,{Cs:function(){return r.Cs},K4:function(){return r.K4},eI:function(){return r.eI},hv:function(){return r.hv},iz:function(){return r.iz}});var r=e(89422)},5826:function(n,t,e){e.d(t,{JJ:function(){return d},RK:function(){return f},Wc:function(){return p},_d:function(){return v},f3:function(){return h},h3:function(){return x},xU:function(){return u}});var r=e(1413),i=e(46916),o=e(92546),a=e(18581),s=function(n){return n.favoriteFilms},c=a.VL.getSelectors((function(n){return n.favoriteFilms})),l=c.selectAll,u=(c.selectById,c.selectEntities,c.selectIds,c.selectTotal,function(n){return s(n).loading}),d=function(n){return s(n).favoriteToggleLoading},f=function(n){return s(n).firstTimeLoading},v=(0,i.P1)(l,(function(n){var t={};return n.forEach((function(n){t[n.episodeId]=(0,r.Z)({},n)})),t})),h=(0,i.P1)(l,(function(n){return(0,o.ZP)(n,(function(n){return n.filter((function(n){return!!n.isCurrentFavorite})).sort((function(n,t){return n.lastUpdated<t.lastUpdated?1:-1}))}))})),p=(0,i.P1)(s,(function(n){return n.extraFetchParams})),x=(0,i.P1)(l,s,(function(n,t){var e,r,i=null!==(e=t.extraFetchParams)&&void 0!==e&&e.equalTo?null!==(r=t.filteredFavorites)&&void 0!==r?r:[]:n;return(0,o.ZP)(i,(function(n){return n.filter((function(n){return!!n.isCurrentFavorite})).sort((function(n,t){return n.lastUpdated<t.lastUpdated?1:-1}))}))}))},58611:function(n,t,e){e.d(t,{Q:function(){return a},w:function(){return s}});var r=e(72426),i=e.n(r),o=e(92546),a=function(n){var t="",e=null!==n&&void 0!==n&&n.lastUpdated?i()(null===n||void 0===n?void 0:n.lastUpdated).fromNow():"";return t=null!==n&&void 0!==n&&n.isCurrentFavorite?"Remove from favorites":"Add to favorites",null!==n&&void 0!==n&&n.lastUpdated&&(t=t+". "+(n.isCurrentFavorite?"Favorited ":"Unfavorited ")+e),t},s=function(n,t){return(0,o.ZP)(null!==n&&void 0!==n?n:[],(function(n){n.sort((function(n,t){return n.properties.episode_id>t.properties.episode_id?1:-1})),n.forEach((function(n){n.properties.favorite=t[n.properties.episode_id]}))}))}},11155:function(n,t,e){var r=e(75814),i=e(4565),o=e(46431),a=e.n(o),s=e(72426),c=e.n(s),l=e(80184);t.Z=function(n){var t=n.date,e=void 0===t?0:t,o=n.fromNow,s=void 0===o||o,u=n.format,d=void 0===u?"MM/DD/YY HH:mm":u;return(0,l.jsx)(r.Z,{title:e?c()(e).format(d):"No date found",children:(0,l.jsx)(i.Z,{component:"span",display:"flex",alignItems:"center",justifyContent:"center",children:e?(0,l.jsx)(a(),{date:e,fromNow:s,format:s?void 0:d,interval:6e4}):(0,l.jsx)(l.Fragment,{children:"N/A"})})})}},73808:function(n,t,e){e.d(t,{Z:function(){return c}});var r=e(1413),i=e(22892),o=e(44666),a=e(43906),s=e(80184);function c(n){var t=n.toolbarProps,e=n.children;return(0,s.jsx)(i.Z,(0,r.Z)((0,r.Z)({elevation:0},t),{},{children:(0,s.jsx)(o.Z,{variant:"regular",sx:{bgcolor:function(n){return"light"===n.palette.mode?a.s[100]:null},color:function(n){return"light"===n.palette.mode?"#000":null}},children:e})}))}},51372:function(n,t,e){var r;e.d(t,{K:function(){return r}}),function(n){n.TABLE="table",n.CARD="card"}(r||(r={}))},17237:function(n,t,e){var r=e(64836);t.Z=void 0;var i=r(e(45649)),o=e(80184),a=(0,i.default)((0,o.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),"Favorite");t.Z=a},36976:function(n,t,e){var r=e(64836);t.Z=void 0;var i=r(e(45649)),o=e(80184),a=(0,i.default)((0,o.jsx)("path",{d:"m18 22-.01-6L14 12l3.99-4.01L18 2H6v6l4 4-4 3.99V22h12zM8 7.5V4h8v3.5l-4 4-4-4z"}),"HourglassBottom");t.Z=a},39841:function(n,t,e){var r=e(64836);t.Z=void 0;var i=r(e(45649)),o=e(80184),a=(0,i.default)((0,o.jsx)("path",{d:"M10 10.02h5V21h-5zM17 21h3c1.1 0 2-.9 2-2v-9h-5v11zm3-18H5c-1.1 0-2 .9-2 2v3h19V5c0-1.1-.9-2-2-2zM3 19c0 1.1.9 2 2 2h3V10H3v9z"}),"TableChart");t.Z=a},40824:function(n,t,e){var r=e(64836);t.Z=void 0;var i=r(e(45649)),o=e(80184),a=(0,i.default)((0,o.jsx)("path",{d:"M14.67 5v6.5H9.33V5h5.34zm1 6.5H21V5h-5.33v6.5zm-1 7.5v-6.5H9.33V19h5.34zm1-6.5V19H21v-6.5h-5.33zm-7.34 0H3V19h5.33v-6.5zm0-1V5H3v6.5h5.33z"}),"ViewModule");t.Z=a}}]);
//# sourceMappingURL=903.a4b9e86d.chunk.js.map