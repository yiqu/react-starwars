"use strict";(self.webpackChunkstarwars=self.webpackChunkstarwars||[]).push([[903],{903:function(t,n,e){e.r(n),e.d(n,{default:function(){return N}});var r=e(70885),i=e(72791),o=e(94162),a=e(75814),s=e(13811),c=e(36227),l=e(7150),d=e(64152),u=e(48928),f=e(96875),v=e(55194),h=e(38943),p=e(17205),x=e(4565),m=e(11087),Z=e(17237),j=e(36976),g=e(58611),b=e(11155),y=e(70773),C=e(51070),w=e.n(C),P=e(64317),z=e(11878),F=e(80184);function L(t){var n,e=t.film,r=t.uid,i=t.userId,a=t.allFavoritesLoading,c=(t.favToggleLoading,(0,P.T)());return(0,F.jsxs)(u.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-between"},elevation:2,children:[(0,F.jsxs)("div",{children:[(0,F.jsx)(h.Z,{component:"img",alt:"poster",height:"440",image:"".concat("","/assets/poster-img/").concat(e.episode_id,".png"),sx:{backgroundColor:"#000",objectFit:"contain"}}),(0,F.jsxs)(v.Z,{children:[(0,F.jsxs)(o.Z,{direction:{lg:"column",xl:"row"},justifyContent:{xl:"space-between",lg:"flex-start"},marginBottom:{lg:"10px",xl:"0px"},children:[(0,F.jsx)(x.Z,{gutterBottom:!0,variant:"h5",component:m.rU,to:"./".concat(r),sx:{fontFamily:"Poppins",fontWeight:"500"},children:e.title}),(0,F.jsxs)(x.Z,{variant:"h5",color:"text.secondary",sx:{fontWeight:"300"},children:["EP ",e.episode_id]})]}),(0,F.jsxs)(o.Z,{spacing:1,children:[(0,F.jsxs)(o.Z,{direction:"row",spacing:.5,children:[(0,F.jsx)(x.Z,{variant:"body2",color:"text.secondary",children:"Released:"}),(0,F.jsx)(x.Z,{variant:"body2",color:"text.secondary",children:(0,F.jsx)(b.Z,{date:e.release_date,format:"MMM Do YYYY"})})]}),(0,F.jsxs)(x.Z,{variant:"body2",color:"text.secondary",children:["Directed by: ",e.director]}),(0,F.jsxs)(x.Z,{variant:"body2",color:"text.secondary",children:["Produced by: ",e.producer]}),(0,F.jsx)(x.Z,{variant:"body2",color:"text.primary",children:e.opening_crawl})]})]})]}),(0,F.jsxs)(f.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,F.jsx)("div",{children:(0,F.jsx)(p.Z,{size:"small",component:m.rU,to:"./".concat(r),children:"See More"})}),(0,F.jsx)("div",{children:(0,F.jsx)(s.Z,{"aria-label":"favorite",onClick:function(){var t,n,r,o=e.url,a=o.split("/")[o.split("/").length-1],s=w()(y.K,"swdb/:user/favorites".concat(null!==(t=e.favorite)&&void 0!==t&&t.fireId?"/"+(null===(n=e.favorite)||void 0===n?void 0:n.fireId):"",".json"),{user:i}),l={filmUrl:o,filmId:a,lastUpdated:(new Date).getTime(),episodeId:e.episode_id,isCurrentFavorite:!0};e.favorite?(l.isCurrentFavorite=!e.favorite.isCurrentFavorite,l.fireId=e.favorite.fireId,r=c((0,z.cP)({fav:l,url:s,favStatus:!e.favorite.isCurrentFavorite}))):r=c((0,z.gf)({fav:l,url:s,favStatus:!0})),r.then((function(t){return c((0,z.xu)({httpParams:{user:"yqu"}}))}))},title:(0,g.Q)(e.favorite),disabled:!!a,children:a?(0,F.jsx)(j.Z,{}):(0,F.jsx)(Z.Z,{color:null!==(n=e.favorite)&&void 0!==n&&n.isCurrentFavorite?"error":"disabled"})})})]})]})}var E=e(73808),I=e(54596),M=e(51372),S=e(39841),T=e(40824),U=e(96015),A="LoadingBackdrop_loadingbackdrop__fzQLF";var V=function(t){var n=t.isLoading,e=t.children;return(0,F.jsx)(U.Z,{className:n?"".concat(A):"",width:"100%",children:e})},k=e(53607),_=e(758),D=e(81917),H=e(5826),R=e(83737),N=function(){var t=(0,P.T)(),n=(0,i.useContext)(k.Z).showSnackbar,e=(0,m.lr)(),u=(0,r.Z)(e,2),f=u[0],v=u[1],h=f.get("moviePageDisplayMode"),p=(0,I.Z)().isMobile,x=(0,i.useState)(h),Z=(0,r.Z)(x,2),j=Z[0],g=(Z[1],(0,P.C)(D.xU)),b=(0,P.C)(D.Qi),y=(0,P.C)(D.zh),C=(0,P.C)(H.xU),w=(0,P.C)(H.JJ),z=(0,P.C)(D.Xt);(0,i.useEffect)((function(){return function(){n("info",void 0)}}),[n]);var U=(0,i.useCallback)((function(n){t(R.iz({title:n}))}),[t]);return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(E.Z,{toolbarProps:{position:"sticky",sx:{top:p?"56px":"64px"}},children:(0,F.jsxs)(c.Z,{container:!0,xs:12,flexDirection:{xs:"row",sm:"row"},justifyContent:"space-between",alignItems:"center",children:[(0,F.jsx)(c.Z,{xs:10,sm:4,children:(0,F.jsx)(o.Z,{direction:"row",justifyContent:"start",alignItems:"center",children:(0,F.jsxs)(c.Z,{container:!0,xs:12,children:[(0,F.jsx)(c.Z,{xs:8,children:(0,F.jsx)(d.Z,{filterChange:U})}),(0,F.jsx)(c.Z,{xs:2,sx:{display:"flex"},justifyContent:"center",alignItems:"center",children:b&&(0,F.jsx)(l.Z,{size:20})})]})})}),(0,F.jsx)(c.Z,{xs:2,sm:8,children:(0,F.jsx)(o.Z,{direction:"row",justifyContent:"flex-end",alignItems:"center",children:(0,F.jsx)(a.Z,{title:"Switch to ".concat(K(j)),children:(0,F.jsx)(s.Z,{onClick:function(){var t={moviePageDisplayMode:K(j)};v(t)},children:j===M.K.CARD?(0,F.jsx)(S.Z,{}):(0,F.jsx)(T.Z,{})})})})})]})}),(0,F.jsx)(V,{isLoading:g,children:y?(0,F.jsx)(_.Z,{reason:"Failed loading all films.",debug:y}):(0,F.jsx)(o.Z,{direction:"column",p:2,width:"100%",children:(0,F.jsx)(c.Z,{container:!0,disableEqualOverflow:!0,rowSpacing:4,children:null===z||void 0===z?void 0:z.map((function(t){return(0,F.jsx)(c.Z,{xs:12,sm:4,smOffset:4,children:(0,F.jsx)(L,{userId:"yqu",film:t.properties,uid:t.uid,allFavoritesLoading:C,favToggleLoading:w})},t.properties.episode_id)}))})})})]})},K=function(t){return t&&t===M.K.CARD?M.K.TABLE:M.K.CARD}},64152:function(t,n,e){e.d(n,{Z:function(){return S}});var r=e(70885),i=e(72791),o=e(59911),a=e(4942),s=e(63366),c=e(87462),l=e(28182),d=e(94419),u=e(49853),f=e(4565),v=e(51211),h=e(90529),p=e(60277),x=e(75878),m=e(21217);function Z(t){return(0,m.Z)("MuiInputAdornment",t)}var j,g=(0,x.Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),b=e(85513),y=e(80184),C=["children","className","component","disablePointerEvents","disableTypography","position","variant"],w=(0,p.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:function(t,n){var e=t.ownerState;return[n.root,n["position".concat((0,u.Z)(e.position))],!0===e.disablePointerEvents&&n.disablePointerEvents,n[e.variant]]}})((function(t){var n=t.theme,e=t.ownerState;return(0,c.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(n.vars||n).palette.action.active},"filled"===e.variant&&(0,a.Z)({},"&.".concat(g.positionStart,"&:not(.").concat(g.hiddenLabel,")"),{marginTop:16}),"start"===e.position&&{marginRight:8},"end"===e.position&&{marginLeft:8},!0===e.disablePointerEvents&&{pointerEvents:"none"})})),P=i.forwardRef((function(t,n){var e=(0,b.Z)({props:t,name:"MuiInputAdornment"}),r=e.children,o=e.className,a=e.component,p=void 0===a?"div":a,x=e.disablePointerEvents,m=void 0!==x&&x,g=e.disableTypography,P=void 0!==g&&g,z=e.position,F=e.variant,L=(0,s.Z)(e,C),E=(0,h.Z)()||{},I=F;F&&E.variant,E&&!I&&(I=E.variant);var M=(0,c.Z)({},e,{hiddenLabel:E.hiddenLabel,size:E.size,disablePointerEvents:m,position:z,variant:I}),S=function(t){var n=t.classes,e=t.disablePointerEvents,r=t.hiddenLabel,i=t.position,o=t.size,a=t.variant,s={root:["root",e&&"disablePointerEvents",i&&"position".concat((0,u.Z)(i)),a,r&&"hiddenLabel",o&&"size".concat((0,u.Z)(o))]};return(0,d.Z)(s,Z,n)}(M);return(0,y.jsx)(v.Z.Provider,{value:null,children:(0,y.jsx)(w,(0,c.Z)({as:p,ownerState:M,className:(0,l.Z)(S.root,o),ref:n},L,{children:"string"!==typeof r||P?(0,y.jsxs)(i.Fragment,{children:["start"===z?j||(j=(0,y.jsx)("span",{className:"notranslate",children:"\u200b"})):null,r]}):(0,y.jsx)(f.Z,{color:"text.secondary",children:r})}))})})),z=e(13811);var F=function(t,n){var e=function(){var t=(0,i.useRef)(!0);return t.current?(t.current=!1,!0):t.current}();(0,i.useEffect)((function(){if(!e)return t()}),n)},L=e(81245),E=(0,L.Z)((0,y.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),I=(0,L.Z)((0,y.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search"),M=e(763);function S(t){var n=t.count,e=t.filterChange,a=t.placeholderText,s=t.currentText,c=(0,i.useState)(""),l=(0,r.Z)(c,2),d=l[0],u=l[1],f=function(t,n){var e=(0,i.useState)(t),o=(0,r.Z)(e,2),a=o[0],s=o[1];return(0,i.useEffect)((function(){var e=setTimeout((function(){s(t)}),n);return function(){clearTimeout(e)}}),[t,n]),a}(d,400);return F((function(){e(f)}),[e,f]),(0,i.useEffect)((function(){u(null!==s&&void 0!==s?s:"")}),[s]),(0,y.jsx)(o.Z,{name:"movieName",type:"text",fullWidth:!0,value:d,onChange:function(t){return u(t.target.value)},placeholder:null!==a&&void 0!==a?a:"Filter by name ".concat(void 0!==n?"("+n+")":""),variant:"standard",InputProps:{endAdornment:(0,y.jsx)(P,{position:"end",children:!(0,M.isEmpty)(d)&&(0,y.jsx)(z.Z,{onClick:function(){return u("")},size:"small",children:(0,y.jsx)(E,{})})}),startAdornment:(0,y.jsx)(P,{position:"start",children:(0,y.jsx)(I,{})})}})}},83737:function(t,n,e){e.d(n,{Cs:function(){return a},K4:function(){return s},eI:function(){return o},hv:function(){return i},iz:function(){return c}});var r=e(89422).rT.actions,i=r.fetchFailure,o=r.fetchPayloadSuccess,a=r.setValidating,s=r.setLoading,c=(r.setUrl,r.setParams2)},81917:function(t,n,e){e.d(n,{Ky:function(){return p},Qi:function(){return f},Xt:function(){return h},xU:function(){return u},zh:function(){return v}});var r=e(1413),i=e(46916),o=e(89422),a=e(58611),s=e(5826),c=function(t){return t.allFilms},l=o.VL.getSelectors((function(t){return t.allFilms})),d=l.selectAll,u=(l.selectById,l.selectEntities,l.selectIds,l.selectTotal,function(t){return c(t).isLoading}),f=function(t){return c(t).isValidating},v=function(t){return c(t).errMsg},h=(0,i.P1)(d,s._d,(function(t,n){return(0,a.w)(t,n)})),p=(0,i.P1)((function(t){return c(t).apiParams}),(function(t){var n=(0,r.Z)({},t);return Object.keys(n).forEach((function(t){""==="".concat(n[t]).trim()&&delete n[t]})),n}))},5826:function(t,n,e){e.d(n,{JJ:function(){return u},RK:function(){return f},Wc:function(){return p},_d:function(){return v},f3:function(){return h},h3:function(){return x},xU:function(){return d}});var r=e(1413),i=e(46916),o=e(92546),a=e(18581),s=function(t){return t.favoriteFilms},c=a.VL.getSelectors((function(t){return t.favoriteFilms})),l=c.selectAll,d=(c.selectById,c.selectEntities,c.selectIds,c.selectTotal,function(t){return s(t).loading}),u=function(t){return s(t).favoriteToggleLoading},f=function(t){return s(t).firstTimeLoading},v=(0,i.P1)(l,(function(t){var n={};return t.forEach((function(t){n[t.episodeId]=(0,r.Z)({},t)})),n})),h=(0,i.P1)(l,(function(t){return(0,o.ZP)(t,(function(t){return t.filter((function(t){return!!t.isCurrentFavorite})).sort((function(t,n){return t.lastUpdated<n.lastUpdated?1:-1}))}))})),p=(0,i.P1)(s,(function(t){return t.extraFetchParams})),x=(0,i.P1)(l,s,(function(t,n){var e,r,i=null!==(e=n.extraFetchParams)&&void 0!==e&&e.equalTo?null!==(r=n.filteredFavorites)&&void 0!==r?r:[]:t;return(0,o.ZP)(i,(function(t){return t.filter((function(t){return!!t.isCurrentFavorite})).sort((function(t,n){return t.lastUpdated<n.lastUpdated?1:-1}))}))}))},58611:function(t,n,e){e.d(n,{Q:function(){return a},w:function(){return s}});var r=e(72426),i=e.n(r),o=e(92546),a=function(t){var n="",e=null!==t&&void 0!==t&&t.lastUpdated?i()(null===t||void 0===t?void 0:t.lastUpdated).fromNow():"";return n=null!==t&&void 0!==t&&t.isCurrentFavorite?"Remove from favorites":"Add to favorites",null!==t&&void 0!==t&&t.lastUpdated&&(n=n+". "+(t.isCurrentFavorite?"Favorited ":"Unfavorited ")+e),n},s=function(t,n){return(0,o.ZP)(null!==t&&void 0!==t?t:[],(function(t){t.sort((function(t,n){return t.properties.episode_id>n.properties.episode_id?1:-1})),t.forEach((function(t){t.properties.favorite=n[t.properties.episode_id]}))}))}},11155:function(t,n,e){var r=e(75814),i=e(4565),o=e(46431),a=e.n(o),s=e(72426),c=e.n(s),l=e(80184);n.Z=function(t){var n=t.date,e=void 0===n?0:n,o=t.fromNow,s=void 0===o||o,d=t.format,u=void 0===d?"MM/DD/YY HH:mm":d;return(0,l.jsx)(r.Z,{title:e?c()(e).format(u):"No date found",children:(0,l.jsx)(i.Z,{component:"span",display:"flex",alignItems:"center",justifyContent:"center",children:e?(0,l.jsx)(a(),{date:e,fromNow:s,format:s?void 0:u,interval:6e4}):(0,l.jsx)(l.Fragment,{children:"N/A"})})})}},73808:function(t,n,e){e.d(n,{Z:function(){return c}});var r=e(1413),i=e(22892),o=e(44666),a=e(43906),s=e(80184);function c(t){var n=t.toolbarProps,e=t.children;return(0,s.jsx)(i.Z,(0,r.Z)((0,r.Z)({elevation:0},n),{},{children:(0,s.jsx)(o.Z,{variant:"regular",sx:{bgcolor:function(t){return"light"===t.palette.mode?a.s[100]:null},color:function(t){return"light"===t.palette.mode?"#000":null}},children:e})}))}},51372:function(t,n,e){var r;e.d(n,{K:function(){return r}}),function(t){t.TABLE="table",t.CARD="card"}(r||(r={}))},17237:function(t,n,e){var r=e(64836);n.Z=void 0;var i=r(e(45649)),o=e(80184),a=(0,i.default)((0,o.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),"Favorite");n.Z=a},36976:function(t,n,e){var r=e(64836);n.Z=void 0;var i=r(e(45649)),o=e(80184),a=(0,i.default)((0,o.jsx)("path",{d:"m18 22-.01-6L14 12l3.99-4.01L18 2H6v6l4 4-4 3.99V22h12zM8 7.5V4h8v3.5l-4 4-4-4z"}),"HourglassBottom");n.Z=a},39841:function(t,n,e){var r=e(64836);n.Z=void 0;var i=r(e(45649)),o=e(80184),a=(0,i.default)((0,o.jsx)("path",{d:"M10 10.02h5V21h-5zM17 21h3c1.1 0 2-.9 2-2v-9h-5v11zm3-18H5c-1.1 0-2 .9-2 2v3h19V5c0-1.1-.9-2-2-2zM3 19c0 1.1.9 2 2 2h3V10H3v9z"}),"TableChart");n.Z=a},40824:function(t,n,e){var r=e(64836);n.Z=void 0;var i=r(e(45649)),o=e(80184),a=(0,i.default)((0,o.jsx)("path",{d:"M14.67 5v6.5H9.33V5h5.34zm1 6.5H21V5h-5.33v6.5zm-1 7.5v-6.5H9.33V19h5.34zm1-6.5V19H21v-6.5h-5.33zm-7.34 0H3V19h5.33v-6.5zm0-1V5H3v6.5h5.33z"}),"ViewModule");n.Z=a}}]);
//# sourceMappingURL=903.75c9b071.chunk.js.map