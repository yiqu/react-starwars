"use strict";(self.webpackChunkstarwars=self.webpackChunkstarwars||[]).push([[187],{758:function(e,r,t){t.d(r,{Z:function(){return s}});var n=t(96015),i=t(94162),a=t(4565),o=t(80184);function s(e){var r=e.reason,t=e.debug;return(0,o.jsx)(n.Z,{marginY:5,width:"100%",children:(0,o.jsxs)(i.Z,{direction:"column",spacing:5,justifyContent:"center",alignItems:"center",children:[(0,o.jsx)(a.Z,{variant:"h5",sx:{textTransform:"uppercase"},children:"An error has occurred!"}),(0,o.jsxs)(i.Z,{direction:"column",spacing:1,justifyContent:"center",alignItems:"center",children:[(0,o.jsx)(a.Z,{variant:"body1",fontWeight:700,children:"REASON"}),(0,o.jsx)(a.Z,{variant:"body2",children:r})]}),(0,o.jsxs)(i.Z,{direction:"column",spacing:1,justifyContent:"center",alignItems:"center",children:[(0,o.jsx)(a.Z,{variant:"body1",fontWeight:700,children:"DEBUG"}),(0,o.jsx)(a.Z,{variant:"body2",component:"div",children:(0,o.jsx)("pre",{children:(0,o.jsx)("code",{style:{display:"flex",textAlign:"center"},children:JSON.stringify(t)})})})]})]})})}},82187:function(e,r,t){t.r(r),t.d(r,{default:function(){return ce}});var n=t(1413),i=t(70885),a=t(64317),o=t(36227),s=t(94162),c=t(96580),l=t(4565),d=t(17205),u=t(96015),f=t(81872),v=t(45629),m=t(79729),g=t(31651),h=t(758),x=t(73808),Z=t(47194),p=t(32619),j=t(23176),k=t(54596),y=t(45173),b=t(72791),w=t(763),S=t(65218),I=t(95273),F=t(50873),C=t(92546),P=t(18581),M=function(e){return e.favoriteFilms},L=P.VL.getSelectors((function(e){return e.favoriteFilms})),R=L.selectAll,N=(L.selectById,L.selectEntities,L.selectIds,L.selectTotal,(0,I.createDraftSafeSelector)((function(e){return e.favoritesConfig}),(function(e){return e.mutatingFavorites}))),D=((0,F.P1)(R,(function(e){var r={};return e.forEach((function(e){r[e.episodeId]=(0,n.Z)({},e)})),r})),(0,F.P1)(R,(function(e){return(0,C.ZP)(e,(function(e){return e.filter((function(e){return!!e.isCurrentFavorite})).sort((function(e,r){return e.lastUpdated<r.lastUpdated?1:-1}))}))})),(0,F.P1)(M,(function(e){return e.extraFetchParams})),(0,F.P1)(R,M,(function(e,r){var t,n,i=null!==(t=r.extraFetchParams)&&void 0!==t&&t.equalTo?null!==(n=r.filteredFavorites)&&void 0!==n?n:[]:e;return(0,C.ZP)(i,(function(e){return e.filter((function(e){return!!e.isCurrentFavorite})).sort((function(e,r){return e.lastUpdated<r.lastUpdated?1:-1}))}))})),t(76132)),_=t(13811),A=t(63366),z=t(87462),T=t(28182),E=t(94419),U=t(98826),O=t(60277),W=t(85513),q=t(75878),B=t(21217);function G(e){return(0,B.Z)("MuiListItemAvatar",e)}(0,q.Z)("MuiListItemAvatar",["root","alignItemsFlexStart"]);var J=t(80184),H=["className"],V=(0,O.ZP)("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:function(e,r){var t=e.ownerState;return[r.root,"flex-start"===t.alignItems&&r.alignItemsFlexStart]}})((function(e){var r=e.ownerState;return(0,z.Z)({minWidth:56,flexShrink:0},"flex-start"===r.alignItems&&{marginTop:8})})),X=b.forwardRef((function(e,r){var t=(0,W.Z)({props:e,name:"MuiListItemAvatar"}),n=t.className,i=(0,A.Z)(t,H),a=b.useContext(U.Z),o=(0,z.Z)({},t,{alignItems:a.alignItems}),s=function(e){var r=e.alignItems,t=e.classes,n={root:["root","flex-start"===r&&"alignItemsFlexStart"]};return(0,E.Z)(n,G,t)}(o);return(0,J.jsx)(V,(0,z.Z)({className:(0,T.Z)(s.root,n),ownerState:o,ref:r},i))})),Y=(0,t(81245).Z)((0,J.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function K(e){return(0,B.Z)("MuiAvatar",e)}(0,q.Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var Q=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],$=(0,O.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,r){var t=e.ownerState;return[r.root,r[t.variant],t.colorDefault&&r.colorDefault]}})((function(e){var r=e.theme,t=e.ownerState;return(0,z.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:r.typography.fontFamily,fontSize:r.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===t.variant&&{borderRadius:(r.vars||r).shape.borderRadius},"square"===t.variant&&{borderRadius:0},t.colorDefault&&(0,z.Z)({color:(r.vars||r).palette.background.default},r.vars?{backgroundColor:r.vars.palette.Avatar.defaultBg}:{backgroundColor:"light"===r.palette.mode?r.palette.grey[400]:r.palette.grey[600]}))})),ee=(0,O.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,r){return r.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),re=(0,O.ZP)(Y,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,r){return r.fallback}})({width:"75%",height:"75%"});var te=b.forwardRef((function(e,r){var t=(0,W.Z)({props:e,name:"MuiAvatar"}),n=t.alt,a=t.children,o=t.className,s=t.component,c=void 0===s?"div":s,l=t.imgProps,d=t.sizes,u=t.src,f=t.srcSet,v=t.variant,m=void 0===v?"circular":v,g=(0,A.Z)(t,Q),h=null,x=function(e){var r=e.crossOrigin,t=e.referrerPolicy,n=e.src,a=e.srcSet,o=b.useState(!1),s=(0,i.Z)(o,2),c=s[0],l=s[1];return b.useEffect((function(){if(n||a){l(!1);var e=!0,i=new Image;return i.onload=function(){e&&l("loaded")},i.onerror=function(){e&&l("error")},i.crossOrigin=r,i.referrerPolicy=t,i.src=n,a&&(i.srcset=a),function(){e=!1}}}),[r,t,n,a]),c}((0,z.Z)({},l,{src:u,srcSet:f})),Z=u||f,p=Z&&"error"!==x,j=(0,z.Z)({},t,{colorDefault:!p,component:c,variant:m}),k=function(e){var r=e.classes,t={root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,E.Z)(t,K,r)}(j);return h=p?(0,J.jsx)(ee,(0,z.Z)({alt:n,src:u,srcSet:f,sizes:d,ownerState:j,className:k.img},l)):null!=a?a:Z&&n?n[0]:(0,J.jsx)(re,{className:k.fallback}),(0,J.jsx)($,(0,z.Z)({as:c,ownerState:j,className:(0,T.Z)(k.root,o),ref:r},g,{children:h}))})),ne=t(4346),ie=t(11087),ae=t(17237),oe=t(74569);function se(e){var r=e.favorite,t=e.isWorking,n=e.toggle;return(0,J.jsxs)(D.ZP,{sx:{opacity:t?.3:1},secondaryAction:(0,J.jsx)(_.Z,{edge:"end","aria-label":"delete",onClick:function(){return n(r)},disabled:t,"data-tooltip-id":"tooltip","data-tooltip-content":"Toggle favorite",children:(0,J.jsx)(ae.Z,{color:r.isCurrentFavorite?"error":"disabled"})}),children:[(0,J.jsx)(X,{sx:{mr:2},children:(0,J.jsx)(te,{src:"".concat("","/assets/poster-img/").concat(r.episodeId,".png"),sx:{width:80,height:80}})}),(0,J.jsx)(ne.Z,{primary:(0,J.jsx)(ie.rU,{to:"./".concat(r.fireId),children:(0,J.jsx)(s.Z,{direction:"row",justifyContent:"start",alignItems:"center",children:(0,J.jsx)(l.Z,{variant:"h5",children:"Ep. ".concat(r.episodeId)})})}),secondary:(0,J.jsxs)(l.Z,{variant:"body1",children:["Updated: ",(0,J.jsx)(oe.Z,{dateInMilli:r.lastUpdated})," ago "]})})]},r.fireId)}function ce(){var e=(0,k.Z)().isMobile,r=((0,a.T)(),(0,m.eE)()),t=(0,i.Z)(r,2),I=t[0],F=(t[1],(0,m.oo)(void 0,{selectFromResult:function(e){var r;return(0,n.Z)((0,n.Z)({},e),{},{onlyFavorites:null===(r=e.data)||void 0===r?void 0:r.filter((function(e){return e.isCurrentFavorite}))})}})),C=F.data,P=F.onlyFavorites,M=F.isLoading,L=F.isFetching,R=F.isError,D=F.error,_=F.fulfilledTimeStamp,A=F.startedTimeStamp,z=F.refetch,T=(null!==_&&void 0!==_?_:0)-(null!==A&&void 0!==A?A:0),E=(0,a.C)(N),U=function(e){var r=(0,w.cloneDeep)(e);r&&(r.isCurrentFavorite=!r.isCurrentFavorite,r.lastUpdated=(new Date).getTime(),I(r).then((function(e){return S.ZP.success("".concat(r.isCurrentFavorite?"Added":"Removed"," Ep. ").concat(r.episodeId," as favorites"))})))};return M?(0,J.jsx)(s.Z,{direction:"column",width:"100%",justifyContent:"center",alignItems:"center",height:"100vh",children:(0,J.jsx)(g.Z,{message:"Favorites"})}):R?(0,J.jsx)(h.Z,{reason:D.status,debug:D.error}):P&&C?(0,J.jsxs)(s.Z,{direction:"column",width:"100%",children:[(0,J.jsx)(x.Z,{toolbarProps:{position:"sticky",sx:{top:e?"56px":"64px"}},children:(0,J.jsxs)(o.Z,{container:!0,xs:12,children:[(0,J.jsx)(o.Z,{xs:4,children:(0,J.jsx)(s.Z,{direction:"row",justifyContent:"start",alignItems:"center",width:"100%"})}),(0,J.jsx)(o.Z,{xs:8,xsOffset:"auto",display:"flex",children:(0,J.jsxs)(s.Z,{direction:"row",justifyContent:"end",alignItems:"center",width:"100%",spacing:2,"data-tooltip-id":"fetch-information",children:[L&&(0,J.jsx)(c.Z,{size:20}),!L&&(0,J.jsxs)(l.Z,{fontSize:11,component:"div",children:["Last fetched ",(0,J.jsx)(Z.Z,{dateInMilli:null!==_&&void 0!==_?_:0}),", took: ",(0,J.jsx)(p.Z,{durationInMilli:T})]}),(0,J.jsx)(d.Z,{variant:"outlined",startIcon:(0,J.jsx)(j.Z,{}),onClick:function(){var e=z();S.ZP.promise(e,{loading:"Getting latest...",success:"Successfully refreshed all favorites!",error:"Error refreshing favorites"})},children:"Refresh Favorites"})]})})]})}),(0,J.jsx)(u.Z,{mt:2,mx:e?2:0,children:(0,J.jsxs)(y.Z,{size:"skinny",children:[(0,J.jsx)(f.Z,{sx:{width:"100%",alignItems:"flex-start",mb:4},children:"Current Favorites"}),(0,J.jsx)(v.Z,{dense:!1,sx:{width:"100%"},children:P.map((function(e){var r=E[e.fireId];return(0,J.jsxs)(b.Fragment,{children:[(0,J.jsx)(se,{isWorking:r,favorite:e,toggle:U}),(0,J.jsx)(f.Z,{variant:"inset",component:"li"})]},e.fireId)}))}),(0,J.jsx)(f.Z,{sx:{width:"100%",alignItems:"flex-start",my:4},children:"All"}),(0,J.jsx)(v.Z,{dense:!1,sx:{width:"100%"},children:C.map((function(e){var r=E[e.fireId];return(0,J.jsxs)(b.Fragment,{children:[(0,J.jsx)(se,{isWorking:r,favorite:e,toggle:U}),(0,J.jsx)(f.Z,{variant:"inset",component:"li"})]},e.fireId)}))})]})})]}):(0,J.jsx)(J.Fragment,{})}},47194:function(e,r,t){var n=t(29158),i=t(80184);r.Z=function(e){var r=e.dateInMilli;return(0,i.jsx)(i.Fragment,{children:void 0!==r&&(0,n.Z)(r,"MM/dd/yyyy p")})}},74569:function(e,r,t){t.d(r,{Z:function(){return s}});var n=t(51943),i=t(4522);function a(e,r){return(0,i.Z)(1,arguments),(0,n.Z)(e,Date.now(),r)}var o=t(80184);var s=function(e){var r=e.dateInMilli;return(0,o.jsx)(o.Fragment,{children:void 0!==r&&a(r,{includeSeconds:!0})})}},32619:function(e,r,t){var n=t(51943),i=t(80184);r.Z=function(e){var r=e.durationInMilli;return(0,i.jsx)(i.Fragment,{children:r>1e3?(0,n.Z)(0,r,{includeSeconds:!0}):r+" ms"})}},45173:function(e,r,t){var n=t(36227),i=t(80184);r.Z=function(e){var r=e.size,t=void 0===r?"med":r,a=e.children;return(0,i.jsx)(n.Z,{container:!0,spacing:0,xs:12,xsOffset:0,sm:"full"===t?12:"med"===t?7:4,smOffset:"full"===t?0:"med"===t?2.5:4,children:a})}},73808:function(e,r,t){t.d(r,{Z:function(){return c}});var n=t(1413),i=t(22892),a=t(44666),o=t(43906),s=t(80184);function c(e){var r=e.toolbarProps,t=e.children;return(0,s.jsx)(i.Z,(0,n.Z)((0,n.Z)({elevation:0},r),{},{children:(0,s.jsx)(a.Z,{variant:"regular",sx:{bgcolor:function(e){return"light"===e.palette.mode?o.s[100]:null},color:function(e){return"light"===e.palette.mode?"#000":null},pr:0},children:t})}))}},54596:function(e,r,t){var n=t(52797),i=t(74142);r.Z=function(){var e=(0,i.Z)();return{isMobile:(0,n.Z)(e.breakpoints.down("sm")),isMed:(0,n.Z)(e.breakpoints.down("md")),isLg:(0,n.Z)(e.breakpoints.down("lg")),isXl:(0,n.Z)(e.breakpoints.down("xl"))}}},31651:function(e,r,t){t.d(r,{Z:function(){return o}});t(72791);var n={parentClass:"LoadingLogo_parentClass__NFHXT",loadingLogo:"LoadingLogo_loadingLogo__BqUtz",loadingParent:"LoadingLogo_loadingParent__VASnq","loading-container":"LoadingLogo_loading-container__cjLsJ","whole-page":"LoadingLogo_whole-page__DkCG7",ldsFacebook:"LoadingLogo_ldsFacebook__pRdY2","lds-facebook":"LoadingLogo_lds-facebook__JLntj"},i=t(77783),a=t(80184);function o(e){return(0,a.jsxs)("div",{className:"".concat(n.parentClass," w-100"),children:[(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:n.loadingLogo,children:(0,a.jsx)("img",{src:i,className:"".concat(n.logoImg," d-inline-block"),alt:"logo"})})}),(0,a.jsx)("div",{className:n.loadingParent,children:(0,a.jsxs)("div",{className:n.ldsFacebook,children:[(0,a.jsx)("div",{}),(0,a.jsx)("div",{}),(0,a.jsx)("div",{})]})}),(0,a.jsxs)("div",{className:n.secfont,children:["Loading ",e.message," ..."]})]})}},17237:function(e,r,t){var n=t(64836);r.Z=void 0;var i=n(t(45649)),a=t(80184),o=(0,i.default)((0,a.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),"Favorite");r.Z=o},96580:function(e,r,t){t.d(r,{Z:function(){return R}});var n=t(30168),i=t(63366),a=t(87462),o=t(72791),s=t(28182),c=t(94419),l=t(52554),d=t(49853),u=t(85513),f=t(60277),v=t(75878),m=t(21217);function g(e){return(0,m.Z)("MuiCircularProgress",e)}(0,v.Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var h,x,Z,p,j,k,y,b,w=t(80184),S=["className","color","disableShrink","size","style","thickness","value","variant"],I=44,F=(0,l.F4)(j||(j=h||(h=(0,n.Z)(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),C=(0,l.F4)(k||(k=x||(x=(0,n.Z)(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),P=(0,f.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:function(e,r){var t=e.ownerState;return[r.root,r[t.variant],r["color".concat((0,d.Z)(t.color))]]}})((function(e){var r=e.ownerState,t=e.theme;return(0,a.Z)({display:"inline-block"},"determinate"===r.variant&&{transition:t.transitions.create("transform")},"inherit"!==r.color&&{color:(t.vars||t).palette[r.color].main})}),(function(e){return"indeterminate"===e.ownerState.variant&&(0,l.iv)(y||(y=Z||(Z=(0,n.Z)(["\n      animation: "," 1.4s linear infinite;\n    "]))),F)})),M=(0,f.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:function(e,r){return r.svg}})({display:"block"}),L=(0,f.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:function(e,r){var t=e.ownerState;return[r.circle,r["circle".concat((0,d.Z)(t.variant))],t.disableShrink&&r.circleDisableShrink]}})((function(e){var r=e.ownerState,t=e.theme;return(0,a.Z)({stroke:"currentColor"},"determinate"===r.variant&&{transition:t.transitions.create("stroke-dashoffset")},"indeterminate"===r.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(function(e){var r=e.ownerState;return"indeterminate"===r.variant&&!r.disableShrink&&(0,l.iv)(b||(b=p||(p=(0,n.Z)(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),C)})),R=o.forwardRef((function(e,r){var t=(0,u.Z)({props:e,name:"MuiCircularProgress"}),n=t.className,o=t.color,l=void 0===o?"primary":o,f=t.disableShrink,v=void 0!==f&&f,m=t.size,h=void 0===m?40:m,x=t.style,Z=t.thickness,p=void 0===Z?3.6:Z,j=t.value,k=void 0===j?0:j,y=t.variant,b=void 0===y?"indeterminate":y,F=(0,i.Z)(t,S),C=(0,a.Z)({},t,{color:l,disableShrink:v,size:h,thickness:p,value:k,variant:b}),R=function(e){var r=e.classes,t=e.variant,n=e.color,i=e.disableShrink,a={root:["root",t,"color".concat((0,d.Z)(n))],svg:["svg"],circle:["circle","circle".concat((0,d.Z)(t)),i&&"circleDisableShrink"]};return(0,c.Z)(a,g,r)}(C),N={},D={},_={};if("determinate"===b){var A=2*Math.PI*((I-p)/2);N.strokeDasharray=A.toFixed(3),_["aria-valuenow"]=Math.round(k),N.strokeDashoffset="".concat(((100-k)/100*A).toFixed(3),"px"),D.transform="rotate(-90deg)"}return(0,w.jsx)(P,(0,a.Z)({className:(0,s.Z)(R.root,n),style:(0,a.Z)({width:h,height:h},D,x),ownerState:C,ref:r,role:"progressbar"},_,F,{children:(0,w.jsx)(M,{className:R.svg,ownerState:C,viewBox:"".concat(22," ").concat(22," ").concat(I," ").concat(I),children:(0,w.jsx)(L,{className:R.circle,style:N,ownerState:C,cx:I,cy:I,r:(I-p)/2,fill:"none",strokeWidth:p})})}))}))}}]);
//# sourceMappingURL=187.b5d440c0.chunk.js.map