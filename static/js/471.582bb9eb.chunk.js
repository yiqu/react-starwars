"use strict";(self.webpackChunkstarwars=self.webpackChunkstarwars||[]).push([[471],{758:function(e,n,t){t.d(n,{Z:function(){return a}});var i=t(96015),r=t(94162),o=t(4565),s=t(80184);function a(e){var n=e.reason,t=e.debug;return(0,s.jsx)(i.Z,{marginY:5,width:"100%",children:(0,s.jsxs)(r.Z,{direction:"column",spacing:5,justifyContent:"center",alignItems:"center",children:[(0,s.jsx)(o.Z,{variant:"h5",sx:{textTransform:"uppercase"},children:"An error has occurred!"}),(0,s.jsxs)(r.Z,{direction:"column",spacing:1,justifyContent:"center",alignItems:"center",children:[(0,s.jsx)(o.Z,{variant:"body1",fontWeight:700,children:"REASON"}),(0,s.jsx)(o.Z,{variant:"body2",children:n})]}),(0,s.jsxs)(r.Z,{direction:"column",spacing:1,justifyContent:"center",alignItems:"center",children:[(0,s.jsx)(o.Z,{variant:"body1",fontWeight:700,children:"DEBUG"}),(0,s.jsx)(o.Z,{variant:"body2",component:"div",children:(0,s.jsx)("pre",{children:(0,s.jsx)("code",{style:{display:"flex",textAlign:"center"},children:JSON.stringify(t)})})})]})]})})}},21471:function(e,n,t){t.r(n),t.d(n,{default:function(){return J}});var i=t(1413),r=t(70885),o=t(72791),s=t(94162),a=t(4565),d=t(17205),l=t(96015),c=t(36227),u=t(48928),f=t(96875),v=t(55194),x=t(38943),h=t(11087),g=t(17237),p=t(36976),j=t(13811),m=t(72426),Z=t.n(m),y=function(e){var n="",t=null!==e&&void 0!==e&&e.lastUpdated?Z()(null===e||void 0===e?void 0:e.lastUpdated).fromNow():"";return n=null!==e&&void 0!==e&&e.isCurrentFavorite?"Remove from favorites":"Add to favorites",null!==e&&void 0!==e&&e.lastUpdated&&(n=n+". "+(e.isCurrentFavorite?"Favorited ":"Unfavorited ")+t),n},b=t(11155),w=t(70773),C=t(51070),F=t.n(C),L=t(64317),I=t(11878),_=t(80184);function k(e){var n=e.film,t=e.favoriteData,i=e.uid,r=e.userId,o=e.allFavoritesLoading,l=(e.favToggleLoading,(0,L.T)());return(0,_.jsxs)(u.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-between"},elevation:2,children:[(0,_.jsxs)("div",{children:[(0,_.jsx)(x.Z,{component:"img",alt:"poster",height:"440",image:"".concat("","/assets/poster-img/").concat(n.episode_id,".png"),sx:{backgroundColor:"#000",objectFit:"contain"}}),(0,_.jsxs)(v.Z,{children:[(0,_.jsxs)(s.Z,{direction:{lg:"column",xl:"row"},justifyContent:{xl:"space-between",lg:"flex-start"},marginBottom:{lg:"10px",xl:"0px"},children:[(0,_.jsx)(a.Z,{gutterBottom:!0,variant:"h5",component:h.rU,to:"./".concat(i),sx:{fontWeight:"500"},children:n.title}),(0,_.jsxs)(a.Z,{variant:"h5",color:"text.secondary",sx:{fontWeight:"300"},children:["EP ",n.episode_id]})]}),(0,_.jsxs)(s.Z,{spacing:1,children:[(0,_.jsxs)(s.Z,{direction:"row",spacing:.5,children:[(0,_.jsx)(a.Z,{variant:"body1",color:"text.secondary",children:"Released:"}),(0,_.jsx)(a.Z,{variant:"body1",color:"text.secondary",children:(0,_.jsx)(b.Z,{date:n.release_date,format:"MMM Do YYYY"})})]}),(0,_.jsxs)(a.Z,{variant:"body1",color:"text.secondary",children:["Directed by: ",n.director]}),(0,_.jsxs)(a.Z,{variant:"body1",color:"text.secondary",children:["Produced by: ",n.producer]}),(0,_.jsx)(a.Z,{variant:"body1",color:"text.primary",children:n.opening_crawl})]})]})]}),(0,_.jsxs)(f.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,_.jsx)("div",{children:(0,_.jsx)(d.Z,{size:"small",component:h.rU,to:"./".concat(i),children:"See More"})}),(0,_.jsx)("div",{children:(0,_.jsx)(j.Z,{"aria-label":"favorite",onClick:function(){var e,t,i,o=n.url,s=o.split("/")[o.split("/").length-1],a=F()(w.Ko,"swdb/:user/favorites".concat(null!==(e=n.favorite)&&void 0!==e&&e.fireId?"/"+(null===(t=n.favorite)||void 0===t?void 0:t.fireId):"",".json"),{user:r}),d={filmUrl:o,filmId:s,lastUpdated:(new Date).getTime(),episodeId:n.episode_id,isCurrentFavorite:!0};n.favorite?(d.isCurrentFavorite=!n.favorite.isCurrentFavorite,d.fireId=n.favorite.fireId,i=l((0,I.cP)({fav:d,url:a,favStatus:!n.favorite.isCurrentFavorite}))):i=l((0,I.gf)({fav:d,url:a,favStatus:!0})),i.then((function(e){return l((0,I.xu)({httpParams:{user:"yqu"}}))}))},title:y(t),disabled:!!o,children:o?(0,_.jsx)(p.Z,{}):(0,_.jsx)(g.Z,{color:null!==t&&void 0!==t&&t.isCurrentFavorite?"error":"disabled"})})})]})]})}var S=t(73808),M=t(54596),T=(t(51372),t(57689)),N=t(53607),D=t(758),P=t(61789),O=t(31651),E=t(26758),R=t(45173),U=t(96580),z=t(23176),A=t(32619),Y=t(25777),W=t(47194),q=t(46426),B=t(79729),H="films",J=function(){var e=(0,L.T)(),n=(0,o.useContext)(N.Z).showSnackbar,t=(0,h.lr)(),u=(0,r.Z)(t,2),f=u[0],v=(u[1],f.get("moviePageDisplayMode")),x=(0,M.Z)().isMobile,g=(0,T.s0)(),p=(0,o.useState)(v),j=(0,r.Z)(p,2),m=(j[0],j[1],(0,B.oo)()),Z=m.data,y=m.isLoading,b=m.isFetching,w=(0,P.$9)(void 0,{selectFromResult:function(e){var n;return(0,i.Z)((0,i.Z)({},e),{},{dataWithFavs:null===(n=e.data)||void 0===n?void 0:n.map((function(e){var n=null===Z||void 0===Z?void 0:Z.find((function(n){return n.episodeId===e.properties.episode_id}));return(0,i.Z)((0,i.Z)({},e),{},{favorite:n})})).sort((function(e,n){return e.properties.episode_id>n.properties.episode_id?1:-1}))})}}),C=(w.data,w.dataWithFavs),F=w.isLoading,I=w.isFetching,J=w.fulfilledTimeStamp,K=w.startedTimeStamp,G=(w.refetch,w.isError),V=w.error,X=(null!==J&&void 0!==J?J:0)-(null!==K&&void 0!==K?K:0);(0,o.useEffect)((function(){return function(){n("info",void 0)}}),[n]);return F?(0,_.jsx)(s.Z,{direction:"column",width:"100%",justifyContent:"center",alignItems:"center",height:"100vh",children:(0,_.jsx)(O.Z,{message:H})}):G?(0,_.jsx)(D.Z,{reason:V.status,debug:V.error}):C?(0,_.jsxs)(s.Z,{direction:"column",width:"100%",children:[(0,_.jsx)(S.Z,{toolbarProps:{position:"sticky",sx:{top:x?"56px":"64px"}},children:(0,_.jsxs)(c.Z,{container:!0,xs:12,children:[(0,_.jsx)(c.Z,{xs:4,children:(0,_.jsx)(s.Z,{direction:"row",justifyContent:"start",alignItems:"center",width:"100%",children:(0,_.jsx)(E.Z,{entity:H,onResultSelect:function(e){g("./".concat(null===e||void 0===e?void 0:e.uid))}})})}),(0,_.jsx)(c.Z,{xs:8,xsOffset:"auto",display:"flex",children:(0,_.jsxs)(s.Z,{direction:"row",justifyContent:"end",alignItems:"center",width:"100%",spacing:2,"data-tooltip-id":"fetch-information",children:[I&&(0,_.jsx)(U.Z,{size:20}),!I&&(0,_.jsxs)(a.Z,{fontSize:11,component:"div",children:["Last fetched ",(0,_.jsx)(W.Z,{dateInMilli:null!==J&&void 0!==J?J:0}),", took: ",(0,_.jsx)(A.Z,{durationInMilli:X})]}),(0,_.jsx)(d.Z,{variant:"outlined",startIcon:(0,_.jsx)(z.Z,{}),onClick:function(){e(B.Kx.util.invalidateTags([{type:"Favorites"}]))},children:"Refresh Favorites"}),(0,_.jsx)(d.Z,{variant:"outlined",startIcon:(0,_.jsx)(z.Z,{}),onClick:function(){e(P.ak.util.invalidateTags([{type:"Films"}]))},children:"Refresh Films"})]})})]})}),(0,_.jsx)(l.Z,{mt:2,mx:x?2:0,children:(0,_.jsx)(R.Z,{size:"med",children:null===C||void 0===C?void 0:C.map((function(e){return(0,_.jsx)(c.Z,{xs:12,sm:8,smOffset:2,mb:3,children:(0,_.jsx)(k,{userId:"yqu",film:e.properties,favoriteData:e.favorite,uid:e.uid,allFavoritesLoading:y,favToggleLoading:b})},e.properties.episode_id)}))})}),(0,_.jsx)(q.u,{id:"fetch-information",place:"bottom",offset:30,children:(0,_.jsx)(s.Z,{direction:"column",justifyContent:"center",alignItems:"center",children:(0,_.jsxs)(l.Z,{children:["Last fetched: ",(0,_.jsx)(W.Z,{dateInMilli:J})," ( ",(0,_.jsx)(Y.Z,{dateInMilli:J})," ago )."]})})})]}):(0,_.jsx)(_.Fragment,{})}},26758:function(e,n,t){var i=t(1413),r=t(70885),o=t(94162),s=t(22262),a=t(96015),d=t(59911),l=t(40255),c=t(72791),u=t(88163),f=t(73054),v=t(15290),x=t(79723),h=t(80184);function g(e){var n=e.params,t=e.entity;return(0,h.jsx)(d.Z,(0,i.Z)((0,i.Z)({},n),{},{label:"Filter ".concat(t),variant:"standard"}))}n.Z=function(e){var n=e.entity,t=e.onResultSelect,i=(0,c.useState)([]),d=(0,r.Z)(i,2),p=d[0],j=d[1],m=(0,c.useState)(null),Z=(0,r.Z)(m,2),y=Z[0],b=Z[1],w=(0,c.useState)(null),C=(0,r.Z)(w,2),F=C[0],L=C[1],I=(0,x.N)(F,600),_=(0,f.rw)(I?{entity:n,name:I}:l.skipToken),k=_.data,S=_.isFetching;return _.error,_.isError,_.refetch,(0,c.useEffect)((function(){j(null!==k&&void 0!==k?k:[])}),[k]),(0,u.Z)((function(){}),[I]),(0,h.jsxs)(o.Z,{direction:"row",justifyContent:"start",alignItems:"center",width:"100%",children:[(0,h.jsx)(s.Z,{disablePortal:!0,id:"search-entity-autocomplete",options:p,fullWidth:!0,autoHighlight:!0,blurOnSelect:!0,filterOptions:function(e){return e},value:y,getOptionLabel:function(e){var n;return null!==(n=e.properties.name)&&void 0!==n?n:e.properties.title},noOptionsText:"Search for ".concat(n),loading:S,renderInput:function(e){return(0,h.jsx)(g,{params:e,entity:n})},onChange:function(e,n){var i;j((i=n)?[i]:p),b(i),t(i)},onInputChange:function(e,n){return function(e,n){L(n)}(0,n)},isOptionEqualToValue:function(e,n){return e.uid===n.uid}}),(0,h.jsx)(a.Z,{ml:2,children:S&&(0,h.jsx)(v.Z,{size:20})})]})}},11155:function(e,n,t){var i=t(75814),r=t(4565),o=t(46431),s=t.n(o),a=t(72426),d=t.n(a),l=t(80184);n.Z=function(e){var n=e.date,t=void 0===n?0:n,o=e.fromNow,a=void 0===o||o,c=e.format,u=void 0===c?"MM/DD/YY HH:mm":c;return(0,l.jsx)(i.Z,{title:t?d()(t).format(u):"No date found",children:(0,l.jsx)(r.Z,{component:"span",display:"flex",alignItems:"center",justifyContent:"center",children:t?(0,l.jsx)(s(),{date:t,fromNow:a,format:a?void 0:u,interval:6e4}):(0,l.jsx)(l.Fragment,{children:"N/A"})})})}},47194:function(e,n,t){var i=t(29158),r=t(80184);n.Z=function(e){var n=e.dateInMilli;return(0,r.jsx)(r.Fragment,{children:void 0!==n&&(0,i.Z)(n,"MM/dd/yyyy p")})}},25777:function(e,n,t){var i=t(55763),r=t(80184);n.Z=function(e){var n=e.dateInMilli;return(0,r.jsx)(r.Fragment,{children:void 0!==n&&(0,i.Z)(n,{includeSeconds:!0})})}},32619:function(e,n,t){var i=t(51943),r=t(80184);n.Z=function(e){var n=e.durationInMilli;return(0,r.jsx)(r.Fragment,{children:n>1e3?(0,i.Z)(0,n,{includeSeconds:!0}):n+" ms"})}},45173:function(e,n,t){var i=t(36227),r=t(80184);n.Z=function(e){var n=e.size,t=void 0===n?"med":n,o=e.children;return(0,r.jsx)(i.Z,{container:!0,spacing:0,xs:12,xsOffset:0,sm:"full"===t?12:"med"===t?7:4,smOffset:"full"===t?0:"med"===t?2.5:4,children:o})}},15290:function(e,n,t){t.d(n,{Z:function(){return a}});var i=t(1413),r=(t(72791),t(94162)),o=t(96580),s=t(80184);function a(e){var n=e.size,t=void 0===n?40:n,a=e.color,d=void 0===a?"grey.500":a,l=e.styleProps;return(0,s.jsx)(r.Z,{sx:(0,i.Z)({color:d},l),spacing:1,direction:"row",children:(0,s.jsx)(o.Z,{color:"inherit",size:t})})}},73808:function(e,n,t){t.d(n,{Z:function(){return d}});var i=t(1413),r=t(22892),o=t(44666),s=t(43906),a=t(80184);function d(e){var n=e.toolbarProps,t=e.children;return(0,a.jsx)(r.Z,(0,i.Z)((0,i.Z)({elevation:0},n),{},{children:(0,a.jsx)(o.Z,{variant:"regular",sx:{bgcolor:function(e){return"light"===e.palette.mode?s.s[100]:null},color:function(e){return"light"===e.palette.mode?"#000":null},pr:0},children:t})}))}},79723:function(e,n,t){t.d(n,{N:function(){return o}});var i=t(70885),r=t(72791),o=function(e,n){var t=(0,r.useState)(e),o=(0,i.Z)(t,2),s=o[0],a=o[1];return(0,r.useEffect)((function(){var t=setTimeout((function(){a(e)}),n);return function(){clearTimeout(t)}}),[e,n]),s}},54596:function(e,n,t){var i=t(52797),r=t(74142);n.Z=function(){var e=(0,r.Z)();return{isMobile:(0,i.Z)(e.breakpoints.down("sm")),isMed:(0,i.Z)(e.breakpoints.down("md")),isLg:(0,i.Z)(e.breakpoints.down("lg")),isXl:(0,i.Z)(e.breakpoints.down("xl"))}}},31651:function(e,n,t){t.d(n,{Z:function(){return s}});t(72791);var i={parentClass:"LoadingLogo_parentClass__NFHXT",loadingLogo:"LoadingLogo_loadingLogo__BqUtz",loadingParent:"LoadingLogo_loadingParent__VASnq","loading-container":"LoadingLogo_loading-container__cjLsJ","whole-page":"LoadingLogo_whole-page__DkCG7",ldsFacebook:"LoadingLogo_ldsFacebook__pRdY2","lds-facebook":"LoadingLogo_lds-facebook__JLntj"},r=t(77783),o=t(80184);function s(e){return(0,o.jsxs)("div",{className:"".concat(i.parentClass," w-100"),children:[(0,o.jsx)("div",{children:(0,o.jsx)("div",{className:i.loadingLogo,children:(0,o.jsx)("img",{src:r,className:"".concat(i.logoImg," d-inline-block"),alt:"logo"})})}),(0,o.jsx)("div",{className:i.loadingParent,children:(0,o.jsxs)("div",{className:i.ldsFacebook,children:[(0,o.jsx)("div",{}),(0,o.jsx)("div",{}),(0,o.jsx)("div",{})]})}),(0,o.jsxs)("div",{className:i.secfont,children:["Loading ",e.message," ..."]})]})}},51372:function(e,n,t){var i;t.d(n,{K:function(){return i}}),function(e){e.TABLE="table",e.CARD="card"}(i||(i={}))}}]);
//# sourceMappingURL=471.582bb9eb.chunk.js.map