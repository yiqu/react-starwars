import{u as y,b as c,a5 as P,m as A,r as b,R as t,a as r,G as m,Y as I}from"./index-6f160e43.js";import{A as R}from"./Toolbar-38014177.js";import{u as T}from"./useIsMobile-6dae06e0.js";import{E as k}from"./ErrorPage-1875f54f.js";import{S as L}from"./SimpleGridDisplay-50dfc8a3.js";import{L as v}from"./LoadingLogo-586d5d05.js";import{s as w,a as C,b as F,S as G}from"./SearchAutoComplete-8f44fb6d.js";import"./index-071cd14f.js";import"./LayoutWithGutter-35589a00.js";import"./LoadingLogo.module-1e2568ff.js";import"./CircleProgress-c6639d1f.js";import"./useDebounce-ab0edeff.js";const e="starships";function J(){const{isMobile:o}=T(),l=y(),n=c(w(e)),p=c(C(e)),{data:s,isFetching:u,isLoading:g,error:i,isSuccess:d,isError:E,refetch:N}=P({entity:e,pagination:{page:n}}),f=A.useNavigate();b.useEffect(()=>{F("top-pagination",300,"end")},[d]);const h=(a,x)=>{l(I({entityId:e,pagination:{page:x}}))},S=a=>{f(`./${a==null?void 0:a.uid}`)};return g?t.createElement(r.Stack,{direction:"column",width:"100%",justifyContent:"center",alignItems:"center",height:"100vh"},t.createElement(v,{message:e})):E?t.createElement(k,{reason:i.status,debug:i.error}):s?t.createElement(r.Stack,{direction:"column",width:"100%"},t.createElement(R,{toolbarProps:{position:"sticky",sx:{top:o?"56px":"64px"}}},t.createElement(m,{container:!0,xs:12},t.createElement(m,{xs:10,sm:4},t.createElement(r.Stack,{direction:"row",justifyContent:"start",alignItems:"center"},t.createElement(G,{entity:e,onResultSelect:S}))))),t.createElement(r.Box,{mt:2,mx:o?2:0},t.createElement(L,{data:s.results,itemUrlPath:e,totalPages:p,page:n,onPaged:h,totalRecords:s.total_records,isFetching:u}))):t.createElement(t.Fragment,null)}export{J as default};
