import{z as d,r as i,a9 as x,aa as E,l as I,a as T,b as l,j as s}from"./index-bdb862c7.js";import"./index-9ec87944.js";import{P as O}from"./CircleProgress-ece8a92a.js";import{u as V}from"./useDebounce-97d480f2.js";const g=n=>n.swapiConfig,B=n=>d.createSelector(g,o=>{var a,t;return((t=(a=o.pagination[n])==null?void 0:a.pagination)==null?void 0:t.page)??1}),H=n=>d.createSelector(g,o=>{var a,t;return((t=(a=o.pagination[n])==null?void 0:a.pagination)==null?void 0:t.total_pages)??0});function $(n,o,a){let t=document.getElementById(n);t&&setTimeout(()=>{t==null||t.scrollIntoView({block:a??"end"}),t=null},o??0)}function z({entity:n,onResultSelect:o}){const[a,t]=i.useState([]),[m,f]=i.useState(null),[h,S]=i.useState(null),u=V(h,600),{data:c,isFetching:p,error:P,isError:j,refetch:k}=x(u?{entity:n,name:u}:E.skipToken);i.useEffect(()=>{t(c??[])},[c]),I.useUpdateEffect(()=>{},[u]);const C=e=>{t(e?[e]:a),f(e),o(e)},b=(e,r)=>{S(r)};return T(l.Stack,{direction:"row",justifyContent:"start",alignItems:"center",width:"100%",children:[s(l.Autocomplete,{disablePortal:!0,id:"search-entity-autocomplete",options:a,fullWidth:!0,autoHighlight:!0,blurOnSelect:!0,filterOptions:e=>e,value:m,getOptionLabel:e=>e.properties.name,noOptionsText:`Search for ${n}`,loading:p,renderInput:e=>s(w,{params:e,entity:n}),onChange:(e,r)=>{C(r)},onInputChange:(e,r)=>b(e,r),isOptionEqualToValue:(e,r)=>e.uid===r.uid}),s(l.Box,{ml:2,children:p&&s(O,{size:20})})]})}function w({params:n,entity:o}){return s(l.TextField,{...n,label:`Filter ${o}`,variant:"standard"})}export{z as S,H as a,$ as b,B as s};
