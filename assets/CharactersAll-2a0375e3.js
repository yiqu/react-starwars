import{b as s,u as C,r as S,ac as p,R as e,a as n,G as a,_ as d,B as f,ad as y,ae as A,af as u,ag as x,ah as E,m as I,ai as g}from"./index-6f160e43.js";import{A as w}from"./Toolbar-38014177.js";import{u as L}from"./useIsMobile-6dae06e0.js";import{F as P}from"./FilterInput-87db11a2.js";import{P as G}from"./CircleProgress-c6639d1f.js";import{S as b}from"./SimpleGridDisplay-50dfc8a3.js";import{s as j,c as k,f as T,a as _,e as $}from"./characters.selectors-87466f2f.js";import{L as U}from"./LoadingLogo-586d5d05.js";import"./index-071cd14f.js";import"./useDebounce-ab0edeff.js";import"./LayoutWithGutter-35589a00.js";import"./LoadingLogo.module-1e2568ff.js";const J=()=>{s(j);const i=s(k),o=s(T),c=s(_),r=s($),{isMobile:l}=L(),t=C(),h=S.useCallback(m=>{m&&m.trim()!==""?t(p({name:m})):t(p())},[t]);return o?e.createElement(n.Stack,{direction:"column",width:"100%",justifyContent:"center",alignItems:"center",height:"100vh"},e.createElement(U,{message:"characters"})):e.createElement(n.Stack,{direction:"column",width:"100%"},e.createElement(w,{toolbarProps:{position:"sticky",sx:{top:l?"56px":"64px"}}},e.createElement(a,{container:!0,xs:12,flexDirection:{xs:"row",sm:"row"},justifyContent:"space-between",alignItems:"center"},e.createElement(a,{xs:10,sm:4},e.createElement(n.Stack,{direction:"row",justifyContent:"start",alignItems:"center"},e.createElement(a,{container:!0,xs:12},e.createElement(a,{xs:8},e.createElement(P,{filterChange:h,currentText:r==null?void 0:r.name})),e.createElement(a,{xs:2,sx:{display:"flex"},justifyContent:"center",alignItems:"center"},c&&e.createElement(G,{size:20}))))),e.createElement(a,{xs:2,sm:8},e.createElement(n.Stack,{direction:"row",justifyContent:"flex-end",alignItems:"center"})))),e.createElement(b,{data:i,itemUrlPath:"characters"}))};async function K({params:i}){const o=d(f,"planets",{limit:y,page:A}),c=u(o).pipe(x(0),E(t=>t.response.results)),r=d(f,"people/:id",{id:i.characterId}),l=u(r).pipe(x(0),E(t=>t.response.result.properties));return I.defer({character:await g(l),planets:g(c)})}export{J as default,K as loaderWithPlanets};
