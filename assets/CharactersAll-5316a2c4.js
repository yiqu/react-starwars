import{d as a,u as j,r as y,af as d,j as e,b as i,a as m,G as r,_ as f,B as u,ag as A,ah as I,ai as h,aj as x,ak as g,m as w,al as C}from"./index-5060898d.js";import{A as L}from"./Toolbar-05b6d7dd.js";import{u as P}from"./useIsMobile-769c20ce.js";import{F as k}from"./FilterInput-8a920d9c.js";import{P as G}from"./CircleProgress-a0ade709.js";import{S as b}from"./SimpleGridDisplay-ab58e9aa.js";import{s as T,c as _,f as E,a as $,e as U}from"./characters.selectors-87c53431.js";import{L as D}from"./LoadingLogo-6b9f6c77.js";import"./index-abe2338a.js";import"./useDebounce-cb57956f.js";import"./LayoutWithGutter-2eecc156.js";import"./LoadingLogo.module-1e2568ff.js";const Q=()=>{a(T);const n=a(_),o=a(E),c=a($),s=a(U),{isMobile:l}=P(),t=j(),S=y.useCallback(p=>{p&&p.trim()!==""?t(d({name:p})):t(d())},[t]);return o?e(i.Stack,{direction:"column",width:"100%",justifyContent:"center",alignItems:"center",height:"100vh",children:e(D,{message:"characters"})}):m(i.Stack,{direction:"column",width:"100%",children:[e(L,{toolbarProps:{position:"sticky",sx:{top:l?"56px":"64px"}},children:m(r,{container:!0,xs:12,flexDirection:{xs:"row",sm:"row"},justifyContent:"space-between",alignItems:"center",children:[e(r,{xs:10,sm:4,children:e(i.Stack,{direction:"row",justifyContent:"start",alignItems:"center",children:m(r,{container:!0,xs:12,children:[e(r,{xs:8,children:e(k,{filterChange:S,currentText:s==null?void 0:s.name})}),e(r,{xs:2,sx:{display:"flex"},justifyContent:"center",alignItems:"center",children:c&&e(G,{size:20})})]})})}),e(r,{xs:2,sm:8,children:e(i.Stack,{direction:"row",justifyContent:"flex-end",alignItems:"center"})})]})}),e(b,{data:n,itemUrlPath:"characters"})]})};async function R({params:n}){const o=f(u,"planets",{limit:A,page:I}),c=h(o).pipe(x(0),g(t=>t.response.results)),s=f(u,"people/:id",{id:n.characterId}),l=h(s).pipe(x(0),g(t=>t.response.result.properties));return w.defer({character:await C(l),planets:C(c)})}export{Q as default,R as loaderWithPlanets};
