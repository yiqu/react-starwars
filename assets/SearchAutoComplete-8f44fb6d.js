import{x as m,r as i,a8 as b,a9 as x,l as I,R as s,a as l}from"./index-6f160e43.js";import"./index-071cd14f.js";import{P as T}from"./CircleProgress-c6639d1f.js";import{u as O}from"./useDebounce-ab0edeff.js";const g=n=>n.swapiConfig,B=n=>m.createSelector(g,o=>{var a,t;return((t=(a=o.pagination[n])==null?void 0:a.pagination)==null?void 0:t.page)??1}),H=n=>m.createSelector(g,o=>{var a,t;return((t=(a=o.pagination[n])==null?void 0:a.pagination)==null?void 0:t.total_pages)??0});function $(n,o,a){let t=document.getElementById(n);t&&setTimeout(()=>{t==null||t.scrollIntoView({block:a??"end"}),t=null},o??0)}function R({entity:n,onResultSelect:o}){const[a,t]=i.useState([]),[d,f]=i.useState(null),[E,h]=i.useState(null),u=O(E,600),{data:c,isFetching:p,error:w,isError:P,refetch:k}=b(u?{entity:n,name:u}:x.skipToken);i.useEffect(()=>{t(c??[])},[c]),I.useUpdateEffect(()=>{},[u]);const S=e=>{t(e?[e]:a),f(e),o(e)},C=(e,r)=>{h(r)};return s.createElement(l.Stack,{direction:"row",justifyContent:"start",alignItems:"center",width:"100%"},s.createElement(l.Autocomplete,{disablePortal:!0,id:"search-entity-autocomplete",options:a,fullWidth:!0,autoHighlight:!0,blurOnSelect:!0,filterOptions:e=>e,value:d,getOptionLabel:e=>e.properties.name,noOptionsText:`Search for ${n}`,loading:p,renderInput:e=>s.createElement(V,{params:e,entity:n}),onChange:(e,r)=>{S(r)},onInputChange:(e,r)=>C(e,r),isOptionEqualToValue:(e,r)=>e.uid===r.uid}),s.createElement(l.Box,{ml:2},p&&s.createElement(T,{size:20})))}function V({params:n,entity:o}){return s.createElement(l.TextField,{...n,label:`Filter ${o}`,variant:"standard"})}export{R as S,H as a,$ as b,B as s};
