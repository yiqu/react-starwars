import{u as E,d as c,aa as P,m as A,r as b,j as t,b as a,F as j,a as I,G as p,a0 as T}from"./index-8b2bfcf0.js";import{A as k}from"./Toolbar-e65c1559.js";import{u as F}from"./useIsMobile-fa496d3d.js";import{E as L}from"./ErrorPage-d8dfd105.js";import{S as v}from"./SimpleGridDisplay-edd3f106.js";import{L as w}from"./LoadingLogo-21fc09d7.js";import{s as C,a as G,b as N,S as R}from"./SearchAutoComplete-ef5795f4.js";import"./index-9974485d.js";import"./LayoutWithGutter-164365bd.js";import"./LoadingLogo.module-1e2568ff.js";import"./CircleProgress-8d8d15c0.js";import"./useDebounce-9c12ec2f.js";const e="species";function O(){const{isMobile:o}=F(),l=E(),i=c(C(e)),m=c(G(e)),{data:s,isFetching:d,isLoading:u,error:n,isSuccess:g,isError:h,refetch:_}=P({entity:e,pagination:{page:i}}),f=A.useNavigate();b.useEffect(()=>{N("top-pagination",300,"end")},[g]);const S=(r,y)=>{l(T({entityId:e,pagination:{page:y}}))},x=r=>{f(`./${r==null?void 0:r.uid}`)};return u?t(a.Stack,{direction:"column",width:"100%",justifyContent:"center",alignItems:"center",height:"100vh",children:t(w,{message:e})}):h?t(L,{reason:n.status,debug:n.error}):s?I(a.Stack,{direction:"column",width:"100%",children:[t(k,{toolbarProps:{position:"sticky",sx:{top:o?"56px":"64px"}},children:t(p,{container:!0,xs:12,children:t(p,{xs:10,sm:4,children:t(a.Stack,{direction:"row",justifyContent:"start",alignItems:"center",children:t(R,{entity:e,onResultSelect:x})})})})}),t(a.Box,{mt:2,mx:o?2:0,children:t(v,{data:s.results,itemUrlPath:e,totalPages:m,page:i,onPaged:S,totalRecords:s.total_records,isFetching:d})})]}):t(j,{})}export{O as default};
