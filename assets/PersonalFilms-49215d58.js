import{r as y,l as D,_ as C,a as n,G as s,j as e,A as w,b as t,m as x,F as k,q as F,v as P}from"./index-00f0d532.js";import{u as j,a as M}from"./axios-d9959b0f.js";import{f as u,g as E}from"./index-1c80659c.js";import{P as T}from"./CircleProgress-aeff5ca0.js";import{A as L}from"./Toolbar-47176937.js";import{D as m}from"./general.model-1fceca1f.js";import{u as A}from"./useIsMobile-50f27cf7.js";import{D as R}from"./DateDisplay-a5b6aa08.js";import"./index-0acd1d4d.js";const B=r=>{const o=[];return r&&Object.keys(r).forEach(a=>{o.push({fireId:a,...r[a]})}),o},I="https://kq-1-1a499.firebaseio.com/",$=({user:r,params:o})=>{const[c,a]=y.useState();D.useDeepCompareEffect(()=>{const l=C(I,"/swdb/:user/added-films.json",{user:"yqu",...o});a(l)},[r,o]);const{data:i,isValidating:p,error:d,isLoading:f}=j(()=>c||null,l=>M(l,2e3),{shouldRetryOnError:!1,revalidateOnFocus:!1,revalidateIfStale:!1});return{personalFilms:i&&B(i),personalFilmsLoading:f,personalFilmsValidating:p,personalFilmsError:d}},q=$,z=({count:r})=>n(s,{direction:"column",padding:2,xs:12,children:[e(s,{xs:12,md:6,children:e(u,{variant:"text",sx:{fontSize:"2rem"}})}),e(s,{container:!0,spacing:2,children:w.times(r,o=>n(s,{xs:12,sm:12,md:!0,children:[n(E,{direction:"row",sx:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[e(u,{variant:"text",sx:{fontSize:"2rem",width:"10rem"}}),e(u,{variant:"circular",width:40,height:40})]}),e(u,{variant:"rectangular",height:"30rem"})]},o))})]}),O=z;function _({title:r,canon:o,characters:c,director:a,fireId:i,openingCrawl:p,planets:d,species:f,starships:l,vehicles:g}){return n(t.Card,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-between"},elevation:4,children:[n("div",{children:[e(t.CardMedia,{component:"img",alt:"poster",height:"440",image:"/assets/film/sw-blk-logo.png",sx:{backgroundColor:"#000",objectFit:"contain"}}),n(t.CardContent,{children:[n(t.Stack,{direction:{lg:"column",xl:"row"},justifyContent:{xl:"space-between",lg:"flex-start"},marginBottom:{lg:"10px",xl:"0px"},children:[e(t.Typography,{gutterBottom:!0,variant:"h5",component:x.Link,to:`./${i}`,sx:{fontFamily:"Poppins",fontWeight:"500"},children:r}),e(t.Typography,{variant:"h5",color:"text.secondary",sx:{fontWeight:"300"}})]}),n(t.Stack,{spacing:1,children:[n(t.Typography,{variant:"body2",color:"text.secondary",children:["Released: ",e(R,{date:0,format:"MMM Do YYYY"})]}),n(t.Typography,{variant:"body2",color:"text.secondary",children:["Directed by: ",a]}),n(t.Typography,{variant:"body2",color:"text.secondary",children:["Produced by: ","producer"]}),e(t.Typography,{variant:"body2",color:"text.primary",children:p})]})]})]}),e(t.CardActions,{sx:{display:"flex",justifyContent:"space-between"},children:e("div",{children:e(t.Button,{size:"small",component:x.Link,to:`./${i}`,children:"Learn More"})})})]})}function X(){const[r,o]=y.useState(0),{isMobile:c}=A(),[a,i]=x.useSearchParams(),p=a.get("moviePageDisplayMode"),[d,f]=y.useState(p),{personalFilms:l,personalFilmsLoading:g,personalFilmsError:S,personalFilmsValidating:U}=q({user:"yqu",params:{fetchTime:r}}),v=()=>{const h={moviePageDisplayMode:b(d)};i(h)};return g?e(O,{count:4}):S?e("div",{children:"Error Page"}):n(k,{children:[e(L,{toolbarProps:{position:"sticky",sx:{top:c?"56px":"64px"}},children:n(s,{container:!0,xs:12,flexDirection:{xs:"row",sm:"row"},justifyContent:"space-between",alignItems:"center",children:[e(s,{xs:10,sm:4,children:e(t.Stack,{direction:"row",justifyContent:"start",alignItems:"center",children:g&&e(T,{size:20})})}),e(s,{xs:2,sm:8,children:e(t.Stack,{direction:"row",justifyContent:"flex-end",alignItems:"center",children:e(t.Tooltip,{title:`Switch to ${b(d)}`,children:e(t.IconButton,{onClick:v,children:d===m.CARD?e(F,{}):e(P,{})})})})})]})}),e(t.Stack,{direction:"column",p:2,width:"100%",children:e(s,{container:!0,disableEqualOverflow:!0,rowSpacing:4,children:l==null?void 0:l.map(h=>e(s,{xs:12,sm:4,smOffset:4,children:e(_,{...h})},h.fireId))})})]})}const b=r=>r?r===m.CARD?m.TABLE:m.CARD:m.CARD;export{X as default};
