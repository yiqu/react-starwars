import{R as e,a as t,u as S,m as b,r as y,aa as D,ab as I,G as c,$ as w,a0 as L,y as T,a1 as R}from"./index-6f160e43.js";import{P as _}from"./CircleProgress-c6639d1f.js";import{A as j}from"./Toolbar-38014177.js";import{u as A}from"./useIsMobile-6dae06e0.js";import{L as B}from"./LoadingLogo-586d5d05.js";import{E as H}from"./ErrorPage-1875f54f.js";import{L as W}from"./LayoutWithGutter-35589a00.js";import"./index-071cd14f.js";import"./LoadingLogo.module-1e2568ff.js";function P({editable:o,onDialogClose:n,open:m,title:l,apiLoading:r,hasErrorMsg:s}){const u=()=>{n(o)},i=()=>{n(void 0)},p=(E,d)=>{d==="backdropClick"&&i()};return e.createElement(t.Dialog,{onClose:p,open:m,fullWidth:!0,id:"edit-dialog",maxWidth:"sm"},e.createElement(t.DialogTitle,null,s&&e.createElement(t.Stack,{width:"100%",pb:2},e.createElement(t.Alert,{severity:"error",sx:{borderRadius:"20px"}},e.createElement(t.AlertTitle,null,"Error"),s)),l),e.createElement(t.DialogContent,null,"Mock Edit..."),e.createElement(t.DialogActions,null,e.createElement(t.Button,{onClick:i},"Cancel"),e.createElement(t.Button,{onClick:u},r?"Working...":"Submit"," ")))}function K(){var f;const{isMobile:o}=A();S();const{specieId:n}=b.useParams(),[m,l]=y.useState(!1),{data:r,isLoading:s,isFetching:u,error:i,isError:p,refetch:E}=D(n),[d,g]=I(),x=y.useMemo(()=>{let a=[];return a=M.map(h=>({key:h,value:`${r==null?void 0:r.result.properties[h]}`})),a},[r]),k=()=>{E()},v=()=>{l(!0)},C=a=>{a?d({entityId:n,editable:a}):l(!1)};return s?e.createElement(t.Stack,{direction:"column",width:"100%",justifyContent:"center",alignItems:"center",height:"100vh"},e.createElement(B,{message:"species"})):p?e.createElement(H,{reason:i.status,debug:i.error}):r?e.createElement(t.Stack,{direction:"column",width:"100%"},e.createElement(j,{toolbarProps:{position:"sticky",sx:{top:o?"56px":"64px"}}},e.createElement(c,{container:!0,xs:12,flexDirection:{xs:"row",sm:"row"},justifyContent:"space-between",alignItems:"center"},e.createElement(c,{xs:10,sm:4},e.createElement(t.Stack,{direction:"row",justifyContent:"start",alignItems:"center"},e.createElement(t.Button,{startIcon:e.createElement(w,null),variant:"text",onClick:k},"Refresh"),e.createElement(t.Divider,{orientation:"vertical",variant:"middle",flexItem:!0,sx:{mr:1,ml:1}}),e.createElement(t.Button,{startIcon:e.createElement(L,null),variant:"text",onClick:v},"Edit"))),e.createElement(c,{xs:2,sm:8},e.createElement(t.Stack,{direction:"row",justifyContent:"flex-end",alignItems:"center"},u&&e.createElement(_,{size:20}))))),e.createElement(t.Box,{mt:2,m:o?2:0},e.createElement(W,{size:"med"},e.createElement(c,{xs:12,sx:{border:"1px solid #ddd",borderRadius:"10px",p:2}},e.createElement(t.Stack,{direction:"row",justifyContent:"start",alignItems:"center"},e.createElement(t.Typography,{variant:"h4",sx:{fontWeight:500},mr:2},r.result.properties.name),e.createElement(t.Typography,{variant:"body1"},"(",r.result.properties.classification,")")),e.createElement(t.Divider,{sx:{my:2}}),e.createElement(t.Stack,{direction:"column"},x.map(a=>e.createElement(t.Box,{key:a.key,mb:1},e.createElement(t.Stack,{direction:"row",justifyContent:"start",alignItems:"center"},e.createElement(t.Typography,{variant:"h6",fontWeight:300},T.startCase(a.key)),e.createElement(t.Typography,{mr:1.5},":"),e.createElement(t.Typography,{variant:"h5"},R(a.value)?(+a.value).toLocaleString():a.value)))))))),e.createElement(P,{open:m,title:`Edit ${r.result.properties.name}`,editable:r.result.properties,onDialogClose:C,apiLoading:g.isLoading,hasErrorMsg:(f=g.error)==null?void 0:f.error})):e.createElement(e.Fragment,null)}const M=["language","designation","average_height","average_lifespan","hair_colors","skin_colors","eye_colors"];export{K as default};
