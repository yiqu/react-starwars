import{u as E,d as c,a8 as P,m as A,r as b,j as t,b as s,F as j,a as I,G as p,a0 as T}from"./index-112805ff.js";import{A as k}from"./Toolbar-6a658fb3.js";import{u as F}from"./useIsMobile-8c3aa3bd.js";import{E as L}from"./ErrorPage-81a22346.js";import{S as v}from"./SimpleGridDisplay-243d3ec8.js";import{L as w}from"./LoadingLogo-c1f26817.js";import{s as C,a as G,b as N,S as R}from"./SearchAutoComplete-08017749.js";import"./index-840419c8.js";import"./LayoutWithGutter-442d62cb.js";import"./LoadingLogo.module-1e2568ff.js";import"./CircleProgress-6ea0c843.js";import"./useDebounce-2f898cc6.js";const e="starships";function O(){const{isMobile:o}=F(),l=E(),i=c(C(e)),m=c(G(e)),{data:a,isFetching:d,isLoading:u,error:n,isSuccess:g,isError:h,refetch:_}=P({entity:e,pagination:{page:i}}),f=A.useNavigate();b.useEffect(()=>{N("top-pagination",300,"end")},[g]);const S=(r,y)=>{l(T({entityId:e,pagination:{page:y}}))},x=r=>{f(`./${r==null?void 0:r.uid}`)};return u?t(s.Stack,{direction:"column",width:"100%",justifyContent:"center",alignItems:"center",height:"100vh",children:t(w,{message:e})}):h?t(L,{reason:n.status,debug:n.error}):a?I(s.Stack,{direction:"column",width:"100%",children:[t(k,{toolbarProps:{position:"sticky",sx:{top:o?"56px":"64px"}},children:t(p,{container:!0,xs:12,children:t(p,{xs:10,sm:4,children:t(s.Stack,{direction:"row",justifyContent:"start",alignItems:"center",children:t(R,{entity:e,onResultSelect:x})})})})}),t(s.Box,{mt:2,mx:o?2:0,children:t(v,{data:a.results,itemUrlPath:e,totalPages:m,page:i,onPaged:S,totalRecords:a.total_records,isFetching:d})})]}):t(j,{})}export{O as default};
