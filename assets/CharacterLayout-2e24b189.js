import{r as c,a as n,b as r,j as e,A as p,u,d as m,an as g,ao as f,G as o,m as h}from"./index-112805ff.js";import{u as d}from"./useIsMobile-8c3aa3bd.js";import{b as y,d as x}from"./characters.selectors-b8e04477.js";import{P as b}from"./CircleProgress-6ea0c843.js";import{S}from"./SimpleGridDisplay-243d3ec8.js";import"./index-840419c8.js";import"./LayoutWithGutter-442d62cb.js";const P=["gender","height","mass","skin_color","eye_color","hair_color"];function k({character:t}){d();const s=c.useCallback((i,a)=>{let l=a;return i==="height"?l=(+a*.032).toFixed(2)+" ft":i==="mass"&&(l=(+a*2.2).toFixed(0)+" lb"),l},[]);return n(r.Card,{raised:!1,children:[e(r.CardMedia,{component:"img",alt:"poster",height:"400",image:"/assets/character-any.png",title:"Film poster",sx:{objectFit:"contain",p:4}}),n(r.CardContent,{children:[n(r.Stack,{direction:"column",spacing:.5,children:[e(r.Typography,{sx:{fontWeight:"400"},children:t.name}),e(r.Typography,{sx:{fontWeight:"300"},children:t.birth_year})]}),e(r.Divider,{sx:{my:2}}),e(r.Stack,{direction:"column",sx:{fontSize:"12.5px",overflow:"auto"},children:e("table",{style:{borderSpacing:"0px 5px"},children:e("tbody",{children:P.map(i=>n("tr",{children:[e("td",{style:{width:"35%"},children:e(r.Typography,{variant:"subtitle2",children:p.startCase(i)})}),e("td",{children:p.upperFirst(s(i,t[i]))})]},i))})})})]}),e(r.CardActions,{})]})}const v=({loadedCharacter:t})=>{const{isMobile:s}=d(),i=u(),a=m(y);return m(x),c.useEffect(()=>{i(g({url:t.homeworld}))},[i,t.homeworld]),c.useEffect(()=>()=>{i(f())},[i]),n(o,{xs:12,container:!0,justifyContent:"space-between",alignItems:"start",flexDirection:{xs:"column",sm:"row"},columnSpacing:{md:2},children:[e(o,{xs:12,sm:4.3,sx:{mb:s?2:0},children:e(k,{character:t})}),e(o,{xs:12,sm:7.1,children:n(r.Stack,{direction:"column",spacing:2,children:[e(r.Typography,{variant:"h4",sx:{fontWeight:500,mb:2},children:t.name}),n(r.Stack,{direction:"column",spacing:1,children:[e(r.Typography,{variant:"h5",children:"Physical Description"}),e(r.Divider,{})]}),e(r.Typography,{variant:"body2",fontWeight:300,children:`${t.name} was born ${t.birth_year} with ${t.skin_color} 
                          skin color and ${t.eye_color} eyes.`}),n(r.Stack,{direction:"column",spacing:1,children:[n(r.Stack,{direction:"row",spacing:1,pt:2,children:[e(r.Typography,{variant:"h5",children:"Home Planet Properties"}),a&&e(b,{size:15,styleProps:{justifyContent:"center",alignItems:"center"},color:"#092250"})]}),e(r.Divider,{})]})]})})]})};function w({loadedPlanets:t}){return n(r.Stack,{direction:"column",spacing:2,children:[e(r.Typography,{children:"Check out other planets:"}),e(S,{data:t,itemUrlPath:"planets",gutterSize:"full"})]})}const L=()=>{d();const t=h.useLoaderData();return e(o,{xs:12,container:!0,sx:{p:2},children:e(o,{xs:12,sm:8,xsOffset:0,smOffset:2,children:n(r.Stack,{direction:"column",spacing:4,children:[e(c.Suspense,{fallback:"Loading...",children:e(h.Await,{resolve:t.character,children:s=>e(v,{loadedCharacter:s})})}),e(r.Divider,{}),e(c.Suspense,{fallback:"Loading...",children:e(h.Await,{resolve:t.planets,children:s=>e(w,{loadedPlanets:s})})})]})})})};export{L as CharacterLayout,L as default};
